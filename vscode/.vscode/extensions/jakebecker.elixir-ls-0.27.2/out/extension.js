"use strict";var Dx=Object.create;var by=Object.defineProperty;var Cx=Object.getOwnPropertyDescriptor;var Tx=Object.getOwnPropertyNames;var Ex=Object.getPrototypeOf,bx=Object.prototype.hasOwnProperty;var Oe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wx=(t,e)=>{for(var n in e)by(t,n,{get:e[n],enumerable:!0})},Bb=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Tx(e))!bx.call(t,s)&&s!==n&&by(t,s,{get:()=>e[s],enumerable:!(r=Cx(e,s))||r.enumerable});return t};var Ui=(t,e,n)=>(n=t!=null?Dx(Ex(t)):{},Bb(e||!t||!t.__esModule?by(n,"default",{value:t,enumerable:!0}):n,t)),Rx=t=>Bb(by({},"__esModule",{value:!0}),t);var _v=Oe(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.asPromise=Ds.thenable=Ds.typedArray=Ds.stringArray=Ds.array=Ds.func=Ds.error=Ds.number=Ds.string=Ds.boolean=void 0;function Px(t){return t===!0||t===!1}Ds.boolean=Px;function Qb(t){return typeof t=="string"||t instanceof String}Ds.string=Qb;function Ix(t){return typeof t=="number"||t instanceof Number}Ds.number=Ix;function Nx(t){return t instanceof Error}Ds.error=Nx;function Zb(t){return typeof t=="function"}Ds.func=Zb;function ew(t){return Array.isArray(t)}Ds.array=ew;function Ox(t){return ew(t)&&t.every(e=>Qb(e))}Ds.stringArray=Ox;function kx(t,e){return Array.isArray(t)&&t.every(e)}Ds.typedArray=kx;function tw(t){return t&&Zb(t.then)}Ds.thenable=tw;function xx(t){return t instanceof Promise?t:tw(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}Ds.asPromise=xx});var Km=Oe(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.stringArray=Cc.array=Cc.func=Cc.error=Cc.number=Cc.string=Cc.boolean=void 0;function Fx(t){return t===!0||t===!1}Cc.boolean=Fx;function nw(t){return typeof t=="string"||t instanceof String}Cc.string=nw;function Lx(t){return typeof t=="number"||t instanceof Number}Cc.number=Lx;function Ax(t){return t instanceof Error}Cc.error=Ax;function Mx(t){return typeof t=="function"}Cc.func=Mx;function rw(t){return Array.isArray(t)}Cc.array=rw;function qx(t){return rw(t)&&t.every(e=>nw(e))}Cc.stringArray=qx});var pC=Oe(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.Message=In.NotificationType9=In.NotificationType8=In.NotificationType7=In.NotificationType6=In.NotificationType5=In.NotificationType4=In.NotificationType3=In.NotificationType2=In.NotificationType1=In.NotificationType0=In.NotificationType=In.RequestType9=In.RequestType8=In.RequestType7=In.RequestType6=In.RequestType5=In.RequestType4=In.RequestType3=In.RequestType2=In.RequestType1=In.RequestType=In.RequestType0=In.AbstractMessageSignature=In.ParameterStructures=In.ResponseError=In.ErrorCodes=void 0;var gm=Km(),WD;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(WD||(In.ErrorCodes=WD={}));var KD=class t extends Error{constructor(e,n,r){super(n),this.code=gm.number(e)?e:WD.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};In.ResponseError=KD;var rf=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};In.ParameterStructures=rf;rf.auto=new rf("auto");rf.byPosition=new rf("byPosition");rf.byName=new rf("byName");var wo=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return rf.auto}};In.AbstractMessageSignature=wo;var zD=class extends wo{constructor(e){super(e,0)}};In.RequestType0=zD;var GD=class extends wo{constructor(e,n=rf.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};In.RequestType=GD;var BD=class extends wo{constructor(e,n=rf.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};In.RequestType1=BD;var VD=class extends wo{constructor(e){super(e,2)}};In.RequestType2=VD;var XD=class extends wo{constructor(e){super(e,3)}};In.RequestType3=XD;var JD=class extends wo{constructor(e){super(e,4)}};In.RequestType4=JD;var QD=class extends wo{constructor(e){super(e,5)}};In.RequestType5=QD;var ZD=class extends wo{constructor(e){super(e,6)}};In.RequestType6=ZD;var eC=class extends wo{constructor(e){super(e,7)}};In.RequestType7=eC;var tC=class extends wo{constructor(e){super(e,8)}};In.RequestType8=tC;var nC=class extends wo{constructor(e){super(e,9)}};In.RequestType9=nC;var rC=class extends wo{constructor(e,n=rf.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};In.NotificationType=rC;var iC=class extends wo{constructor(e){super(e,0)}};In.NotificationType0=iC;var oC=class extends wo{constructor(e,n=rf.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};In.NotificationType1=oC;var sC=class extends wo{constructor(e){super(e,2)}};In.NotificationType2=sC;var aC=class extends wo{constructor(e){super(e,3)}};In.NotificationType3=aC;var uC=class extends wo{constructor(e){super(e,4)}};In.NotificationType4=uC;var cC=class extends wo{constructor(e){super(e,5)}};In.NotificationType5=cC;var lC=class extends wo{constructor(e){super(e,6)}};In.NotificationType6=lC;var fC=class extends wo{constructor(e){super(e,7)}};In.NotificationType7=fC;var dC=class extends wo{constructor(e){super(e,8)}};In.NotificationType8=dC;var vC=class extends wo{constructor(e){super(e,9)}};In.NotificationType9=vC;var iw;(function(t){function e(s){let v=s;return v&&gm.string(v.method)&&(gm.string(v.id)||gm.number(v.id))}t.isRequest=e;function n(s){let v=s;return v&&gm.string(v.method)&&s.id===void 0}t.isNotification=n;function r(s){let v=s;return v&&(v.result!==void 0||!!v.error)&&(gm.string(v.id)||gm.number(v.id)||v.id===null)}t.isResponse=r})(iw||(In.Message=iw={}))});var hC=Oe(Mh=>{"use strict";var ow;Object.defineProperty(Mh,"__esModule",{value:!0});Mh.LRUCache=Mh.LinkedMap=Mh.Touch=void 0;var Tc;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Tc||(Mh.Touch=Tc={}));var Ry=class{constructor(){this[ow]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=Tc.None){let r=this._map.get(e);if(r)return n!==Tc.None&&this.touch(r,n),r.value}set(e,n,r=Tc.None){let s=this._map.get(e);if(s)s.value=n,r!==Tc.None&&this.touch(s,r);else{switch(s={key:e,value:n,next:void 0,previous:void 0},r){case Tc.None:this.addItemLast(s);break;case Tc.First:this.addItemFirst(s);break;case Tc.Last:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(e,s),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,s=this._head;for(;s;){if(n?e.bind(n)(s.value,s.key,this):e(s.value,s.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return r}[(ow=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Tc.First&&n!==Tc.Last)){if(n===Tc.First){if(e===this._head)return;let r=e.next,s=e.previous;e===this._tail?(s.next=void 0,this._tail=s):(r.previous=s,s.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Tc.Last){if(e===this._tail)return;let r=e.next,s=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=s,s.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Mh.LinkedMap=Ry;var gC=class extends Ry{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Tc.AsNew){return super.get(e,n)}peek(e){return super.get(e,Tc.None)}set(e,n){return super.set(e,n,Tc.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Mh.LRUCache=gC});var aw=Oe(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});Py.Disposable=void 0;var sw;(function(t){function e(n){return{dispose:n}}t.create=e})(sw||(Py.Disposable=sw={}))});var qh=Oe(yC=>{"use strict";Object.defineProperty(yC,"__esModule",{value:!0});var mC;function _C(){if(mC===void 0)throw new Error("No runtime abstraction layer installed");return mC}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");mC=n}t.install=e})(_C||(_C={}));yC.default=_C});var Gm=Oe(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.Emitter=zm.Event=void 0;var Ux=qh(),uw;(function(t){let e={dispose(){}};t.None=function(){return e}})(uw||(zm.Event=uw={}));var SC=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let s=0,v=this._callbacks.length;s<v;s++)if(this._callbacks[s]===e)if(this._contexts[s]===n){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),s=this._contexts.slice(0);for(let v=0,h=r.length;v<h;v++)try{n.push(r[v].apply(s[v],e))}catch(D){(0,Ux.default)().console.error(D)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Iy=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new SC),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let s={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),s.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};zm.Emitter=Iy;Iy._noop=function(){}});var ky=Oe(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.CancellationTokenSource=Bm.CancellationToken=void 0;var Hx=qh(),jx=Km(),DC=Gm(),Ny;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:DC.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:DC.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||jx.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Ny||(Bm.CancellationToken=Ny={}));var $x=Object.freeze(function(t,e){let n=(0,Hx.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),Oy=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?$x:(this._emitter||(this._emitter=new DC.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},CC=class{get token(){return this._token||(this._token=new Oy),this._token}cancel(){this._token?this._token.cancel():this._token=Ny.Cancelled}dispose(){this._token?this._token instanceof Oy&&this._token.dispose():this._token=Ny.None}};Bm.CancellationTokenSource=CC});var cw=Oe(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.SharedArrayReceiverStrategy=Vm.SharedArraySenderStrategy=void 0;var Yx=ky(),x_;(function(t){t.Continue=0,t.Cancelled=1})(x_||(x_={}));var TC=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=x_.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let s=new Int32Array(r,0,1);Atomics.store(s,0,x_.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Vm.SharedArraySenderStrategy=TC;var EC=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===x_.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},bC=class{constructor(e){this.token=new EC(e)}cancel(){}dispose(){}},wC=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Yx.CancellationTokenSource:new bC(n)}};Vm.SharedArrayReceiverStrategy=wC});var PC=Oe(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});xy.Semaphore=void 0;var Wx=qh(),RC=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Wx.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};xy.Semaphore=RC});var fw=Oe(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.ReadableStreamMessageReader=Uh.AbstractMessageReader=Uh.MessageReader=void 0;var NC=qh(),Xm=Km(),IC=Gm(),Kx=PC(),lw;(function(t){function e(n){let r=n;return r&&Xm.func(r.listen)&&Xm.func(r.dispose)&&Xm.func(r.onError)&&Xm.func(r.onClose)&&Xm.func(r.onPartialMessage)}t.is=e})(lw||(Uh.MessageReader=lw={}));var Fy=class{constructor(){this.errorEmitter=new IC.Emitter,this.closeEmitter=new IC.Emitter,this.partialMessageEmitter=new IC.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Xm.string(e.message)?e.message:"unknown"}`)}};Uh.AbstractMessageReader=Fy;var OC;(function(t){function e(n){let r,s,v,h=new Map,D,E=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(v=n.contentDecoder,h.set(v.name,v)),n.contentDecoders!==void 0)for(let I of n.contentDecoders)h.set(I.name,I);if(n.contentTypeDecoder!==void 0&&(D=n.contentTypeDecoder,E.set(D.name,D)),n.contentTypeDecoders!==void 0)for(let I of n.contentTypeDecoders)E.set(I.name,I)}return D===void 0&&(D=(0,NC.default)().applicationJson.decoder,E.set(D.name,D)),{charset:r,contentDecoder:v,contentDecoders:h,contentTypeDecoder:D,contentTypeDecoders:E}}t.fromOptions=e})(OC||(OC={}));var kC=class extends Fy{constructor(e,n){super(),this.readable=e,this.options=OC.fromOptions(n),this.buffer=(0,NC.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Kx.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let s=r.get("content-length");if(!s){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let v=parseInt(s);if(isNaN(v)){this.fireError(new Error(`Content-Length value must be a number. Got ${s}`));return}this.nextMessageLength=v}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,s=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(s)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,NC.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Uh.ReadableStreamMessageReader=kC});var hw=Oe(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.WriteableStreamMessageWriter=Hh.AbstractMessageWriter=Hh.MessageWriter=void 0;var dw=qh(),F_=Km(),zx=PC(),vw=Gm(),Gx="Content-Length: ",pw=`\r
`,gw;(function(t){function e(n){let r=n;return r&&F_.func(r.dispose)&&F_.func(r.onClose)&&F_.func(r.onError)&&F_.func(r.write)}t.is=e})(gw||(Hh.MessageWriter=gw={}));var Ly=class{constructor(){this.errorEmitter=new vw.Emitter,this.closeEmitter=new vw.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${F_.string(e.message)?e.message:"unknown"}`)}};Hh.AbstractMessageWriter=Ly;var xC;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,dw.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,dw.default)().applicationJson.encoder}}t.fromOptions=e})(xC||(xC={}));var FC=class extends Ly{constructor(e,n){super(),this.writable=e,this.options=xC.fromOptions(n),this.errorCount=0,this.writeSemaphore=new zx.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let s=[];return s.push(Gx,r.byteLength.toString(),pw),s.push(pw),this.doWrite(e,s,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(s){return this.handleError(s,e),Promise.reject(s)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Hh.WriteableStreamMessageWriter=FC});var mw=Oe(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.AbstractMessageBuffer=void 0;var Bx=13,Vx=10,Xx=`\r
`,LC=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,s=0,v=0;e:for(;r<this._chunks.length;){let I=this._chunks[r];for(s=0;s<I.length;){switch(I[s]){case Bx:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Vx:switch(n){case 1:n=2;break;case 3:n=4,s++;break e;default:n=0}break;default:n=0}s++}v+=I.byteLength,r++}if(n!==4)return;let h=this._read(v+s),D=new Map,E=this.toString(h,"ascii").split(Xx);if(E.length<2)return D;for(let I=0;I<E.length-2;I++){let M=E[I],$=M.indexOf(":");if($===-1)throw new Error(`Message header must separate key and value using ':'
${M}`);let W=M.substr(0,$),ne=M.substr($+1).trim();D.set(e?W.toLowerCase():W,ne)}return D}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let v=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(v)}if(this._chunks[0].byteLength>e){let v=this._chunks[0],h=this.asNative(v,e);return this._chunks[0]=v.slice(e),this._totalLength-=e,h}let n=this.allocNative(e),r=0,s=0;for(;e>0;){let v=this._chunks[s];if(v.byteLength>e){let h=v.slice(0,e);n.set(h,r),r+=e,this._chunks[s]=v.slice(e),this._totalLength-=e,e-=e}else n.set(v,r),r+=v.byteLength,this._chunks.shift(),this._totalLength-=v.byteLength,e-=v.byteLength}return n}};Ay.AbstractMessageBuffer=LC});var Cw=Oe(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.createMessageConnection=Er.ConnectionOptions=Er.MessageStrategy=Er.CancellationStrategy=Er.CancellationSenderStrategy=Er.CancellationReceiverStrategy=Er.RequestCancellationReceiverStrategy=Er.IdCancellationReceiverStrategy=Er.ConnectionStrategy=Er.ConnectionError=Er.ConnectionErrors=Er.LogTraceNotification=Er.SetTraceNotification=Er.TraceFormat=Er.TraceValues=Er.Trace=Er.NullLogger=Er.ProgressType=Er.ProgressToken=void 0;var _w=qh(),es=Km(),Zn=pC(),yw=hC(),L_=Gm(),AC=ky(),q_;(function(t){t.type=new Zn.NotificationType("$/cancelRequest")})(q_||(q_={}));var MC;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(MC||(Er.ProgressToken=MC={}));var A_;(function(t){t.type=new Zn.NotificationType("$/progress")})(A_||(A_={}));var qC=class{constructor(){}};Er.ProgressType=qC;var UC;(function(t){function e(n){return es.func(n)}t.is=e})(UC||(UC={}));Er.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ri;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Ri||(Er.Trace=Ri={}));var Sw;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Sw||(Er.TraceValues=Sw={}));(function(t){function e(r){if(!es.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Ri||(Er.Trace=Ri={}));var Dd;(function(t){t.Text="text",t.JSON="json"})(Dd||(Er.TraceFormat=Dd={}));(function(t){function e(n){return es.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Dd||(Er.TraceFormat=Dd={}));var HC;(function(t){t.type=new Zn.NotificationType("$/setTrace")})(HC||(Er.SetTraceNotification=HC={}));var My;(function(t){t.type=new Zn.NotificationType("$/logTrace")})(My||(Er.LogTraceNotification=My={}));var M_;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(M_||(Er.ConnectionErrors=M_={}));var Jm=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Er.ConnectionError=Jm;var jC;(function(t){function e(n){let r=n;return r&&es.func(r.cancelUndispatched)}t.is=e})(jC||(Er.ConnectionStrategy=jC={}));var qy;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&es.func(r.createCancellationTokenSource)&&(r.dispose===void 0||es.func(r.dispose))}t.is=e})(qy||(Er.IdCancellationReceiverStrategy=qy={}));var $C;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&es.func(r.createCancellationTokenSource)&&(r.dispose===void 0||es.func(r.dispose))}t.is=e})($C||(Er.RequestCancellationReceiverStrategy=$C={}));var Uy;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new AC.CancellationTokenSource}});function e(n){return qy.is(n)||$C.is(n)}t.is=e})(Uy||(Er.CancellationReceiverStrategy=Uy={}));var Hy;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(q_.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&es.func(r.sendCancellation)&&es.func(r.cleanup)}t.is=e})(Hy||(Er.CancellationSenderStrategy=Hy={}));var jy;(function(t){t.Message=Object.freeze({receiver:Uy.Message,sender:Hy.Message});function e(n){let r=n;return r&&Uy.is(r.receiver)&&Hy.is(r.sender)}t.is=e})(jy||(Er.CancellationStrategy=jy={}));var $y;(function(t){function e(n){let r=n;return r&&es.func(r.handleMessage)}t.is=e})($y||(Er.MessageStrategy=$y={}));var Dw;(function(t){function e(n){let r=n;return r&&(jy.is(r.cancellationStrategy)||jC.is(r.connectionStrategy)||$y.is(r.messageStrategy))}t.is=e})(Dw||(Er.ConnectionOptions=Dw={}));var mp;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(mp||(mp={}));function Jx(t,e,n,r){let s=n!==void 0?n:Er.NullLogger,v=0,h=0,D=0,E="2.0",I,M=new Map,$,W=new Map,ne=new Map,z,_e=new yw.LinkedMap,ge=new Map,Ae=new Set,Me=new Map,ze=Ri.Off,rt=Dd.Text,Pt,on=mp.New,we=new L_.Emitter,ke=new L_.Emitter,Qe=new L_.Emitter,dt=new L_.Emitter,It=new L_.Emitter,yt=r&&r.cancellationStrategy?r.cancellationStrategy:jy.Message;function Qt(Q){if(Q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Q.toString()}function un(Q){return Q===null?"res-unknown-"+(++D).toString():"res-"+Q.toString()}function Nn(){return"not-"+(++h).toString()}function tt(Q,Fe){Zn.Message.isRequest(Fe)?Q.set(Qt(Fe.id),Fe):Zn.Message.isResponse(Fe)?Q.set(un(Fe.id),Fe):Q.set(Nn(),Fe)}function Zr(Q){}function Ze(){return on===mp.Listening}function ut(){return on===mp.Closed}function mn(){return on===mp.Disposed}function Jt(){(on===mp.New||on===mp.Listening)&&(on=mp.Closed,ke.fire(void 0))}function Ut(Q){we.fire([Q,void 0,void 0])}function et(Q){we.fire(Q)}t.onClose(Jt),t.onError(Ut),e.onClose(Jt),e.onError(et);function _r(){z||_e.size===0||(z=(0,_w.default)().timer.setImmediate(()=>{z=void 0,Po()}))}function bt(Q){Zn.Message.isRequest(Q)?Yi(Q):Zn.Message.isNotification(Q)?dn(Q):Zn.Message.isResponse(Q)?nn(Q):ei(Q)}function Po(){if(_e.size===0)return;let Q=_e.shift();try{let Fe=r?.messageStrategy;$y.is(Fe)?Fe.handleMessage(Q,bt):bt(Q)}finally{_r()}}let fn=Q=>{try{if(Zn.Message.isNotification(Q)&&Q.method===q_.type.method){let Fe=Q.params.id,lt=Qt(Fe),it=_e.get(lt);if(Zn.Message.isRequest(it)){let Nt=r?.connectionStrategy,Un=Nt&&Nt.cancelUndispatched?Nt.cancelUndispatched(it,Zr):void 0;if(Un&&(Un.error!==void 0||Un.result!==void 0)){_e.delete(lt),Me.delete(Fe),Un.id=it.id,no(Un,Q.method,Date.now()),e.write(Un).catch(()=>s.error("Sending response for canceled message failed."));return}}let Xn=Me.get(Fe);if(Xn!==void 0){Xn.cancel(),cr(Q);return}else Ae.add(Fe)}tt(_e,Q)}finally{_r()}};function Yi(Q){if(mn())return;function Fe(yn,or,hr){let Lr={jsonrpc:E,id:Q.id};yn instanceof Zn.ResponseError?Lr.error=yn.toJson():Lr.result=yn===void 0?null:yn,no(Lr,or,hr),e.write(Lr).catch(()=>s.error("Sending response failed."))}function lt(yn,or,hr){let Lr={jsonrpc:E,id:Q.id,error:yn.toJson()};no(Lr,or,hr),e.write(Lr).catch(()=>s.error("Sending response failed."))}function it(yn,or,hr){yn===void 0&&(yn=null);let Lr={jsonrpc:E,id:Q.id,result:yn};no(Lr,or,hr),e.write(Lr).catch(()=>s.error("Sending response failed."))}cn(Q);let Xn=M.get(Q.method),Nt,Un;Xn&&(Nt=Xn.type,Un=Xn.handler);let nr=Date.now();if(Un||I){let yn=Q.id??String(Date.now()),or=qy.is(yt.receiver)?yt.receiver.createCancellationTokenSource(yn):yt.receiver.createCancellationTokenSource(Q);Q.id!==null&&Ae.has(Q.id)&&or.cancel(),Q.id!==null&&Me.set(yn,or);try{let hr;if(Un)if(Q.params===void 0){if(Nt!==void 0&&Nt.numberOfParams!==0){lt(new Zn.ResponseError(Zn.ErrorCodes.InvalidParams,`Request ${Q.method} defines ${Nt.numberOfParams} params but received none.`),Q.method,nr);return}hr=Un(or.token)}else if(Array.isArray(Q.params)){if(Nt!==void 0&&Nt.parameterStructures===Zn.ParameterStructures.byName){lt(new Zn.ResponseError(Zn.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by name but received parameters by position`),Q.method,nr);return}hr=Un(...Q.params,or.token)}else{if(Nt!==void 0&&Nt.parameterStructures===Zn.ParameterStructures.byPosition){lt(new Zn.ResponseError(Zn.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by position but received parameters by name`),Q.method,nr);return}hr=Un(Q.params,or.token)}else I&&(hr=I(Q.method,Q.params,or.token));let Lr=hr;hr?Lr.then?Lr.then(Ur=>{Me.delete(yn),Fe(Ur,Q.method,nr)},Ur=>{Me.delete(yn),Ur instanceof Zn.ResponseError?lt(Ur,Q.method,nr):Ur&&es.string(Ur.message)?lt(new Zn.ResponseError(Zn.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${Ur.message}`),Q.method,nr):lt(new Zn.ResponseError(Zn.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,nr)}):(Me.delete(yn),Fe(hr,Q.method,nr)):(Me.delete(yn),it(hr,Q.method,nr))}catch(hr){Me.delete(yn),hr instanceof Zn.ResponseError?Fe(hr,Q.method,nr):hr&&es.string(hr.message)?lt(new Zn.ResponseError(Zn.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${hr.message}`),Q.method,nr):lt(new Zn.ResponseError(Zn.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,nr)}}else lt(new Zn.ResponseError(Zn.ErrorCodes.MethodNotFound,`Unhandled method ${Q.method}`),Q.method,nr)}function nn(Q){if(!mn())if(Q.id===null)Q.error?s.error(`Received response message without id: Error is: 
${JSON.stringify(Q.error,void 0,4)}`):s.error("Received response message without id. No further error information provided.");else{let Fe=Q.id,lt=ge.get(Fe);if(Hi(Q,lt),lt!==void 0){ge.delete(Fe);try{if(Q.error){let it=Q.error;lt.reject(new Zn.ResponseError(it.code,it.message,it.data))}else if(Q.result!==void 0)lt.resolve(Q.result);else throw new Error("Should never happen.")}catch(it){it.message?s.error(`Response handler '${lt.method}' failed with message: ${it.message}`):s.error(`Response handler '${lt.method}' failed unexpectedly.`)}}}}function dn(Q){if(mn())return;let Fe,lt;if(Q.method===q_.type.method){let it=Q.params.id;Ae.delete(it),cr(Q);return}else{let it=W.get(Q.method);it&&(lt=it.handler,Fe=it.type)}if(lt||$)try{if(cr(Q),lt)if(Q.params===void 0)Fe!==void 0&&Fe.numberOfParams!==0&&Fe.parameterStructures!==Zn.ParameterStructures.byName&&s.error(`Notification ${Q.method} defines ${Fe.numberOfParams} params but received none.`),lt();else if(Array.isArray(Q.params)){let it=Q.params;Q.method===A_.type.method&&it.length===2&&MC.is(it[0])?lt({token:it[0],value:it[1]}):(Fe!==void 0&&(Fe.parameterStructures===Zn.ParameterStructures.byName&&s.error(`Notification ${Q.method} defines parameters by name but received parameters by position`),Fe.numberOfParams!==Q.params.length&&s.error(`Notification ${Q.method} defines ${Fe.numberOfParams} params but received ${it.length} arguments`)),lt(...it))}else Fe!==void 0&&Fe.parameterStructures===Zn.ParameterStructures.byPosition&&s.error(`Notification ${Q.method} defines parameters by position but received parameters by name`),lt(Q.params);else $&&$(Q.method,Q.params)}catch(it){it.message?s.error(`Notification handler '${Q.method}' failed with message: ${it.message}`):s.error(`Notification handler '${Q.method}' failed unexpectedly.`)}else Qe.fire(Q)}function ei(Q){if(!Q){s.error("Received empty message.");return}s.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Q,null,4)}`);let Fe=Q;if(es.string(Fe.id)||es.number(Fe.id)){let lt=Fe.id,it=ge.get(lt);it&&it.reject(new Error("The received response has neither a result nor an error property."))}}function Xt(Q){if(Q!=null)switch(ze){case Ri.Verbose:return JSON.stringify(Q,null,4);case Ri.Compact:return JSON.stringify(Q);default:return}}function fi(Q){if(!(ze===Ri.Off||!Pt))if(rt===Dd.Text){let Fe;(ze===Ri.Verbose||ze===Ri.Compact)&&Q.params&&(Fe=`Params: ${Xt(Q.params)}

`),Pt.log(`Sending request '${Q.method} - (${Q.id})'.`,Fe)}else Fr("send-request",Q)}function Kn(Q){if(!(ze===Ri.Off||!Pt))if(rt===Dd.Text){let Fe;(ze===Ri.Verbose||ze===Ri.Compact)&&(Q.params?Fe=`Params: ${Xt(Q.params)}

`:Fe=`No parameters provided.

`),Pt.log(`Sending notification '${Q.method}'.`,Fe)}else Fr("send-notification",Q)}function no(Q,Fe,lt){if(!(ze===Ri.Off||!Pt))if(rt===Dd.Text){let it;(ze===Ri.Verbose||ze===Ri.Compact)&&(Q.error&&Q.error.data?it=`Error data: ${Xt(Q.error.data)}

`:Q.result?it=`Result: ${Xt(Q.result)}

`:Q.error===void 0&&(it=`No result returned.

`)),Pt.log(`Sending response '${Fe} - (${Q.id})'. Processing request took ${Date.now()-lt}ms`,it)}else Fr("send-response",Q)}function cn(Q){if(!(ze===Ri.Off||!Pt))if(rt===Dd.Text){let Fe;(ze===Ri.Verbose||ze===Ri.Compact)&&Q.params&&(Fe=`Params: ${Xt(Q.params)}

`),Pt.log(`Received request '${Q.method} - (${Q.id})'.`,Fe)}else Fr("receive-request",Q)}function cr(Q){if(!(ze===Ri.Off||!Pt||Q.method===My.type.method))if(rt===Dd.Text){let Fe;(ze===Ri.Verbose||ze===Ri.Compact)&&(Q.params?Fe=`Params: ${Xt(Q.params)}

`:Fe=`No parameters provided.

`),Pt.log(`Received notification '${Q.method}'.`,Fe)}else Fr("receive-notification",Q)}function Hi(Q,Fe){if(!(ze===Ri.Off||!Pt))if(rt===Dd.Text){let lt;if((ze===Ri.Verbose||ze===Ri.Compact)&&(Q.error&&Q.error.data?lt=`Error data: ${Xt(Q.error.data)}

`:Q.result?lt=`Result: ${Xt(Q.result)}

`:Q.error===void 0&&(lt=`No result returned.

`)),Fe){let it=Q.error?` Request failed: ${Q.error.message} (${Q.error.code}).`:"";Pt.log(`Received response '${Fe.method} - (${Q.id})' in ${Date.now()-Fe.timerStart}ms.${it}`,lt)}else Pt.log(`Received response ${Q.id} without active response promise.`,lt)}else Fr("receive-response",Q)}function Fr(Q,Fe){if(!Pt||ze===Ri.Off)return;let lt={isLSPMessage:!0,type:Q,message:Fe,timestamp:Date.now()};Pt.log(lt)}function Bn(){if(ut())throw new Jm(M_.Closed,"Connection is closed.");if(mn())throw new Jm(M_.Disposed,"Connection is disposed.")}function pr(){if(Ze())throw new Jm(M_.AlreadyListening,"Connection is already listening")}function Si(){if(!Ze())throw new Error("Call listen() first.")}function Kr(Q){return Q===void 0?null:Q}function tr(Q){if(Q!==null)return Q}function gn(Q){return Q!=null&&!Array.isArray(Q)&&typeof Q=="object"}function En(Q,Fe){switch(Q){case Zn.ParameterStructures.auto:return gn(Fe)?tr(Fe):[Kr(Fe)];case Zn.ParameterStructures.byName:if(!gn(Fe))throw new Error("Received parameters by name but param is not an object literal.");return tr(Fe);case Zn.ParameterStructures.byPosition:return[Kr(Fe)];default:throw new Error(`Unknown parameter structure ${Q.toString()}`)}}function gr(Q,Fe){let lt,it=Q.numberOfParams;switch(it){case 0:lt=void 0;break;case 1:lt=En(Q.parameterStructures,Fe[0]);break;default:lt=[];for(let Xn=0;Xn<Fe.length&&Xn<it;Xn++)lt.push(Kr(Fe[Xn]));if(Fe.length<it)for(let Xn=Fe.length;Xn<it;Xn++)lt.push(null);break}return lt}let mo={sendNotification:(Q,...Fe)=>{Bn();let lt,it;if(es.string(Q)){lt=Q;let Nt=Fe[0],Un=0,nr=Zn.ParameterStructures.auto;Zn.ParameterStructures.is(Nt)&&(Un=1,nr=Nt);let yn=Fe.length,or=yn-Un;switch(or){case 0:it=void 0;break;case 1:it=En(nr,Fe[Un]);break;default:if(nr===Zn.ParameterStructures.byName)throw new Error(`Received ${or} parameters for 'by Name' notification parameter structure.`);it=Fe.slice(Un,yn).map(hr=>Kr(hr));break}}else{let Nt=Fe;lt=Q.method,it=gr(Q,Nt)}let Xn={jsonrpc:E,method:lt,params:it};return Kn(Xn),e.write(Xn).catch(Nt=>{throw s.error("Sending notification failed."),Nt})},onNotification:(Q,Fe)=>{Bn();let lt;return es.func(Q)?$=Q:Fe&&(es.string(Q)?(lt=Q,W.set(Q,{type:void 0,handler:Fe})):(lt=Q.method,W.set(Q.method,{type:Q,handler:Fe}))),{dispose:()=>{lt!==void 0?W.delete(lt):$=void 0}}},onProgress:(Q,Fe,lt)=>{if(ne.has(Fe))throw new Error(`Progress handler for token ${Fe} already registered`);return ne.set(Fe,lt),{dispose:()=>{ne.delete(Fe)}}},sendProgress:(Q,Fe,lt)=>mo.sendNotification(A_.type,{token:Fe,value:lt}),onUnhandledProgress:dt.event,sendRequest:(Q,...Fe)=>{Bn(),Si();let lt,it,Xn;if(es.string(Q)){lt=Q;let yn=Fe[0],or=Fe[Fe.length-1],hr=0,Lr=Zn.ParameterStructures.auto;Zn.ParameterStructures.is(yn)&&(hr=1,Lr=yn);let Ur=Fe.length;AC.CancellationToken.is(or)&&(Ur=Ur-1,Xn=or);let di=Ur-hr;switch(di){case 0:it=void 0;break;case 1:it=En(Lr,Fe[hr]);break;default:if(Lr===Zn.ParameterStructures.byName)throw new Error(`Received ${di} parameters for 'by Name' request parameter structure.`);it=Fe.slice(hr,Ur).map(ro=>Kr(ro));break}}else{let yn=Fe;lt=Q.method,it=gr(Q,yn);let or=Q.numberOfParams;Xn=AC.CancellationToken.is(yn[or])?yn[or]:void 0}let Nt=v++,Un;Xn&&(Un=Xn.onCancellationRequested(()=>{let yn=yt.sender.sendCancellation(mo,Nt);return yn===void 0?(s.log(`Received no promise from cancellation strategy when cancelling id ${Nt}`),Promise.resolve()):yn.catch(()=>{s.log(`Sending cancellation messages for id ${Nt} failed`)})}));let nr={jsonrpc:E,id:Nt,method:lt,params:it};return fi(nr),typeof yt.sender.enableCancellation=="function"&&yt.sender.enableCancellation(nr),new Promise(async(yn,or)=>{let hr=di=>{yn(di),yt.sender.cleanup(Nt),Un?.dispose()},Lr=di=>{or(di),yt.sender.cleanup(Nt),Un?.dispose()},Ur={method:lt,timerStart:Date.now(),resolve:hr,reject:Lr};try{await e.write(nr),ge.set(Nt,Ur)}catch(di){throw s.error("Sending request failed."),Ur.reject(new Zn.ResponseError(Zn.ErrorCodes.MessageWriteError,di.message?di.message:"Unknown reason")),di}})},onRequest:(Q,Fe)=>{Bn();let lt=null;return UC.is(Q)?(lt=void 0,I=Q):es.string(Q)?(lt=null,Fe!==void 0&&(lt=Q,M.set(Q,{handler:Fe,type:void 0}))):Fe!==void 0&&(lt=Q.method,M.set(Q.method,{type:Q,handler:Fe})),{dispose:()=>{lt!==null&&(lt!==void 0?M.delete(lt):I=void 0)}}},hasPendingResponse:()=>ge.size>0,trace:async(Q,Fe,lt)=>{let it=!1,Xn=Dd.Text;lt!==void 0&&(es.boolean(lt)?it=lt:(it=lt.sendNotification||!1,Xn=lt.traceFormat||Dd.Text)),ze=Q,rt=Xn,ze===Ri.Off?Pt=void 0:Pt=Fe,it&&!ut()&&!mn()&&await mo.sendNotification(HC.type,{value:Ri.toString(Q)})},onError:we.event,onClose:ke.event,onUnhandledNotification:Qe.event,onDispose:It.event,end:()=>{e.end()},dispose:()=>{if(mn())return;on=mp.Disposed,It.fire(void 0);let Q=new Zn.ResponseError(Zn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Fe of ge.values())Fe.reject(Q);ge=new Map,Me=new Map,Ae=new Set,_e=new yw.LinkedMap,es.func(e.dispose)&&e.dispose(),es.func(t.dispose)&&t.dispose()},listen:()=>{Bn(),pr(),on=mp.Listening,t.listen(fn)},inspect:()=>{(0,_w.default)().console.log("inspect")}};return mo.onNotification(My.type,Q=>{if(ze===Ri.Off||!Pt)return;let Fe=ze===Ri.Verbose||ze===Ri.Compact;Pt.log(Q.message,Fe?Q.verbose:void 0)}),mo.onNotification(A_.type,Q=>{let Fe=ne.get(Q.token);Fe?Fe(Q.value):dt.fire(Q)}),mo}Er.createMessageConnection=Jx});var Yy=Oe($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.ProgressType=$e.ProgressToken=$e.createMessageConnection=$e.NullLogger=$e.ConnectionOptions=$e.ConnectionStrategy=$e.AbstractMessageBuffer=$e.WriteableStreamMessageWriter=$e.AbstractMessageWriter=$e.MessageWriter=$e.ReadableStreamMessageReader=$e.AbstractMessageReader=$e.MessageReader=$e.SharedArrayReceiverStrategy=$e.SharedArraySenderStrategy=$e.CancellationToken=$e.CancellationTokenSource=$e.Emitter=$e.Event=$e.Disposable=$e.LRUCache=$e.Touch=$e.LinkedMap=$e.ParameterStructures=$e.NotificationType9=$e.NotificationType8=$e.NotificationType7=$e.NotificationType6=$e.NotificationType5=$e.NotificationType4=$e.NotificationType3=$e.NotificationType2=$e.NotificationType1=$e.NotificationType0=$e.NotificationType=$e.ErrorCodes=$e.ResponseError=$e.RequestType9=$e.RequestType8=$e.RequestType7=$e.RequestType6=$e.RequestType5=$e.RequestType4=$e.RequestType3=$e.RequestType2=$e.RequestType1=$e.RequestType0=$e.RequestType=$e.Message=$e.RAL=void 0;$e.MessageStrategy=$e.CancellationStrategy=$e.CancellationSenderStrategy=$e.CancellationReceiverStrategy=$e.ConnectionError=$e.ConnectionErrors=$e.LogTraceNotification=$e.SetTraceNotification=$e.TraceFormat=$e.TraceValues=$e.Trace=void 0;var ho=pC();Object.defineProperty($e,"Message",{enumerable:!0,get:function(){return ho.Message}});Object.defineProperty($e,"RequestType",{enumerable:!0,get:function(){return ho.RequestType}});Object.defineProperty($e,"RequestType0",{enumerable:!0,get:function(){return ho.RequestType0}});Object.defineProperty($e,"RequestType1",{enumerable:!0,get:function(){return ho.RequestType1}});Object.defineProperty($e,"RequestType2",{enumerable:!0,get:function(){return ho.RequestType2}});Object.defineProperty($e,"RequestType3",{enumerable:!0,get:function(){return ho.RequestType3}});Object.defineProperty($e,"RequestType4",{enumerable:!0,get:function(){return ho.RequestType4}});Object.defineProperty($e,"RequestType5",{enumerable:!0,get:function(){return ho.RequestType5}});Object.defineProperty($e,"RequestType6",{enumerable:!0,get:function(){return ho.RequestType6}});Object.defineProperty($e,"RequestType7",{enumerable:!0,get:function(){return ho.RequestType7}});Object.defineProperty($e,"RequestType8",{enumerable:!0,get:function(){return ho.RequestType8}});Object.defineProperty($e,"RequestType9",{enumerable:!0,get:function(){return ho.RequestType9}});Object.defineProperty($e,"ResponseError",{enumerable:!0,get:function(){return ho.ResponseError}});Object.defineProperty($e,"ErrorCodes",{enumerable:!0,get:function(){return ho.ErrorCodes}});Object.defineProperty($e,"NotificationType",{enumerable:!0,get:function(){return ho.NotificationType}});Object.defineProperty($e,"NotificationType0",{enumerable:!0,get:function(){return ho.NotificationType0}});Object.defineProperty($e,"NotificationType1",{enumerable:!0,get:function(){return ho.NotificationType1}});Object.defineProperty($e,"NotificationType2",{enumerable:!0,get:function(){return ho.NotificationType2}});Object.defineProperty($e,"NotificationType3",{enumerable:!0,get:function(){return ho.NotificationType3}});Object.defineProperty($e,"NotificationType4",{enumerable:!0,get:function(){return ho.NotificationType4}});Object.defineProperty($e,"NotificationType5",{enumerable:!0,get:function(){return ho.NotificationType5}});Object.defineProperty($e,"NotificationType6",{enumerable:!0,get:function(){return ho.NotificationType6}});Object.defineProperty($e,"NotificationType7",{enumerable:!0,get:function(){return ho.NotificationType7}});Object.defineProperty($e,"NotificationType8",{enumerable:!0,get:function(){return ho.NotificationType8}});Object.defineProperty($e,"NotificationType9",{enumerable:!0,get:function(){return ho.NotificationType9}});Object.defineProperty($e,"ParameterStructures",{enumerable:!0,get:function(){return ho.ParameterStructures}});var YC=hC();Object.defineProperty($e,"LinkedMap",{enumerable:!0,get:function(){return YC.LinkedMap}});Object.defineProperty($e,"LRUCache",{enumerable:!0,get:function(){return YC.LRUCache}});Object.defineProperty($e,"Touch",{enumerable:!0,get:function(){return YC.Touch}});var Qx=aw();Object.defineProperty($e,"Disposable",{enumerable:!0,get:function(){return Qx.Disposable}});var Tw=Gm();Object.defineProperty($e,"Event",{enumerable:!0,get:function(){return Tw.Event}});Object.defineProperty($e,"Emitter",{enumerable:!0,get:function(){return Tw.Emitter}});var Ew=ky();Object.defineProperty($e,"CancellationTokenSource",{enumerable:!0,get:function(){return Ew.CancellationTokenSource}});Object.defineProperty($e,"CancellationToken",{enumerable:!0,get:function(){return Ew.CancellationToken}});var bw=cw();Object.defineProperty($e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return bw.SharedArraySenderStrategy}});Object.defineProperty($e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return bw.SharedArrayReceiverStrategy}});var WC=fw();Object.defineProperty($e,"MessageReader",{enumerable:!0,get:function(){return WC.MessageReader}});Object.defineProperty($e,"AbstractMessageReader",{enumerable:!0,get:function(){return WC.AbstractMessageReader}});Object.defineProperty($e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return WC.ReadableStreamMessageReader}});var KC=hw();Object.defineProperty($e,"MessageWriter",{enumerable:!0,get:function(){return KC.MessageWriter}});Object.defineProperty($e,"AbstractMessageWriter",{enumerable:!0,get:function(){return KC.AbstractMessageWriter}});Object.defineProperty($e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return KC.WriteableStreamMessageWriter}});var Zx=mw();Object.defineProperty($e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Zx.AbstractMessageBuffer}});var zu=Cw();Object.defineProperty($e,"ConnectionStrategy",{enumerable:!0,get:function(){return zu.ConnectionStrategy}});Object.defineProperty($e,"ConnectionOptions",{enumerable:!0,get:function(){return zu.ConnectionOptions}});Object.defineProperty($e,"NullLogger",{enumerable:!0,get:function(){return zu.NullLogger}});Object.defineProperty($e,"createMessageConnection",{enumerable:!0,get:function(){return zu.createMessageConnection}});Object.defineProperty($e,"ProgressToken",{enumerable:!0,get:function(){return zu.ProgressToken}});Object.defineProperty($e,"ProgressType",{enumerable:!0,get:function(){return zu.ProgressType}});Object.defineProperty($e,"Trace",{enumerable:!0,get:function(){return zu.Trace}});Object.defineProperty($e,"TraceValues",{enumerable:!0,get:function(){return zu.TraceValues}});Object.defineProperty($e,"TraceFormat",{enumerable:!0,get:function(){return zu.TraceFormat}});Object.defineProperty($e,"SetTraceNotification",{enumerable:!0,get:function(){return zu.SetTraceNotification}});Object.defineProperty($e,"LogTraceNotification",{enumerable:!0,get:function(){return zu.LogTraceNotification}});Object.defineProperty($e,"ConnectionErrors",{enumerable:!0,get:function(){return zu.ConnectionErrors}});Object.defineProperty($e,"ConnectionError",{enumerable:!0,get:function(){return zu.ConnectionError}});Object.defineProperty($e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return zu.CancellationReceiverStrategy}});Object.defineProperty($e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return zu.CancellationSenderStrategy}});Object.defineProperty($e,"CancellationStrategy",{enumerable:!0,get:function(){return zu.CancellationStrategy}});Object.defineProperty($e,"MessageStrategy",{enumerable:!0,get:function(){return zu.MessageStrategy}});var eF=qh();$e.RAL=eF.default});var Pw=Oe(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});var ww=require("util"),Vg=Yy(),Wy=class t extends Vg.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new ww.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Wy.emptyBuffer=Buffer.allocUnsafe(0);var zC=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Vg.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Vg.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Vg.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Vg.Disposable.create(()=>this.stream.off("data",e))}},GC=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Vg.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Vg.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Vg.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,s)=>{let v=h=>{h==null?r():s(h)};typeof e=="string"?this.stream.write(e,n,v):this.stream.write(e,v)})}end(){this.stream.end()}},Rw=Object.freeze({messageBuffer:Object.freeze({create:t=>new Wy(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new ww.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new zC(t),asWritableStream:t=>new GC(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function BC(){return Rw}(function(t){function e(){Vg.RAL.install(Rw)}t.install=e})(BC||(BC={}));VC.default=BC});var _m=Oe(ri=>{"use strict";var tF=ri&&ri.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),nF=ri&&ri.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&tF(e,t,n)};Object.defineProperty(ri,"__esModule",{value:!0});ri.createMessageConnection=ri.createServerSocketTransport=ri.createClientSocketTransport=ri.createServerPipeTransport=ri.createClientPipeTransport=ri.generateRandomPipeName=ri.StreamMessageWriter=ri.StreamMessageReader=ri.SocketMessageWriter=ri.SocketMessageReader=ri.PortMessageWriter=ri.PortMessageReader=ri.IPCMessageWriter=ri.IPCMessageReader=void 0;var Qm=Pw();Qm.default.install();var Iw=require("path"),rF=require("os"),iF=require("crypto"),Gy=require("net"),Cd=Yy();nF(Yy(),ri);var XC=class extends Cd.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Cd.Disposable.create(()=>this.process.off("message",e))}};ri.IPCMessageReader=XC;var JC=class extends Cd.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};ri.IPCMessageWriter=JC;var QC=class extends Cd.AbstractMessageReader{constructor(e){super(),this.onData=new Cd.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};ri.PortMessageReader=QC;var ZC=class extends Cd.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};ri.PortMessageWriter=ZC;var hm=class extends Cd.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Qm.default)().stream.asReadableStream(e),n)}};ri.SocketMessageReader=hm;var mm=class extends Cd.WriteableStreamMessageWriter{constructor(e,n){super((0,Qm.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ri.SocketMessageWriter=mm;var Ky=class extends Cd.ReadableStreamMessageReader{constructor(e,n){super((0,Qm.default)().stream.asReadableStream(e),n)}};ri.StreamMessageReader=Ky;var zy=class extends Cd.WriteableStreamMessageWriter{constructor(e,n){super((0,Qm.default)().stream.asWritableStream(e),n)}};ri.StreamMessageWriter=zy;var Nw=process.env.XDG_RUNTIME_DIR,oF=new Map([["linux",107],["darwin",103]]);function sF(){let t=(0,iF.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Nw?e=Iw.join(Nw,`vscode-ipc-${t}.sock`):e=Iw.join(rF.tmpdir(),`vscode-${t}.sock`);let n=oF.get(process.platform);return n!==void 0&&e.length>n&&(0,Qm.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}ri.generateRandomPipeName=sF;function aF(t,e="utf-8"){let n,r=new Promise((s,v)=>{n=s});return new Promise((s,v)=>{let h=(0,Gy.createServer)(D=>{h.close(),n([new hm(D,e),new mm(D,e)])});h.on("error",v),h.listen(t,()=>{h.removeListener("error",v),s({onConnected:()=>r})})})}ri.createClientPipeTransport=aF;function uF(t,e="utf-8"){let n=(0,Gy.createConnection)(t);return[new hm(n,e),new mm(n,e)]}ri.createServerPipeTransport=uF;function cF(t,e="utf-8"){let n,r=new Promise((s,v)=>{n=s});return new Promise((s,v)=>{let h=(0,Gy.createServer)(D=>{h.close(),n([new hm(D,e),new mm(D,e)])});h.on("error",v),h.listen(t,"127.0.0.1",()=>{h.removeListener("error",v),s({onConnected:()=>r})})})}ri.createClientSocketTransport=cF;function lF(t,e="utf-8"){let n=(0,Gy.createConnection)(t,"127.0.0.1");return[new hm(n,e),new mm(n,e)]}ri.createServerSocketTransport=lF;function fF(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function dF(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function vF(t,e,n,r){n||(n=Cd.NullLogger);let s=fF(t)?new Ky(t):t,v=dF(e)?new zy(e):e;return Cd.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Cd.createMessageConnection)(s,v,n,r)}ri.createMessageConnection=vF});var eT=Oe((Iq,Ow)=>{"use strict";Ow.exports=_m()});var Vy=Oe((kw,By)=>{(function(t){if(typeof By=="object"&&typeof By.exports=="object"){var e=t(require,kw);e!==void 0&&(By.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(F){function te(ie){return typeof ie=="string"}F.is=te})(n||(e.DocumentUri=n={}));var r;(function(F){function te(ie){return typeof ie=="string"}F.is=te})(r||(e.URI=r={}));var s;(function(F){F.MIN_VALUE=-2147483648,F.MAX_VALUE=2147483647;function te(ie){return typeof ie=="number"&&F.MIN_VALUE<=ie&&ie<=F.MAX_VALUE}F.is=te})(s||(e.integer=s={}));var v;(function(F){F.MIN_VALUE=0,F.MAX_VALUE=2147483647;function te(ie){return typeof ie=="number"&&F.MIN_VALUE<=ie&&ie<=F.MAX_VALUE}F.is=te})(v||(e.uinteger=v={}));var h;(function(F){function te(K,O){return K===Number.MAX_VALUE&&(K=v.MAX_VALUE),O===Number.MAX_VALUE&&(O=v.MAX_VALUE),{line:K,character:O}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&fe.uinteger(O.line)&&fe.uinteger(O.character)}F.is=ie})(h||(e.Position=h={}));var D;(function(F){function te(K,O,me,Ue){if(fe.uinteger(K)&&fe.uinteger(O)&&fe.uinteger(me)&&fe.uinteger(Ue))return{start:h.create(K,O),end:h.create(me,Ue)};if(h.is(K)&&h.is(O))return{start:K,end:O};throw new Error("Range#create called with invalid arguments[".concat(K,", ").concat(O,", ").concat(me,", ").concat(Ue,"]"))}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&h.is(O.start)&&h.is(O.end)}F.is=ie})(D||(e.Range=D={}));var E;(function(F){function te(K,O){return{uri:K,range:O}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&D.is(O.range)&&(fe.string(O.uri)||fe.undefined(O.uri))}F.is=ie})(E||(e.Location=E={}));var I;(function(F){function te(K,O,me,Ue){return{targetUri:K,targetRange:O,targetSelectionRange:me,originSelectionRange:Ue}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&D.is(O.targetRange)&&fe.string(O.targetUri)&&D.is(O.targetSelectionRange)&&(D.is(O.originSelectionRange)||fe.undefined(O.originSelectionRange))}F.is=ie})(I||(e.LocationLink=I={}));var M;(function(F){function te(K,O,me,Ue){return{red:K,green:O,blue:me,alpha:Ue}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&fe.numberRange(O.red,0,1)&&fe.numberRange(O.green,0,1)&&fe.numberRange(O.blue,0,1)&&fe.numberRange(O.alpha,0,1)}F.is=ie})(M||(e.Color=M={}));var $;(function(F){function te(K,O){return{range:K,color:O}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&D.is(O.range)&&M.is(O.color)}F.is=ie})($||(e.ColorInformation=$={}));var W;(function(F){function te(K,O,me){return{label:K,textEdit:O,additionalTextEdits:me}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&fe.string(O.label)&&(fe.undefined(O.textEdit)||Pt.is(O))&&(fe.undefined(O.additionalTextEdits)||fe.typedArray(O.additionalTextEdits,Pt.is))}F.is=ie})(W||(e.ColorPresentation=W={}));var ne;(function(F){F.Comment="comment",F.Imports="imports",F.Region="region"})(ne||(e.FoldingRangeKind=ne={}));var z;(function(F){function te(K,O,me,Ue,bn,_n){var rr={startLine:K,endLine:O};return fe.defined(me)&&(rr.startCharacter=me),fe.defined(Ue)&&(rr.endCharacter=Ue),fe.defined(bn)&&(rr.kind=bn),fe.defined(_n)&&(rr.collapsedText=_n),rr}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&fe.uinteger(O.startLine)&&fe.uinteger(O.startLine)&&(fe.undefined(O.startCharacter)||fe.uinteger(O.startCharacter))&&(fe.undefined(O.endCharacter)||fe.uinteger(O.endCharacter))&&(fe.undefined(O.kind)||fe.string(O.kind))}F.is=ie})(z||(e.FoldingRange=z={}));var _e;(function(F){function te(K,O){return{location:K,message:O}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&E.is(O.location)&&fe.string(O.message)}F.is=ie})(_e||(e.DiagnosticRelatedInformation=_e={}));var ge;(function(F){F.Error=1,F.Warning=2,F.Information=3,F.Hint=4})(ge||(e.DiagnosticSeverity=ge={}));var Ae;(function(F){F.Unnecessary=1,F.Deprecated=2})(Ae||(e.DiagnosticTag=Ae={}));var Me;(function(F){function te(ie){var K=ie;return fe.objectLiteral(K)&&fe.string(K.href)}F.is=te})(Me||(e.CodeDescription=Me={}));var ze;(function(F){function te(K,O,me,Ue,bn,_n){var rr={range:K,message:O};return fe.defined(me)&&(rr.severity=me),fe.defined(Ue)&&(rr.code=Ue),fe.defined(bn)&&(rr.source=bn),fe.defined(_n)&&(rr.relatedInformation=_n),rr}F.create=te;function ie(K){var O,me=K;return fe.defined(me)&&D.is(me.range)&&fe.string(me.message)&&(fe.number(me.severity)||fe.undefined(me.severity))&&(fe.integer(me.code)||fe.string(me.code)||fe.undefined(me.code))&&(fe.undefined(me.codeDescription)||fe.string((O=me.codeDescription)===null||O===void 0?void 0:O.href))&&(fe.string(me.source)||fe.undefined(me.source))&&(fe.undefined(me.relatedInformation)||fe.typedArray(me.relatedInformation,_e.is))}F.is=ie})(ze||(e.Diagnostic=ze={}));var rt;(function(F){function te(K,O){for(var me=[],Ue=2;Ue<arguments.length;Ue++)me[Ue-2]=arguments[Ue];var bn={title:K,command:O};return fe.defined(me)&&me.length>0&&(bn.arguments=me),bn}F.create=te;function ie(K){var O=K;return fe.defined(O)&&fe.string(O.title)&&fe.string(O.command)}F.is=ie})(rt||(e.Command=rt={}));var Pt;(function(F){function te(me,Ue){return{range:me,newText:Ue}}F.replace=te;function ie(me,Ue){return{range:{start:me,end:me},newText:Ue}}F.insert=ie;function K(me){return{range:me,newText:""}}F.del=K;function O(me){var Ue=me;return fe.objectLiteral(Ue)&&fe.string(Ue.newText)&&D.is(Ue.range)}F.is=O})(Pt||(e.TextEdit=Pt={}));var on;(function(F){function te(K,O,me){var Ue={label:K};return O!==void 0&&(Ue.needsConfirmation=O),me!==void 0&&(Ue.description=me),Ue}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&fe.string(O.label)&&(fe.boolean(O.needsConfirmation)||O.needsConfirmation===void 0)&&(fe.string(O.description)||O.description===void 0)}F.is=ie})(on||(e.ChangeAnnotation=on={}));var we;(function(F){function te(ie){var K=ie;return fe.string(K)}F.is=te})(we||(e.ChangeAnnotationIdentifier=we={}));var ke;(function(F){function te(me,Ue,bn){return{range:me,newText:Ue,annotationId:bn}}F.replace=te;function ie(me,Ue,bn){return{range:{start:me,end:me},newText:Ue,annotationId:bn}}F.insert=ie;function K(me,Ue){return{range:me,newText:"",annotationId:Ue}}F.del=K;function O(me){var Ue=me;return Pt.is(Ue)&&(on.is(Ue.annotationId)||we.is(Ue.annotationId))}F.is=O})(ke||(e.AnnotatedTextEdit=ke={}));var Qe;(function(F){function te(K,O){return{textDocument:K,edits:O}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&ut.is(O.textDocument)&&Array.isArray(O.edits)}F.is=ie})(Qe||(e.TextDocumentEdit=Qe={}));var dt;(function(F){function te(K,O,me){var Ue={kind:"create",uri:K};return O!==void 0&&(O.overwrite!==void 0||O.ignoreIfExists!==void 0)&&(Ue.options=O),me!==void 0&&(Ue.annotationId=me),Ue}F.create=te;function ie(K){var O=K;return O&&O.kind==="create"&&fe.string(O.uri)&&(O.options===void 0||(O.options.overwrite===void 0||fe.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||fe.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||we.is(O.annotationId))}F.is=ie})(dt||(e.CreateFile=dt={}));var It;(function(F){function te(K,O,me,Ue){var bn={kind:"rename",oldUri:K,newUri:O};return me!==void 0&&(me.overwrite!==void 0||me.ignoreIfExists!==void 0)&&(bn.options=me),Ue!==void 0&&(bn.annotationId=Ue),bn}F.create=te;function ie(K){var O=K;return O&&O.kind==="rename"&&fe.string(O.oldUri)&&fe.string(O.newUri)&&(O.options===void 0||(O.options.overwrite===void 0||fe.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||fe.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||we.is(O.annotationId))}F.is=ie})(It||(e.RenameFile=It={}));var yt;(function(F){function te(K,O,me){var Ue={kind:"delete",uri:K};return O!==void 0&&(O.recursive!==void 0||O.ignoreIfNotExists!==void 0)&&(Ue.options=O),me!==void 0&&(Ue.annotationId=me),Ue}F.create=te;function ie(K){var O=K;return O&&O.kind==="delete"&&fe.string(O.uri)&&(O.options===void 0||(O.options.recursive===void 0||fe.boolean(O.options.recursive))&&(O.options.ignoreIfNotExists===void 0||fe.boolean(O.options.ignoreIfNotExists)))&&(O.annotationId===void 0||we.is(O.annotationId))}F.is=ie})(yt||(e.DeleteFile=yt={}));var Qt;(function(F){function te(ie){var K=ie;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every(function(O){return fe.string(O.kind)?dt.is(O)||It.is(O)||yt.is(O):Qe.is(O)}))}F.is=te})(Qt||(e.WorkspaceEdit=Qt={}));var un=function(){function F(te,ie){this.edits=te,this.changeAnnotations=ie}return F.prototype.insert=function(te,ie,K){var O,me;if(K===void 0?O=Pt.insert(te,ie):we.is(K)?(me=K,O=ke.insert(te,ie,K)):(this.assertChangeAnnotations(this.changeAnnotations),me=this.changeAnnotations.manage(K),O=ke.insert(te,ie,me)),this.edits.push(O),me!==void 0)return me},F.prototype.replace=function(te,ie,K){var O,me;if(K===void 0?O=Pt.replace(te,ie):we.is(K)?(me=K,O=ke.replace(te,ie,K)):(this.assertChangeAnnotations(this.changeAnnotations),me=this.changeAnnotations.manage(K),O=ke.replace(te,ie,me)),this.edits.push(O),me!==void 0)return me},F.prototype.delete=function(te,ie){var K,O;if(ie===void 0?K=Pt.del(te):we.is(ie)?(O=ie,K=ke.del(te,ie)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(ie),K=ke.del(te,O)),this.edits.push(K),O!==void 0)return O},F.prototype.add=function(te){this.edits.push(te)},F.prototype.all=function(){return this.edits},F.prototype.clear=function(){this.edits.splice(0,this.edits.length)},F.prototype.assertChangeAnnotations=function(te){if(te===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},F}(),Nn=function(){function F(te){this._annotations=te===void 0?Object.create(null):te,this._counter=0,this._size=0}return F.prototype.all=function(){return this._annotations},Object.defineProperty(F.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),F.prototype.manage=function(te,ie){var K;if(we.is(te)?K=te:(K=this.nextId(),ie=te),this._annotations[K]!==void 0)throw new Error("Id ".concat(K," is already in use."));if(ie===void 0)throw new Error("No annotation provided for id ".concat(K));return this._annotations[K]=ie,this._size++,K},F.prototype.nextId=function(){return this._counter++,this._counter.toString()},F}(),tt=function(){function F(te){var ie=this;this._textEditChanges=Object.create(null),te!==void 0?(this._workspaceEdit=te,te.documentChanges?(this._changeAnnotations=new Nn(te.changeAnnotations),te.changeAnnotations=this._changeAnnotations.all(),te.documentChanges.forEach(function(K){if(Qe.is(K)){var O=new un(K.edits,ie._changeAnnotations);ie._textEditChanges[K.textDocument.uri]=O}})):te.changes&&Object.keys(te.changes).forEach(function(K){var O=new un(te.changes[K]);ie._textEditChanges[K]=O})):this._workspaceEdit={}}return Object.defineProperty(F.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),F.prototype.getTextEditChange=function(te){if(ut.is(te)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ie={uri:te.uri,version:te.version},K=this._textEditChanges[ie.uri];if(!K){var O=[],me={textDocument:ie,edits:O};this._workspaceEdit.documentChanges.push(me),K=new un(O,this._changeAnnotations),this._textEditChanges[ie.uri]=K}return K}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var K=this._textEditChanges[te];if(!K){var O=[];this._workspaceEdit.changes[te]=O,K=new un(O),this._textEditChanges[te]=K}return K}},F.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Nn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},F.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},F.prototype.createFile=function(te,ie,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;on.is(ie)||we.is(ie)?O=ie:K=ie;var me,Ue;if(O===void 0?me=dt.create(te,K):(Ue=we.is(O)?O:this._changeAnnotations.manage(O),me=dt.create(te,K,Ue)),this._workspaceEdit.documentChanges.push(me),Ue!==void 0)return Ue},F.prototype.renameFile=function(te,ie,K,O){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var me;on.is(K)||we.is(K)?me=K:O=K;var Ue,bn;if(me===void 0?Ue=It.create(te,ie,O):(bn=we.is(me)?me:this._changeAnnotations.manage(me),Ue=It.create(te,ie,O,bn)),this._workspaceEdit.documentChanges.push(Ue),bn!==void 0)return bn},F.prototype.deleteFile=function(te,ie,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;on.is(ie)||we.is(ie)?O=ie:K=ie;var me,Ue;if(O===void 0?me=yt.create(te,K):(Ue=we.is(O)?O:this._changeAnnotations.manage(O),me=yt.create(te,K,Ue)),this._workspaceEdit.documentChanges.push(me),Ue!==void 0)return Ue},F}();e.WorkspaceChange=tt;var Zr;(function(F){function te(K){return{uri:K}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&fe.string(O.uri)}F.is=ie})(Zr||(e.TextDocumentIdentifier=Zr={}));var Ze;(function(F){function te(K,O){return{uri:K,version:O}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&fe.string(O.uri)&&fe.integer(O.version)}F.is=ie})(Ze||(e.VersionedTextDocumentIdentifier=Ze={}));var ut;(function(F){function te(K,O){return{uri:K,version:O}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&fe.string(O.uri)&&(O.version===null||fe.integer(O.version))}F.is=ie})(ut||(e.OptionalVersionedTextDocumentIdentifier=ut={}));var mn;(function(F){function te(K,O,me,Ue){return{uri:K,languageId:O,version:me,text:Ue}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&fe.string(O.uri)&&fe.string(O.languageId)&&fe.integer(O.version)&&fe.string(O.text)}F.is=ie})(mn||(e.TextDocumentItem=mn={}));var Jt;(function(F){F.PlainText="plaintext",F.Markdown="markdown";function te(ie){var K=ie;return K===F.PlainText||K===F.Markdown}F.is=te})(Jt||(e.MarkupKind=Jt={}));var Ut;(function(F){function te(ie){var K=ie;return fe.objectLiteral(ie)&&Jt.is(K.kind)&&fe.string(K.value)}F.is=te})(Ut||(e.MarkupContent=Ut={}));var et;(function(F){F.Text=1,F.Method=2,F.Function=3,F.Constructor=4,F.Field=5,F.Variable=6,F.Class=7,F.Interface=8,F.Module=9,F.Property=10,F.Unit=11,F.Value=12,F.Enum=13,F.Keyword=14,F.Snippet=15,F.Color=16,F.File=17,F.Reference=18,F.Folder=19,F.EnumMember=20,F.Constant=21,F.Struct=22,F.Event=23,F.Operator=24,F.TypeParameter=25})(et||(e.CompletionItemKind=et={}));var _r;(function(F){F.PlainText=1,F.Snippet=2})(_r||(e.InsertTextFormat=_r={}));var bt;(function(F){F.Deprecated=1})(bt||(e.CompletionItemTag=bt={}));var Po;(function(F){function te(K,O,me){return{newText:K,insert:O,replace:me}}F.create=te;function ie(K){var O=K;return O&&fe.string(O.newText)&&D.is(O.insert)&&D.is(O.replace)}F.is=ie})(Po||(e.InsertReplaceEdit=Po={}));var fn;(function(F){F.asIs=1,F.adjustIndentation=2})(fn||(e.InsertTextMode=fn={}));var Yi;(function(F){function te(ie){var K=ie;return K&&(fe.string(K.detail)||K.detail===void 0)&&(fe.string(K.description)||K.description===void 0)}F.is=te})(Yi||(e.CompletionItemLabelDetails=Yi={}));var nn;(function(F){function te(ie){return{label:ie}}F.create=te})(nn||(e.CompletionItem=nn={}));var dn;(function(F){function te(ie,K){return{items:ie||[],isIncomplete:!!K}}F.create=te})(dn||(e.CompletionList=dn={}));var ei;(function(F){function te(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}F.fromPlainText=te;function ie(K){var O=K;return fe.string(O)||fe.objectLiteral(O)&&fe.string(O.language)&&fe.string(O.value)}F.is=ie})(ei||(e.MarkedString=ei={}));var Xt;(function(F){function te(ie){var K=ie;return!!K&&fe.objectLiteral(K)&&(Ut.is(K.contents)||ei.is(K.contents)||fe.typedArray(K.contents,ei.is))&&(ie.range===void 0||D.is(ie.range))}F.is=te})(Xt||(e.Hover=Xt={}));var fi;(function(F){function te(ie,K){return K?{label:ie,documentation:K}:{label:ie}}F.create=te})(fi||(e.ParameterInformation=fi={}));var Kn;(function(F){function te(ie,K){for(var O=[],me=2;me<arguments.length;me++)O[me-2]=arguments[me];var Ue={label:ie};return fe.defined(K)&&(Ue.documentation=K),fe.defined(O)?Ue.parameters=O:Ue.parameters=[],Ue}F.create=te})(Kn||(e.SignatureInformation=Kn={}));var no;(function(F){F.Text=1,F.Read=2,F.Write=3})(no||(e.DocumentHighlightKind=no={}));var cn;(function(F){function te(ie,K){var O={range:ie};return fe.number(K)&&(O.kind=K),O}F.create=te})(cn||(e.DocumentHighlight=cn={}));var cr;(function(F){F.File=1,F.Module=2,F.Namespace=3,F.Package=4,F.Class=5,F.Method=6,F.Property=7,F.Field=8,F.Constructor=9,F.Enum=10,F.Interface=11,F.Function=12,F.Variable=13,F.Constant=14,F.String=15,F.Number=16,F.Boolean=17,F.Array=18,F.Object=19,F.Key=20,F.Null=21,F.EnumMember=22,F.Struct=23,F.Event=24,F.Operator=25,F.TypeParameter=26})(cr||(e.SymbolKind=cr={}));var Hi;(function(F){F.Deprecated=1})(Hi||(e.SymbolTag=Hi={}));var Fr;(function(F){function te(ie,K,O,me,Ue){var bn={name:ie,kind:K,location:{uri:me,range:O}};return Ue&&(bn.containerName=Ue),bn}F.create=te})(Fr||(e.SymbolInformation=Fr={}));var Bn;(function(F){function te(ie,K,O,me){return me!==void 0?{name:ie,kind:K,location:{uri:O,range:me}}:{name:ie,kind:K,location:{uri:O}}}F.create=te})(Bn||(e.WorkspaceSymbol=Bn={}));var pr;(function(F){function te(K,O,me,Ue,bn,_n){var rr={name:K,detail:O,kind:me,range:Ue,selectionRange:bn};return _n!==void 0&&(rr.children=_n),rr}F.create=te;function ie(K){var O=K;return O&&fe.string(O.name)&&fe.number(O.kind)&&D.is(O.range)&&D.is(O.selectionRange)&&(O.detail===void 0||fe.string(O.detail))&&(O.deprecated===void 0||fe.boolean(O.deprecated))&&(O.children===void 0||Array.isArray(O.children))&&(O.tags===void 0||Array.isArray(O.tags))}F.is=ie})(pr||(e.DocumentSymbol=pr={}));var Si;(function(F){F.Empty="",F.QuickFix="quickfix",F.Refactor="refactor",F.RefactorExtract="refactor.extract",F.RefactorInline="refactor.inline",F.RefactorRewrite="refactor.rewrite",F.Source="source",F.SourceOrganizeImports="source.organizeImports",F.SourceFixAll="source.fixAll"})(Si||(e.CodeActionKind=Si={}));var Kr;(function(F){F.Invoked=1,F.Automatic=2})(Kr||(e.CodeActionTriggerKind=Kr={}));var tr;(function(F){function te(K,O,me){var Ue={diagnostics:K};return O!=null&&(Ue.only=O),me!=null&&(Ue.triggerKind=me),Ue}F.create=te;function ie(K){var O=K;return fe.defined(O)&&fe.typedArray(O.diagnostics,ze.is)&&(O.only===void 0||fe.typedArray(O.only,fe.string))&&(O.triggerKind===void 0||O.triggerKind===Kr.Invoked||O.triggerKind===Kr.Automatic)}F.is=ie})(tr||(e.CodeActionContext=tr={}));var gn;(function(F){function te(K,O,me){var Ue={title:K},bn=!0;return typeof O=="string"?(bn=!1,Ue.kind=O):rt.is(O)?Ue.command=O:Ue.edit=O,bn&&me!==void 0&&(Ue.kind=me),Ue}F.create=te;function ie(K){var O=K;return O&&fe.string(O.title)&&(O.diagnostics===void 0||fe.typedArray(O.diagnostics,ze.is))&&(O.kind===void 0||fe.string(O.kind))&&(O.edit!==void 0||O.command!==void 0)&&(O.command===void 0||rt.is(O.command))&&(O.isPreferred===void 0||fe.boolean(O.isPreferred))&&(O.edit===void 0||Qt.is(O.edit))}F.is=ie})(gn||(e.CodeAction=gn={}));var En;(function(F){function te(K,O){var me={range:K};return fe.defined(O)&&(me.data=O),me}F.create=te;function ie(K){var O=K;return fe.defined(O)&&D.is(O.range)&&(fe.undefined(O.command)||rt.is(O.command))}F.is=ie})(En||(e.CodeLens=En={}));var gr;(function(F){function te(K,O){return{tabSize:K,insertSpaces:O}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&fe.uinteger(O.tabSize)&&fe.boolean(O.insertSpaces)}F.is=ie})(gr||(e.FormattingOptions=gr={}));var mo;(function(F){function te(K,O,me){return{range:K,target:O,data:me}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&D.is(O.range)&&(fe.undefined(O.target)||fe.string(O.target))}F.is=ie})(mo||(e.DocumentLink=mo={}));var Q;(function(F){function te(K,O){return{range:K,parent:O}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&D.is(O.range)&&(O.parent===void 0||F.is(O.parent))}F.is=ie})(Q||(e.SelectionRange=Q={}));var Fe;(function(F){F.namespace="namespace",F.type="type",F.class="class",F.enum="enum",F.interface="interface",F.struct="struct",F.typeParameter="typeParameter",F.parameter="parameter",F.variable="variable",F.property="property",F.enumMember="enumMember",F.event="event",F.function="function",F.method="method",F.macro="macro",F.keyword="keyword",F.modifier="modifier",F.comment="comment",F.string="string",F.number="number",F.regexp="regexp",F.operator="operator",F.decorator="decorator"})(Fe||(e.SemanticTokenTypes=Fe={}));var lt;(function(F){F.declaration="declaration",F.definition="definition",F.readonly="readonly",F.static="static",F.deprecated="deprecated",F.abstract="abstract",F.async="async",F.modification="modification",F.documentation="documentation",F.defaultLibrary="defaultLibrary"})(lt||(e.SemanticTokenModifiers=lt={}));var it;(function(F){function te(ie){var K=ie;return fe.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId=="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]=="number")}F.is=te})(it||(e.SemanticTokens=it={}));var Xn;(function(F){function te(K,O){return{range:K,text:O}}F.create=te;function ie(K){var O=K;return O!=null&&D.is(O.range)&&fe.string(O.text)}F.is=ie})(Xn||(e.InlineValueText=Xn={}));var Nt;(function(F){function te(K,O,me){return{range:K,variableName:O,caseSensitiveLookup:me}}F.create=te;function ie(K){var O=K;return O!=null&&D.is(O.range)&&fe.boolean(O.caseSensitiveLookup)&&(fe.string(O.variableName)||O.variableName===void 0)}F.is=ie})(Nt||(e.InlineValueVariableLookup=Nt={}));var Un;(function(F){function te(K,O){return{range:K,expression:O}}F.create=te;function ie(K){var O=K;return O!=null&&D.is(O.range)&&(fe.string(O.expression)||O.expression===void 0)}F.is=ie})(Un||(e.InlineValueEvaluatableExpression=Un={}));var nr;(function(F){function te(K,O){return{frameId:K,stoppedLocation:O}}F.create=te;function ie(K){var O=K;return fe.defined(O)&&D.is(K.stoppedLocation)}F.is=ie})(nr||(e.InlineValueContext=nr={}));var yn;(function(F){F.Type=1,F.Parameter=2;function te(ie){return ie===1||ie===2}F.is=te})(yn||(e.InlayHintKind=yn={}));var or;(function(F){function te(K){return{value:K}}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&(O.tooltip===void 0||fe.string(O.tooltip)||Ut.is(O.tooltip))&&(O.location===void 0||E.is(O.location))&&(O.command===void 0||rt.is(O.command))}F.is=ie})(or||(e.InlayHintLabelPart=or={}));var hr;(function(F){function te(K,O,me){var Ue={position:K,label:O};return me!==void 0&&(Ue.kind=me),Ue}F.create=te;function ie(K){var O=K;return fe.objectLiteral(O)&&h.is(O.position)&&(fe.string(O.label)||fe.typedArray(O.label,or.is))&&(O.kind===void 0||yn.is(O.kind))&&O.textEdits===void 0||fe.typedArray(O.textEdits,Pt.is)&&(O.tooltip===void 0||fe.string(O.tooltip)||Ut.is(O.tooltip))&&(O.paddingLeft===void 0||fe.boolean(O.paddingLeft))&&(O.paddingRight===void 0||fe.boolean(O.paddingRight))}F.is=ie})(hr||(e.InlayHint=hr={}));var Lr;(function(F){function te(ie){return{kind:"snippet",value:ie}}F.createSnippet=te})(Lr||(e.StringValue=Lr={}));var Ur;(function(F){function te(ie,K,O,me){return{insertText:ie,filterText:K,range:O,command:me}}F.create=te})(Ur||(e.InlineCompletionItem=Ur={}));var di;(function(F){function te(ie){return{items:ie}}F.create=te})(di||(e.InlineCompletionList=di={}));var ro;(function(F){F.Invoked=0,F.Automatic=1})(ro||(e.InlineCompletionTriggerKind=ro={}));var Es;(function(F){function te(ie,K){return{range:ie,text:K}}F.create=te})(Es||(e.SelectedCompletionInfo=Es={}));var L;(function(F){function te(ie,K){return{triggerKind:ie,selectedCompletionInfo:K}}F.create=te})(L||(e.InlineCompletionContext=L={}));var Ce;(function(F){function te(ie){var K=ie;return fe.objectLiteral(K)&&r.is(K.uri)&&fe.string(K.name)}F.is=te})(Ce||(e.WorkspaceFolder=Ce={})),e.EOL=[`
`,`\r
`,"\r"];var kt;(function(F){function te(me,Ue,bn,_n){return new lr(me,Ue,bn,_n)}F.create=te;function ie(me){var Ue=me;return!!(fe.defined(Ue)&&fe.string(Ue.uri)&&(fe.undefined(Ue.languageId)||fe.string(Ue.languageId))&&fe.uinteger(Ue.lineCount)&&fe.func(Ue.getText)&&fe.func(Ue.positionAt)&&fe.func(Ue.offsetAt))}F.is=ie;function K(me,Ue){for(var bn=me.getText(),_n=O(Ue,function(oi,C){var oe=oi.range.start.line-C.range.start.line;return oe===0?oi.range.start.character-C.range.start.character:oe}),rr=bn.length,vi=_n.length-1;vi>=0;vi--){var Dr=_n[vi],Ii=me.offsetAt(Dr.range.start),xn=me.offsetAt(Dr.range.end);if(xn<=rr)bn=bn.substring(0,Ii)+Dr.newText+bn.substring(xn,bn.length);else throw new Error("Overlapping edit");rr=Ii}return bn}F.applyEdits=K;function O(me,Ue){if(me.length<=1)return me;var bn=me.length/2|0,_n=me.slice(0,bn),rr=me.slice(bn);O(_n,Ue),O(rr,Ue);for(var vi=0,Dr=0,Ii=0;vi<_n.length&&Dr<rr.length;){var xn=Ue(_n[vi],rr[Dr]);xn<=0?me[Ii++]=_n[vi++]:me[Ii++]=rr[Dr++]}for(;vi<_n.length;)me[Ii++]=_n[vi++];for(;Dr<rr.length;)me[Ii++]=rr[Dr++];return me}})(kt||(e.TextDocument=kt={}));var lr=function(){function F(te,ie,K,O){this._uri=te,this._languageId=ie,this._version=K,this._content=O,this._lineOffsets=void 0}return Object.defineProperty(F.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),F.prototype.getText=function(te){if(te){var ie=this.offsetAt(te.start),K=this.offsetAt(te.end);return this._content.substring(ie,K)}return this._content},F.prototype.update=function(te,ie){this._content=te.text,this._version=ie,this._lineOffsets=void 0},F.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var te=[],ie=this._content,K=!0,O=0;O<ie.length;O++){K&&(te.push(O),K=!1);var me=ie.charAt(O);K=me==="\r"||me===`
`,me==="\r"&&O+1<ie.length&&ie.charAt(O+1)===`
`&&O++}K&&ie.length>0&&te.push(ie.length),this._lineOffsets=te}return this._lineOffsets},F.prototype.positionAt=function(te){te=Math.max(Math.min(te,this._content.length),0);var ie=this.getLineOffsets(),K=0,O=ie.length;if(O===0)return h.create(0,te);for(;K<O;){var me=Math.floor((K+O)/2);ie[me]>te?O=me:K=me+1}var Ue=K-1;return h.create(Ue,te-ie[Ue])},F.prototype.offsetAt=function(te){var ie=this.getLineOffsets();if(te.line>=ie.length)return this._content.length;if(te.line<0)return 0;var K=ie[te.line],O=te.line+1<ie.length?ie[te.line+1]:this._content.length;return Math.max(Math.min(K+te.character,O),K)},Object.defineProperty(F.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),F}(),fe;(function(F){var te=Object.prototype.toString;function ie(xn){return typeof xn<"u"}F.defined=ie;function K(xn){return typeof xn>"u"}F.undefined=K;function O(xn){return xn===!0||xn===!1}F.boolean=O;function me(xn){return te.call(xn)==="[object String]"}F.string=me;function Ue(xn){return te.call(xn)==="[object Number]"}F.number=Ue;function bn(xn,oi,C){return te.call(xn)==="[object Number]"&&oi<=xn&&xn<=C}F.numberRange=bn;function _n(xn){return te.call(xn)==="[object Number]"&&-2147483648<=xn&&xn<=2147483647}F.integer=_n;function rr(xn){return te.call(xn)==="[object Number]"&&0<=xn&&xn<=2147483647}F.uinteger=rr;function vi(xn){return te.call(xn)==="[object Function]"}F.func=vi;function Dr(xn){return xn!==null&&typeof xn=="object"}F.objectLiteral=Dr;function Ii(xn,oi){return Array.isArray(xn)&&xn.every(oi)}F.typedArray=Ii})(fe||(fe={}))})});var $o=Oe(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.ProtocolNotificationType=of.ProtocolNotificationType0=of.ProtocolRequestType=of.ProtocolRequestType0=of.RegistrationType=of.MessageDirection=void 0;var Zm=_m(),xw;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(xw||(of.MessageDirection=xw={}));var tT=class{constructor(e){this.method=e}};of.RegistrationType=tT;var nT=class extends Zm.RequestType0{constructor(e){super(e)}};of.ProtocolRequestType0=nT;var rT=class extends Zm.RequestType{constructor(e){super(e,Zm.ParameterStructures.byName)}};of.ProtocolRequestType=rT;var iT=class extends Zm.NotificationType0{constructor(e){super(e)}};of.ProtocolNotificationType0=iT;var oT=class extends Zm.NotificationType{constructor(e){super(e,Zm.ParameterStructures.byName)}};of.ProtocolNotificationType=oT});var Xy=Oe(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.objectLiteral=la.typedArray=la.stringArray=la.array=la.func=la.error=la.number=la.string=la.boolean=void 0;function pF(t){return t===!0||t===!1}la.boolean=pF;function Fw(t){return typeof t=="string"||t instanceof String}la.string=Fw;function gF(t){return typeof t=="number"||t instanceof Number}la.number=gF;function hF(t){return t instanceof Error}la.error=hF;function mF(t){return typeof t=="function"}la.func=mF;function Lw(t){return Array.isArray(t)}la.array=Lw;function _F(t){return Lw(t)&&t.every(e=>Fw(e))}la.stringArray=_F;function yF(t,e){return Array.isArray(t)&&t.every(e)}la.typedArray=yF;function SF(t){return t!==null&&typeof t=="object"}la.objectLiteral=SF});var qw=Oe(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.ImplementationRequest=void 0;var Aw=$o(),Mw;(function(t){t.method="textDocument/implementation",t.messageDirection=Aw.MessageDirection.clientToServer,t.type=new Aw.ProtocolRequestType(t.method)})(Mw||(Jy.ImplementationRequest=Mw={}))});var jw=Oe(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.TypeDefinitionRequest=void 0;var Uw=$o(),Hw;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Uw.MessageDirection.clientToServer,t.type=new Uw.ProtocolRequestType(t.method)})(Hw||(Qy.TypeDefinitionRequest=Hw={}))});var Ww=Oe(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.DidChangeWorkspaceFoldersNotification=e_.WorkspaceFoldersRequest=void 0;var Zy=$o(),$w;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Zy.MessageDirection.serverToClient,t.type=new Zy.ProtocolRequestType0(t.method)})($w||(e_.WorkspaceFoldersRequest=$w={}));var Yw;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Zy.MessageDirection.clientToServer,t.type=new Zy.ProtocolNotificationType(t.method)})(Yw||(e_.DidChangeWorkspaceFoldersNotification=Yw={}))});var Gw=Oe(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.ConfigurationRequest=void 0;var Kw=$o(),zw;(function(t){t.method="workspace/configuration",t.messageDirection=Kw.MessageDirection.serverToClient,t.type=new Kw.ProtocolRequestType(t.method)})(zw||(eS.ConfigurationRequest=zw={}))});var Xw=Oe(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.ColorPresentationRequest=t_.DocumentColorRequest=void 0;var tS=$o(),Bw;(function(t){t.method="textDocument/documentColor",t.messageDirection=tS.MessageDirection.clientToServer,t.type=new tS.ProtocolRequestType(t.method)})(Bw||(t_.DocumentColorRequest=Bw={}));var Vw;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=tS.MessageDirection.clientToServer,t.type=new tS.ProtocolRequestType(t.method)})(Vw||(t_.ColorPresentationRequest=Vw={}))});var Zw=Oe(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.FoldingRangeRefreshRequest=n_.FoldingRangeRequest=void 0;var nS=$o(),Jw;(function(t){t.method="textDocument/foldingRange",t.messageDirection=nS.MessageDirection.clientToServer,t.type=new nS.ProtocolRequestType(t.method)})(Jw||(n_.FoldingRangeRequest=Jw={}));var Qw;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=nS.MessageDirection.serverToClient,t.type=new nS.ProtocolRequestType0(t.method)})(Qw||(n_.FoldingRangeRefreshRequest=Qw={}))});var nR=Oe(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.DeclarationRequest=void 0;var eR=$o(),tR;(function(t){t.method="textDocument/declaration",t.messageDirection=eR.MessageDirection.clientToServer,t.type=new eR.ProtocolRequestType(t.method)})(tR||(rS.DeclarationRequest=tR={}))});var oR=Oe(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.SelectionRangeRequest=void 0;var rR=$o(),iR;(function(t){t.method="textDocument/selectionRange",t.messageDirection=rR.MessageDirection.clientToServer,t.type=new rR.ProtocolRequestType(t.method)})(iR||(iS.SelectionRangeRequest=iR={}))});var cR=Oe(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.WorkDoneProgressCancelNotification=jh.WorkDoneProgressCreateRequest=jh.WorkDoneProgress=void 0;var DF=_m(),oS=$o(),sR;(function(t){t.type=new DF.ProgressType;function e(n){return n===t.type}t.is=e})(sR||(jh.WorkDoneProgress=sR={}));var aR;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=oS.MessageDirection.serverToClient,t.type=new oS.ProtocolRequestType(t.method)})(aR||(jh.WorkDoneProgressCreateRequest=aR={}));var uR;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=oS.MessageDirection.clientToServer,t.type=new oS.ProtocolNotificationType(t.method)})(uR||(jh.WorkDoneProgressCancelNotification=uR={}))});var vR=Oe($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.CallHierarchyOutgoingCallsRequest=$h.CallHierarchyIncomingCallsRequest=$h.CallHierarchyPrepareRequest=void 0;var r_=$o(),lR;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=r_.MessageDirection.clientToServer,t.type=new r_.ProtocolRequestType(t.method)})(lR||($h.CallHierarchyPrepareRequest=lR={}));var fR;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=r_.MessageDirection.clientToServer,t.type=new r_.ProtocolRequestType(t.method)})(fR||($h.CallHierarchyIncomingCallsRequest=fR={}));var dR;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=r_.MessageDirection.clientToServer,t.type=new r_.ProtocolRequestType(t.method)})(dR||($h.CallHierarchyOutgoingCallsRequest=dR={}))});var yR=Oe(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.SemanticTokensRefreshRequest=sf.SemanticTokensRangeRequest=sf.SemanticTokensDeltaRequest=sf.SemanticTokensRequest=sf.SemanticTokensRegistrationType=sf.TokenFormat=void 0;var Xg=$o(),pR;(function(t){t.Relative="relative"})(pR||(sf.TokenFormat=pR={}));var U_;(function(t){t.method="textDocument/semanticTokens",t.type=new Xg.RegistrationType(t.method)})(U_||(sf.SemanticTokensRegistrationType=U_={}));var gR;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Xg.MessageDirection.clientToServer,t.type=new Xg.ProtocolRequestType(t.method),t.registrationMethod=U_.method})(gR||(sf.SemanticTokensRequest=gR={}));var hR;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Xg.MessageDirection.clientToServer,t.type=new Xg.ProtocolRequestType(t.method),t.registrationMethod=U_.method})(hR||(sf.SemanticTokensDeltaRequest=hR={}));var mR;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Xg.MessageDirection.clientToServer,t.type=new Xg.ProtocolRequestType(t.method),t.registrationMethod=U_.method})(mR||(sf.SemanticTokensRangeRequest=mR={}));var _R;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Xg.MessageDirection.serverToClient,t.type=new Xg.ProtocolRequestType0(t.method)})(_R||(sf.SemanticTokensRefreshRequest=_R={}))});var CR=Oe(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.ShowDocumentRequest=void 0;var SR=$o(),DR;(function(t){t.method="window/showDocument",t.messageDirection=SR.MessageDirection.serverToClient,t.type=new SR.ProtocolRequestType(t.method)})(DR||(sS.ShowDocumentRequest=DR={}))});var bR=Oe(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.LinkedEditingRangeRequest=void 0;var TR=$o(),ER;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=TR.MessageDirection.clientToServer,t.type=new TR.ProtocolRequestType(t.method)})(ER||(aS.LinkedEditingRangeRequest=ER={}))});var xR=Oe(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.WillDeleteFilesRequest=Ec.DidDeleteFilesNotification=Ec.DidRenameFilesNotification=Ec.WillRenameFilesRequest=Ec.DidCreateFilesNotification=Ec.WillCreateFilesRequest=Ec.FileOperationPatternKind=void 0;var yv=$o(),wR;(function(t){t.file="file",t.folder="folder"})(wR||(Ec.FileOperationPatternKind=wR={}));var RR;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=yv.MessageDirection.clientToServer,t.type=new yv.ProtocolRequestType(t.method)})(RR||(Ec.WillCreateFilesRequest=RR={}));var PR;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=yv.MessageDirection.clientToServer,t.type=new yv.ProtocolNotificationType(t.method)})(PR||(Ec.DidCreateFilesNotification=PR={}));var IR;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=yv.MessageDirection.clientToServer,t.type=new yv.ProtocolRequestType(t.method)})(IR||(Ec.WillRenameFilesRequest=IR={}));var NR;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=yv.MessageDirection.clientToServer,t.type=new yv.ProtocolNotificationType(t.method)})(NR||(Ec.DidRenameFilesNotification=NR={}));var OR;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=yv.MessageDirection.clientToServer,t.type=new yv.ProtocolNotificationType(t.method)})(OR||(Ec.DidDeleteFilesNotification=OR={}));var kR;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=yv.MessageDirection.clientToServer,t.type=new yv.ProtocolRequestType(t.method)})(kR||(Ec.WillDeleteFilesRequest=kR={}))});var qR=Oe(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.MonikerRequest=Yh.MonikerKind=Yh.UniquenessLevel=void 0;var FR=$o(),LR;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(LR||(Yh.UniquenessLevel=LR={}));var AR;(function(t){t.$import="import",t.$export="export",t.local="local"})(AR||(Yh.MonikerKind=AR={}));var MR;(function(t){t.method="textDocument/moniker",t.messageDirection=FR.MessageDirection.clientToServer,t.type=new FR.ProtocolRequestType(t.method)})(MR||(Yh.MonikerRequest=MR={}))});var $R=Oe(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.TypeHierarchySubtypesRequest=Wh.TypeHierarchySupertypesRequest=Wh.TypeHierarchyPrepareRequest=void 0;var i_=$o(),UR;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=i_.MessageDirection.clientToServer,t.type=new i_.ProtocolRequestType(t.method)})(UR||(Wh.TypeHierarchyPrepareRequest=UR={}));var HR;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=i_.MessageDirection.clientToServer,t.type=new i_.ProtocolRequestType(t.method)})(HR||(Wh.TypeHierarchySupertypesRequest=HR={}));var jR;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=i_.MessageDirection.clientToServer,t.type=new i_.ProtocolRequestType(t.method)})(jR||(Wh.TypeHierarchySubtypesRequest=jR={}))});var KR=Oe(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.InlineValueRefreshRequest=o_.InlineValueRequest=void 0;var uS=$o(),YR;(function(t){t.method="textDocument/inlineValue",t.messageDirection=uS.MessageDirection.clientToServer,t.type=new uS.ProtocolRequestType(t.method)})(YR||(o_.InlineValueRequest=YR={}));var WR;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=uS.MessageDirection.serverToClient,t.type=new uS.ProtocolRequestType0(t.method)})(WR||(o_.InlineValueRefreshRequest=WR={}))});var VR=Oe(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.InlayHintRefreshRequest=Kh.InlayHintResolveRequest=Kh.InlayHintRequest=void 0;var s_=$o(),zR;(function(t){t.method="textDocument/inlayHint",t.messageDirection=s_.MessageDirection.clientToServer,t.type=new s_.ProtocolRequestType(t.method)})(zR||(Kh.InlayHintRequest=zR={}));var GR;(function(t){t.method="inlayHint/resolve",t.messageDirection=s_.MessageDirection.clientToServer,t.type=new s_.ProtocolRequestType(t.method)})(GR||(Kh.InlayHintResolveRequest=GR={}));var BR;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=s_.MessageDirection.serverToClient,t.type=new s_.ProtocolRequestType0(t.method)})(BR||(Kh.InlayHintRefreshRequest=BR={}))});var nP=Oe(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.DiagnosticRefreshRequest=Sv.WorkspaceDiagnosticRequest=Sv.DocumentDiagnosticRequest=Sv.DocumentDiagnosticReportKind=Sv.DiagnosticServerCancellationData=void 0;var tP=_m(),CF=Xy(),a_=$o(),XR;(function(t){function e(n){let r=n;return r&&CF.boolean(r.retriggerRequest)}t.is=e})(XR||(Sv.DiagnosticServerCancellationData=XR={}));var JR;(function(t){t.Full="full",t.Unchanged="unchanged"})(JR||(Sv.DocumentDiagnosticReportKind=JR={}));var QR;(function(t){t.method="textDocument/diagnostic",t.messageDirection=a_.MessageDirection.clientToServer,t.type=new a_.ProtocolRequestType(t.method),t.partialResult=new tP.ProgressType})(QR||(Sv.DocumentDiagnosticRequest=QR={}));var ZR;(function(t){t.method="workspace/diagnostic",t.messageDirection=a_.MessageDirection.clientToServer,t.type=new a_.ProtocolRequestType(t.method),t.partialResult=new tP.ProgressType})(ZR||(Sv.WorkspaceDiagnosticRequest=ZR={}));var eP;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=a_.MessageDirection.serverToClient,t.type=new a_.ProtocolRequestType0(t.method)})(eP||(Sv.DiagnosticRefreshRequest=eP={}))});var cP=Oe(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.DidCloseNotebookDocumentNotification=Cs.DidSaveNotebookDocumentNotification=Cs.DidChangeNotebookDocumentNotification=Cs.NotebookCellArrayChange=Cs.DidOpenNotebookDocumentNotification=Cs.NotebookDocumentSyncRegistrationType=Cs.NotebookDocument=Cs.NotebookCell=Cs.ExecutionSummary=Cs.NotebookCellKind=void 0;var H_=Vy(),_p=Xy(),lg=$o(),sT;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(sT||(Cs.NotebookCellKind=sT={}));var aT;(function(t){function e(s,v){let h={executionOrder:s};return(v===!0||v===!1)&&(h.success=v),h}t.create=e;function n(s){let v=s;return _p.objectLiteral(v)&&H_.uinteger.is(v.executionOrder)&&(v.success===void 0||_p.boolean(v.success))}t.is=n;function r(s,v){return s===v?!0:s==null||v===null||v===void 0?!1:s.executionOrder===v.executionOrder&&s.success===v.success}t.equals=r})(aT||(Cs.ExecutionSummary=aT={}));var cS;(function(t){function e(v,h){return{kind:v,document:h}}t.create=e;function n(v){let h=v;return _p.objectLiteral(h)&&sT.is(h.kind)&&H_.DocumentUri.is(h.document)&&(h.metadata===void 0||_p.objectLiteral(h.metadata))}t.is=n;function r(v,h){let D=new Set;return v.document!==h.document&&D.add("document"),v.kind!==h.kind&&D.add("kind"),v.executionSummary!==h.executionSummary&&D.add("executionSummary"),(v.metadata!==void 0||h.metadata!==void 0)&&!s(v.metadata,h.metadata)&&D.add("metadata"),(v.executionSummary!==void 0||h.executionSummary!==void 0)&&!aT.equals(v.executionSummary,h.executionSummary)&&D.add("executionSummary"),D}t.diff=r;function s(v,h){if(v===h)return!0;if(v==null||h===null||h===void 0||typeof v!=typeof h||typeof v!="object")return!1;let D=Array.isArray(v),E=Array.isArray(h);if(D!==E)return!1;if(D&&E){if(v.length!==h.length)return!1;for(let I=0;I<v.length;I++)if(!s(v[I],h[I]))return!1}if(_p.objectLiteral(v)&&_p.objectLiteral(h)){let I=Object.keys(v),M=Object.keys(h);if(I.length!==M.length||(I.sort(),M.sort(),!s(I,M)))return!1;for(let $=0;$<I.length;$++){let W=I[$];if(!s(v[W],h[W]))return!1}}return!0}})(cS||(Cs.NotebookCell=cS={}));var rP;(function(t){function e(r,s,v,h){return{uri:r,notebookType:s,version:v,cells:h}}t.create=e;function n(r){let s=r;return _p.objectLiteral(s)&&_p.string(s.uri)&&H_.integer.is(s.version)&&_p.typedArray(s.cells,cS.is)}t.is=n})(rP||(Cs.NotebookDocument=rP={}));var u_;(function(t){t.method="notebookDocument/sync",t.messageDirection=lg.MessageDirection.clientToServer,t.type=new lg.RegistrationType(t.method)})(u_||(Cs.NotebookDocumentSyncRegistrationType=u_={}));var iP;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=lg.MessageDirection.clientToServer,t.type=new lg.ProtocolNotificationType(t.method),t.registrationMethod=u_.method})(iP||(Cs.DidOpenNotebookDocumentNotification=iP={}));var oP;(function(t){function e(r){let s=r;return _p.objectLiteral(s)&&H_.uinteger.is(s.start)&&H_.uinteger.is(s.deleteCount)&&(s.cells===void 0||_p.typedArray(s.cells,cS.is))}t.is=e;function n(r,s,v){let h={start:r,deleteCount:s};return v!==void 0&&(h.cells=v),h}t.create=n})(oP||(Cs.NotebookCellArrayChange=oP={}));var sP;(function(t){t.method="notebookDocument/didChange",t.messageDirection=lg.MessageDirection.clientToServer,t.type=new lg.ProtocolNotificationType(t.method),t.registrationMethod=u_.method})(sP||(Cs.DidChangeNotebookDocumentNotification=sP={}));var aP;(function(t){t.method="notebookDocument/didSave",t.messageDirection=lg.MessageDirection.clientToServer,t.type=new lg.ProtocolNotificationType(t.method),t.registrationMethod=u_.method})(aP||(Cs.DidSaveNotebookDocumentNotification=aP={}));var uP;(function(t){t.method="notebookDocument/didClose",t.messageDirection=lg.MessageDirection.clientToServer,t.type=new lg.ProtocolNotificationType(t.method),t.registrationMethod=u_.method})(uP||(Cs.DidCloseNotebookDocumentNotification=uP={}))});var dP=Oe(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.InlineCompletionRequest=void 0;var lP=$o(),fP;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=lP.MessageDirection.clientToServer,t.type=new lP.ProtocolRequestType(t.method)})(fP||(lS.InlineCompletionRequest=fP={}))});var bI=Oe(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.WorkspaceSymbolRequest=Z.CodeActionResolveRequest=Z.CodeActionRequest=Z.DocumentSymbolRequest=Z.DocumentHighlightRequest=Z.ReferencesRequest=Z.DefinitionRequest=Z.SignatureHelpRequest=Z.SignatureHelpTriggerKind=Z.HoverRequest=Z.CompletionResolveRequest=Z.CompletionRequest=Z.CompletionTriggerKind=Z.PublishDiagnosticsNotification=Z.WatchKind=Z.RelativePattern=Z.FileChangeType=Z.DidChangeWatchedFilesNotification=Z.WillSaveTextDocumentWaitUntilRequest=Z.WillSaveTextDocumentNotification=Z.TextDocumentSaveReason=Z.DidSaveTextDocumentNotification=Z.DidCloseTextDocumentNotification=Z.DidChangeTextDocumentNotification=Z.TextDocumentContentChangeEvent=Z.DidOpenTextDocumentNotification=Z.TextDocumentSyncKind=Z.TelemetryEventNotification=Z.LogMessageNotification=Z.ShowMessageRequest=Z.ShowMessageNotification=Z.MessageType=Z.DidChangeConfigurationNotification=Z.ExitNotification=Z.ShutdownRequest=Z.InitializedNotification=Z.InitializeErrorCodes=Z.InitializeRequest=Z.WorkDoneProgressOptions=Z.TextDocumentRegistrationOptions=Z.StaticRegistrationOptions=Z.PositionEncodingKind=Z.FailureHandlingKind=Z.ResourceOperationKind=Z.UnregistrationRequest=Z.RegistrationRequest=Z.DocumentSelector=Z.NotebookCellTextDocumentFilter=Z.NotebookDocumentFilter=Z.TextDocumentFilter=void 0;Z.MonikerRequest=Z.MonikerKind=Z.UniquenessLevel=Z.WillDeleteFilesRequest=Z.DidDeleteFilesNotification=Z.WillRenameFilesRequest=Z.DidRenameFilesNotification=Z.WillCreateFilesRequest=Z.DidCreateFilesNotification=Z.FileOperationPatternKind=Z.LinkedEditingRangeRequest=Z.ShowDocumentRequest=Z.SemanticTokensRegistrationType=Z.SemanticTokensRefreshRequest=Z.SemanticTokensRangeRequest=Z.SemanticTokensDeltaRequest=Z.SemanticTokensRequest=Z.TokenFormat=Z.CallHierarchyPrepareRequest=Z.CallHierarchyOutgoingCallsRequest=Z.CallHierarchyIncomingCallsRequest=Z.WorkDoneProgressCancelNotification=Z.WorkDoneProgressCreateRequest=Z.WorkDoneProgress=Z.SelectionRangeRequest=Z.DeclarationRequest=Z.FoldingRangeRefreshRequest=Z.FoldingRangeRequest=Z.ColorPresentationRequest=Z.DocumentColorRequest=Z.ConfigurationRequest=Z.DidChangeWorkspaceFoldersNotification=Z.WorkspaceFoldersRequest=Z.TypeDefinitionRequest=Z.ImplementationRequest=Z.ApplyWorkspaceEditRequest=Z.ExecuteCommandRequest=Z.PrepareRenameRequest=Z.RenameRequest=Z.PrepareSupportDefaultBehavior=Z.DocumentOnTypeFormattingRequest=Z.DocumentRangesFormattingRequest=Z.DocumentRangeFormattingRequest=Z.DocumentFormattingRequest=Z.DocumentLinkResolveRequest=Z.DocumentLinkRequest=Z.CodeLensRefreshRequest=Z.CodeLensResolveRequest=Z.CodeLensRequest=Z.WorkspaceSymbolResolveRequest=void 0;Z.InlineCompletionRequest=Z.DidCloseNotebookDocumentNotification=Z.DidSaveNotebookDocumentNotification=Z.DidChangeNotebookDocumentNotification=Z.NotebookCellArrayChange=Z.DidOpenNotebookDocumentNotification=Z.NotebookDocumentSyncRegistrationType=Z.NotebookDocument=Z.NotebookCell=Z.ExecutionSummary=Z.NotebookCellKind=Z.DiagnosticRefreshRequest=Z.WorkspaceDiagnosticRequest=Z.DocumentDiagnosticRequest=Z.DocumentDiagnosticReportKind=Z.DiagnosticServerCancellationData=Z.InlayHintRefreshRequest=Z.InlayHintResolveRequest=Z.InlayHintRequest=Z.InlineValueRefreshRequest=Z.InlineValueRequest=Z.TypeHierarchySupertypesRequest=Z.TypeHierarchySubtypesRequest=Z.TypeHierarchyPrepareRequest=void 0;var Ct=$o(),vP=Vy(),lu=Xy(),TF=qw();Object.defineProperty(Z,"ImplementationRequest",{enumerable:!0,get:function(){return TF.ImplementationRequest}});var EF=jw();Object.defineProperty(Z,"TypeDefinitionRequest",{enumerable:!0,get:function(){return EF.TypeDefinitionRequest}});var DI=Ww();Object.defineProperty(Z,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return DI.WorkspaceFoldersRequest}});Object.defineProperty(Z,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return DI.DidChangeWorkspaceFoldersNotification}});var bF=Gw();Object.defineProperty(Z,"ConfigurationRequest",{enumerable:!0,get:function(){return bF.ConfigurationRequest}});var CI=Xw();Object.defineProperty(Z,"DocumentColorRequest",{enumerable:!0,get:function(){return CI.DocumentColorRequest}});Object.defineProperty(Z,"ColorPresentationRequest",{enumerable:!0,get:function(){return CI.ColorPresentationRequest}});var TI=Zw();Object.defineProperty(Z,"FoldingRangeRequest",{enumerable:!0,get:function(){return TI.FoldingRangeRequest}});Object.defineProperty(Z,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return TI.FoldingRangeRefreshRequest}});var wF=nR();Object.defineProperty(Z,"DeclarationRequest",{enumerable:!0,get:function(){return wF.DeclarationRequest}});var RF=oR();Object.defineProperty(Z,"SelectionRangeRequest",{enumerable:!0,get:function(){return RF.SelectionRangeRequest}});var dT=cR();Object.defineProperty(Z,"WorkDoneProgress",{enumerable:!0,get:function(){return dT.WorkDoneProgress}});Object.defineProperty(Z,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return dT.WorkDoneProgressCreateRequest}});Object.defineProperty(Z,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return dT.WorkDoneProgressCancelNotification}});var vT=vR();Object.defineProperty(Z,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return vT.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Z,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return vT.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Z,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return vT.CallHierarchyPrepareRequest}});var c_=yR();Object.defineProperty(Z,"TokenFormat",{enumerable:!0,get:function(){return c_.TokenFormat}});Object.defineProperty(Z,"SemanticTokensRequest",{enumerable:!0,get:function(){return c_.SemanticTokensRequest}});Object.defineProperty(Z,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return c_.SemanticTokensDeltaRequest}});Object.defineProperty(Z,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return c_.SemanticTokensRangeRequest}});Object.defineProperty(Z,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return c_.SemanticTokensRefreshRequest}});Object.defineProperty(Z,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return c_.SemanticTokensRegistrationType}});var PF=CR();Object.defineProperty(Z,"ShowDocumentRequest",{enumerable:!0,get:function(){return PF.ShowDocumentRequest}});var IF=bR();Object.defineProperty(Z,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return IF.LinkedEditingRangeRequest}});var ym=xR();Object.defineProperty(Z,"FileOperationPatternKind",{enumerable:!0,get:function(){return ym.FileOperationPatternKind}});Object.defineProperty(Z,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ym.DidCreateFilesNotification}});Object.defineProperty(Z,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ym.WillCreateFilesRequest}});Object.defineProperty(Z,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ym.DidRenameFilesNotification}});Object.defineProperty(Z,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ym.WillRenameFilesRequest}});Object.defineProperty(Z,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ym.DidDeleteFilesNotification}});Object.defineProperty(Z,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ym.WillDeleteFilesRequest}});var pT=qR();Object.defineProperty(Z,"UniquenessLevel",{enumerable:!0,get:function(){return pT.UniquenessLevel}});Object.defineProperty(Z,"MonikerKind",{enumerable:!0,get:function(){return pT.MonikerKind}});Object.defineProperty(Z,"MonikerRequest",{enumerable:!0,get:function(){return pT.MonikerRequest}});var gT=$R();Object.defineProperty(Z,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return gT.TypeHierarchyPrepareRequest}});Object.defineProperty(Z,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return gT.TypeHierarchySubtypesRequest}});Object.defineProperty(Z,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return gT.TypeHierarchySupertypesRequest}});var EI=KR();Object.defineProperty(Z,"InlineValueRequest",{enumerable:!0,get:function(){return EI.InlineValueRequest}});Object.defineProperty(Z,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return EI.InlineValueRefreshRequest}});var hT=VR();Object.defineProperty(Z,"InlayHintRequest",{enumerable:!0,get:function(){return hT.InlayHintRequest}});Object.defineProperty(Z,"InlayHintResolveRequest",{enumerable:!0,get:function(){return hT.InlayHintResolveRequest}});Object.defineProperty(Z,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return hT.InlayHintRefreshRequest}});var j_=nP();Object.defineProperty(Z,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return j_.DiagnosticServerCancellationData}});Object.defineProperty(Z,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return j_.DocumentDiagnosticReportKind}});Object.defineProperty(Z,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return j_.DocumentDiagnosticRequest}});Object.defineProperty(Z,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return j_.WorkspaceDiagnosticRequest}});Object.defineProperty(Z,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return j_.DiagnosticRefreshRequest}});var fg=cP();Object.defineProperty(Z,"NotebookCellKind",{enumerable:!0,get:function(){return fg.NotebookCellKind}});Object.defineProperty(Z,"ExecutionSummary",{enumerable:!0,get:function(){return fg.ExecutionSummary}});Object.defineProperty(Z,"NotebookCell",{enumerable:!0,get:function(){return fg.NotebookCell}});Object.defineProperty(Z,"NotebookDocument",{enumerable:!0,get:function(){return fg.NotebookDocument}});Object.defineProperty(Z,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return fg.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Z,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return fg.DidOpenNotebookDocumentNotification}});Object.defineProperty(Z,"NotebookCellArrayChange",{enumerable:!0,get:function(){return fg.NotebookCellArrayChange}});Object.defineProperty(Z,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return fg.DidChangeNotebookDocumentNotification}});Object.defineProperty(Z,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return fg.DidSaveNotebookDocumentNotification}});Object.defineProperty(Z,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return fg.DidCloseNotebookDocumentNotification}});var NF=dP();Object.defineProperty(Z,"InlineCompletionRequest",{enumerable:!0,get:function(){return NF.InlineCompletionRequest}});var uT;(function(t){function e(n){let r=n;return lu.string(r)||lu.string(r.language)||lu.string(r.scheme)||lu.string(r.pattern)}t.is=e})(uT||(Z.TextDocumentFilter=uT={}));var cT;(function(t){function e(n){let r=n;return lu.objectLiteral(r)&&(lu.string(r.notebookType)||lu.string(r.scheme)||lu.string(r.pattern))}t.is=e})(cT||(Z.NotebookDocumentFilter=cT={}));var lT;(function(t){function e(n){let r=n;return lu.objectLiteral(r)&&(lu.string(r.notebook)||cT.is(r.notebook))&&(r.language===void 0||lu.string(r.language))}t.is=e})(lT||(Z.NotebookCellTextDocumentFilter=lT={}));var fT;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!lu.string(r)&&!uT.is(r)&&!lT.is(r))return!1;return!0}t.is=e})(fT||(Z.DocumentSelector=fT={}));var pP;(function(t){t.method="client/registerCapability",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType(t.method)})(pP||(Z.RegistrationRequest=pP={}));var gP;(function(t){t.method="client/unregisterCapability",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType(t.method)})(gP||(Z.UnregistrationRequest=gP={}));var hP;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(hP||(Z.ResourceOperationKind=hP={}));var mP;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(mP||(Z.FailureHandlingKind=mP={}));var _P;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(_P||(Z.PositionEncodingKind=_P={}));var yP;(function(t){function e(n){let r=n;return r&&lu.string(r.id)&&r.id.length>0}t.hasId=e})(yP||(Z.StaticRegistrationOptions=yP={}));var SP;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||fT.is(r.documentSelector))}t.is=e})(SP||(Z.TextDocumentRegistrationOptions=SP={}));var DP;(function(t){function e(r){let s=r;return lu.objectLiteral(s)&&(s.workDoneProgress===void 0||lu.boolean(s.workDoneProgress))}t.is=e;function n(r){let s=r;return s&&lu.boolean(s.workDoneProgress)}t.hasWorkDoneProgress=n})(DP||(Z.WorkDoneProgressOptions=DP={}));var CP;(function(t){t.method="initialize",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(CP||(Z.InitializeRequest=CP={}));var TP;(function(t){t.unknownProtocolVersion=1})(TP||(Z.InitializeErrorCodes=TP={}));var EP;(function(t){t.method="initialized",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(EP||(Z.InitializedNotification=EP={}));var bP;(function(t){t.method="shutdown",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType0(t.method)})(bP||(Z.ShutdownRequest=bP={}));var wP;(function(t){t.method="exit",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType0(t.method)})(wP||(Z.ExitNotification=wP={}));var RP;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(RP||(Z.DidChangeConfigurationNotification=RP={}));var PP;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(PP||(Z.MessageType=PP={}));var IP;(function(t){t.method="window/showMessage",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(IP||(Z.ShowMessageNotification=IP={}));var NP;(function(t){t.method="window/showMessageRequest",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType(t.method)})(NP||(Z.ShowMessageRequest=NP={}));var OP;(function(t){t.method="window/logMessage",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(OP||(Z.LogMessageNotification=OP={}));var kP;(function(t){t.method="telemetry/event",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(kP||(Z.TelemetryEventNotification=kP={}));var xP;(function(t){t.None=0,t.Full=1,t.Incremental=2})(xP||(Z.TextDocumentSyncKind=xP={}));var FP;(function(t){t.method="textDocument/didOpen",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(FP||(Z.DidOpenTextDocumentNotification=FP={}));var LP;(function(t){function e(r){let s=r;return s!=null&&typeof s.text=="string"&&s.range!==void 0&&(s.rangeLength===void 0||typeof s.rangeLength=="number")}t.isIncremental=e;function n(r){let s=r;return s!=null&&typeof s.text=="string"&&s.range===void 0&&s.rangeLength===void 0}t.isFull=n})(LP||(Z.TextDocumentContentChangeEvent=LP={}));var AP;(function(t){t.method="textDocument/didChange",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(AP||(Z.DidChangeTextDocumentNotification=AP={}));var MP;(function(t){t.method="textDocument/didClose",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(MP||(Z.DidCloseTextDocumentNotification=MP={}));var qP;(function(t){t.method="textDocument/didSave",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(qP||(Z.DidSaveTextDocumentNotification=qP={}));var UP;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(UP||(Z.TextDocumentSaveReason=UP={}));var HP;(function(t){t.method="textDocument/willSave",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})(HP||(Z.WillSaveTextDocumentNotification=HP={}));var jP;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(jP||(Z.WillSaveTextDocumentWaitUntilRequest=jP={}));var $P;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolNotificationType(t.method)})($P||(Z.DidChangeWatchedFilesNotification=$P={}));var YP;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(YP||(Z.FileChangeType=YP={}));var WP;(function(t){function e(n){let r=n;return lu.objectLiteral(r)&&(vP.URI.is(r.baseUri)||vP.WorkspaceFolder.is(r.baseUri))&&lu.string(r.pattern)}t.is=e})(WP||(Z.RelativePattern=WP={}));var KP;(function(t){t.Create=1,t.Change=2,t.Delete=4})(KP||(Z.WatchKind=KP={}));var zP;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolNotificationType(t.method)})(zP||(Z.PublishDiagnosticsNotification=zP={}));var GP;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(GP||(Z.CompletionTriggerKind=GP={}));var BP;(function(t){t.method="textDocument/completion",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(BP||(Z.CompletionRequest=BP={}));var VP;(function(t){t.method="completionItem/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(VP||(Z.CompletionResolveRequest=VP={}));var XP;(function(t){t.method="textDocument/hover",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(XP||(Z.HoverRequest=XP={}));var JP;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(JP||(Z.SignatureHelpTriggerKind=JP={}));var QP;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(QP||(Z.SignatureHelpRequest=QP={}));var ZP;(function(t){t.method="textDocument/definition",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(ZP||(Z.DefinitionRequest=ZP={}));var eI;(function(t){t.method="textDocument/references",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(eI||(Z.ReferencesRequest=eI={}));var tI;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(tI||(Z.DocumentHighlightRequest=tI={}));var nI;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(nI||(Z.DocumentSymbolRequest=nI={}));var rI;(function(t){t.method="textDocument/codeAction",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(rI||(Z.CodeActionRequest=rI={}));var iI;(function(t){t.method="codeAction/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(iI||(Z.CodeActionResolveRequest=iI={}));var oI;(function(t){t.method="workspace/symbol",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(oI||(Z.WorkspaceSymbolRequest=oI={}));var sI;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(sI||(Z.WorkspaceSymbolResolveRequest=sI={}));var aI;(function(t){t.method="textDocument/codeLens",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(aI||(Z.CodeLensRequest=aI={}));var uI;(function(t){t.method="codeLens/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(uI||(Z.CodeLensResolveRequest=uI={}));var cI;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType0(t.method)})(cI||(Z.CodeLensRefreshRequest=cI={}));var lI;(function(t){t.method="textDocument/documentLink",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(lI||(Z.DocumentLinkRequest=lI={}));var fI;(function(t){t.method="documentLink/resolve",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(fI||(Z.DocumentLinkResolveRequest=fI={}));var dI;(function(t){t.method="textDocument/formatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(dI||(Z.DocumentFormattingRequest=dI={}));var vI;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(vI||(Z.DocumentRangeFormattingRequest=vI={}));var pI;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(pI||(Z.DocumentRangesFormattingRequest=pI={}));var gI;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(gI||(Z.DocumentOnTypeFormattingRequest=gI={}));var hI;(function(t){t.Identifier=1})(hI||(Z.PrepareSupportDefaultBehavior=hI={}));var mI;(function(t){t.method="textDocument/rename",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(mI||(Z.RenameRequest=mI={}));var _I;(function(t){t.method="textDocument/prepareRename",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(_I||(Z.PrepareRenameRequest=_I={}));var yI;(function(t){t.method="workspace/executeCommand",t.messageDirection=Ct.MessageDirection.clientToServer,t.type=new Ct.ProtocolRequestType(t.method)})(yI||(Z.ExecuteCommandRequest=yI={}));var SI;(function(t){t.method="workspace/applyEdit",t.messageDirection=Ct.MessageDirection.serverToClient,t.type=new Ct.ProtocolRequestType("workspace/applyEdit")})(SI||(Z.ApplyWorkspaceEditRequest=SI={}))});var RI=Oe(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.createProtocolConnection=void 0;var wI=_m();function OF(t,e,n,r){return wI.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,wI.createMessageConnection)(t,e,n,r)}fS.createProtocolConnection=OF});var II=Oe(af=>{"use strict";var kF=af&&af.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),dS=af&&af.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kF(e,t,n)};Object.defineProperty(af,"__esModule",{value:!0});af.LSPErrorCodes=af.createProtocolConnection=void 0;dS(_m(),af);dS(Vy(),af);dS($o(),af);dS(bI(),af);var xF=RI();Object.defineProperty(af,"createProtocolConnection",{enumerable:!0,get:function(){return xF.createProtocolConnection}});var PI;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(PI||(af.LSPErrorCodes=PI={}))});var mr=Oe(dg=>{"use strict";var FF=dg&&dg.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),NI=dg&&dg.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&FF(e,t,n)};Object.defineProperty(dg,"__esModule",{value:!0});dg.createProtocolConnection=void 0;var LF=eT();NI(eT(),dg);NI(II(),dg);function AF(t,e,n,r){return(0,LF.createMessageConnection)(t,e,n,r)}dg.createProtocolConnection=AF});var vS=Oe(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.forEach=bc.mapAsync=bc.map=bc.clearTestMode=bc.setTestMode=bc.Semaphore=bc.Delayer=void 0;var Y_=mr(),mT=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,Y_.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};bc.Delayer=mT;var _T=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Y_.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};bc.Semaphore=_T;var yT=!1;function MF(){yT=!0}bc.setTestMode=MF;function qF(){yT=!1}bc.clearTestMode=qF;var OI=15,$_=class{constructor(e=OI){this.yieldAfter=yT===!0?Math.max(e,2):Math.max(e,OI),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function UF(t,e,n,r){if(t.length===0)return[];let s=new Array(t.length),v=new $_(r?.yieldAfter);function h(E){v.start();for(let I=E;I<t.length;I++)if(s[I]=e(t[I]),v.shouldYield())return r?.yieldCallback&&r.yieldCallback(),I+1;return-1}let D=h(0);for(;D!==-1&&!(n!==void 0&&n.isCancellationRequested);)D=await new Promise(E=>{(0,Y_.RAL)().timer.setImmediate(()=>{E(h(D))})});return s}bc.map=UF;async function HF(t,e,n,r){if(t.length===0)return[];let s=new Array(t.length),v=new $_(r?.yieldAfter);async function h(E){v.start();for(let I=E;I<t.length;I++)if(s[I]=await e(t[I],n),v.shouldYield())return r?.yieldCallback&&r.yieldCallback(),I+1;return-1}let D=await h(0);for(;D!==-1&&!(n!==void 0&&n.isCancellationRequested);)D=await new Promise(E=>{(0,Y_.RAL)().timer.setImmediate(()=>{E(h(D))})});return s}bc.mapAsync=HF;async function jF(t,e,n,r){if(t.length===0)return;let s=new $_(r?.yieldAfter);function v(D){s.start();for(let E=D;E<t.length;E++)if(e(t[E]),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),E+1;return-1}let h=v(0);for(;h!==-1&&!(n!==void 0&&n.isCancellationRequested);)h=await new Promise(D=>{(0,Y_.RAL)().timer.setImmediate(()=>{D(v(h))})})}bc.forEach=jF});var CT=Oe(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0});var $F=require("vscode"),ST=class extends $F.CompletionItem{constructor(e){super(e)}};DT.default=ST});var bT=Oe(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});var YF=require("vscode"),TT=class extends YF.CodeLens{constructor(e){super(e)}};ET.default=TT});var PT=Oe(RT=>{"use strict";Object.defineProperty(RT,"__esModule",{value:!0});var WF=require("vscode"),wT=class extends WF.DocumentLink{constructor(e,n){super(e,n)}};RT.default=wT});var OT=Oe(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});var KF=require("vscode"),IT=class extends KF.CodeAction{constructor(e,n){super(e),this.data=n}};NT.default=IT});var FT=Oe(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.ProtocolDiagnostic=l_.DiagnosticCode=void 0;var zF=require("vscode"),kT=_v(),kI;(function(t){function e(n){let r=n;return r!=null&&(kT.number(r.value)||kT.string(r.value))&&kT.string(r.target)}t.is=e})(kI||(l_.DiagnosticCode=kI={}));var xT=class extends zF.Diagnostic{constructor(e,n,r,s){super(e,n,r),this.data=s,this.hasDiagnosticCode=!1}};l_.ProtocolDiagnostic=xT});var MT=Oe(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0});var GF=require("vscode"),LT=class extends GF.CallHierarchyItem{constructor(e,n,r,s,v,h,D){super(e,n,r,s,v,h),D!==void 0&&(this.data=D)}};AT.default=LT});var HT=Oe(UT=>{"use strict";Object.defineProperty(UT,"__esModule",{value:!0});var BF=require("vscode"),qT=class extends BF.TypeHierarchyItem{constructor(e,n,r,s,v,h,D){super(e,n,r,s,v,h),D!==void 0&&(this.data=D)}};UT.default=qT});var YT=Oe($T=>{"use strict";Object.defineProperty($T,"__esModule",{value:!0});var pS=require("vscode"),jT=class extends pS.SymbolInformation{constructor(e,n,r,s,v){let h=!(s instanceof pS.Uri);super(e,n,r,h?s:new pS.Location(s,new pS.Range(0,0,0,0))),this.hasRange=h,v!==void 0&&(this.data=v)}};$T.default=jT});var zT=Oe(KT=>{"use strict";Object.defineProperty(KT,"__esModule",{value:!0});var VF=require("vscode"),WT=class extends VF.InlayHint{constructor(e,n,r){super(e,n,r)}};KT.default=WT});var AI=Oe(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.createConverter=void 0;var fa=require("vscode"),Sr=mr(),Sm=_v(),xI=vS(),XF=CT(),JF=bT(),QF=PT(),FI=OT(),LI=FT(),ZF=MT(),eL=HT(),tL=YT(),nL=zT(),GT;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(GT||(GT={}));function rL(t){let n=t||(L=>L.toString());function r(L){return n(L)}function s(L){return{uri:n(L.uri)}}function v(L){return{uri:n(L.uri),languageId:L.languageId,version:L.version,text:L.getText()}}function h(L){return{uri:n(L.uri),version:L.version}}function D(L){return{textDocument:v(L)}}function E(L){let Ce=L;return!!Ce.document&&!!Ce.contentChanges}function I(L){let Ce=L;return!!Ce.uri&&!!Ce.version}function M(L,Ce,kt){if(I(L))return{textDocument:{uri:n(L.uri),version:L.version},contentChanges:[{text:L.getText()}]};if(E(L)){let lr=Ce,fe=kt;return{textDocument:{uri:n(lr),version:fe},contentChanges:L.contentChanges.map(te=>{let ie=te.range;return{range:{start:{line:ie.start.line,character:ie.start.character},end:{line:ie.end.line,character:ie.end.character}},rangeLength:te.rangeLength,text:te.text}})}}else throw Error("Unsupported text document change parameter")}function $(L){return{textDocument:s(L)}}function W(L,Ce=!1){let kt={textDocument:s(L)};return Ce&&(kt.text=L.getText()),kt}function ne(L){switch(L){case fa.TextDocumentSaveReason.Manual:return Sr.TextDocumentSaveReason.Manual;case fa.TextDocumentSaveReason.AfterDelay:return Sr.TextDocumentSaveReason.AfterDelay;case fa.TextDocumentSaveReason.FocusOut:return Sr.TextDocumentSaveReason.FocusOut}return Sr.TextDocumentSaveReason.Manual}function z(L){return{textDocument:s(L.document),reason:ne(L.reason)}}function _e(L){return{files:L.files.map(Ce=>({uri:n(Ce)}))}}function ge(L){return{files:L.files.map(Ce=>({oldUri:n(Ce.oldUri),newUri:n(Ce.newUri)}))}}function Ae(L){return{files:L.files.map(Ce=>({uri:n(Ce)}))}}function Me(L){return{files:L.files.map(Ce=>({uri:n(Ce)}))}}function ze(L){return{files:L.files.map(Ce=>({oldUri:n(Ce.oldUri),newUri:n(Ce.newUri)}))}}function rt(L){return{files:L.files.map(Ce=>({uri:n(Ce)}))}}function Pt(L,Ce){return{textDocument:s(L),position:Nn(Ce)}}function on(L){switch(L){case fa.CompletionTriggerKind.TriggerCharacter:return Sr.CompletionTriggerKind.TriggerCharacter;case fa.CompletionTriggerKind.TriggerForIncompleteCompletions:return Sr.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Sr.CompletionTriggerKind.Invoked}}function we(L,Ce,kt){return{textDocument:s(L),position:Nn(Ce),context:{triggerKind:on(kt.triggerKind),triggerCharacter:kt.triggerCharacter}}}function ke(L){switch(L){case fa.SignatureHelpTriggerKind.Invoke:return Sr.SignatureHelpTriggerKind.Invoked;case fa.SignatureHelpTriggerKind.TriggerCharacter:return Sr.SignatureHelpTriggerKind.TriggerCharacter;case fa.SignatureHelpTriggerKind.ContentChange:return Sr.SignatureHelpTriggerKind.ContentChange}}function Qe(L){return{label:L.label}}function dt(L){return L.map(Qe)}function It(L){return{label:L.label,parameters:dt(L.parameters)}}function yt(L){return L.map(It)}function Qt(L){return L===void 0?L:{signatures:yt(L.signatures),activeSignature:L.activeSignature,activeParameter:L.activeParameter}}function un(L,Ce,kt){return{textDocument:s(L),position:Nn(Ce),context:{isRetrigger:kt.isRetrigger,triggerCharacter:kt.triggerCharacter,triggerKind:ke(kt.triggerKind),activeSignatureHelp:Qt(kt.activeSignatureHelp)}}}function Nn(L){return{line:L.line,character:L.character}}function tt(L){return L==null?L:{line:L.line>Sr.uinteger.MAX_VALUE?Sr.uinteger.MAX_VALUE:L.line,character:L.character>Sr.uinteger.MAX_VALUE?Sr.uinteger.MAX_VALUE:L.character}}function Zr(L,Ce){return xI.map(L,tt,Ce)}function Ze(L){return L.map(tt)}function ut(L){return L==null?L:{start:tt(L.start),end:tt(L.end)}}function mn(L){return L.map(ut)}function Jt(L){return L==null?L:Sr.Location.create(r(L.uri),ut(L.range))}function Ut(L){switch(L){case fa.DiagnosticSeverity.Error:return Sr.DiagnosticSeverity.Error;case fa.DiagnosticSeverity.Warning:return Sr.DiagnosticSeverity.Warning;case fa.DiagnosticSeverity.Information:return Sr.DiagnosticSeverity.Information;case fa.DiagnosticSeverity.Hint:return Sr.DiagnosticSeverity.Hint}}function et(L){if(!L)return;let Ce=[];for(let kt of L){let lr=_r(kt);lr!==void 0&&Ce.push(lr)}return Ce.length>0?Ce:void 0}function _r(L){switch(L){case fa.DiagnosticTag.Unnecessary:return Sr.DiagnosticTag.Unnecessary;case fa.DiagnosticTag.Deprecated:return Sr.DiagnosticTag.Deprecated;default:return}}function bt(L){return{message:L.message,location:Jt(L.location)}}function Po(L){return L.map(bt)}function fn(L){if(L!=null)return Sm.number(L)||Sm.string(L)?L:{value:L.value,target:r(L.target)}}function Yi(L){let Ce=Sr.Diagnostic.create(ut(L.range),L.message),kt=L instanceof LI.ProtocolDiagnostic?L:void 0;kt!==void 0&&kt.data!==void 0&&(Ce.data=kt.data);let lr=fn(L.code);return LI.DiagnosticCode.is(lr)?kt!==void 0&&kt.hasDiagnosticCode?Ce.code=lr:(Ce.code=lr.value,Ce.codeDescription={href:lr.target}):Ce.code=lr,Sm.number(L.severity)&&(Ce.severity=Ut(L.severity)),Array.isArray(L.tags)&&(Ce.tags=et(L.tags)),L.relatedInformation&&(Ce.relatedInformation=Po(L.relatedInformation)),L.source&&(Ce.source=L.source),Ce}function nn(L,Ce){return L==null?L:xI.map(L,Yi,Ce)}function dn(L){return L==null?L:L.map(Yi)}function ei(L,Ce){switch(L){case"$string":return Ce;case Sr.MarkupKind.PlainText:return{kind:L,value:Ce};case Sr.MarkupKind.Markdown:return{kind:L,value:Ce.value};default:return`Unsupported Markup content received. Kind is: ${L}`}}function Xt(L){switch(L){case fa.CompletionItemTag.Deprecated:return Sr.CompletionItemTag.Deprecated}}function fi(L){if(L===void 0)return L;let Ce=[];for(let kt of L){let lr=Xt(kt);lr!==void 0&&Ce.push(lr)}return Ce}function Kn(L,Ce){return Ce!==void 0?Ce:L+1}function no(L,Ce=!1){let kt,lr;Sm.string(L.label)?kt=L.label:(kt=L.label.label,Ce&&(L.label.detail!==void 0||L.label.description!==void 0)&&(lr={detail:L.label.detail,description:L.label.description}));let fe={label:kt};lr!==void 0&&(fe.labelDetails=lr);let F=L instanceof XF.default?L:void 0;L.detail&&(fe.detail=L.detail),L.documentation&&(!F||F.documentationFormat==="$string"?fe.documentation=L.documentation:fe.documentation=ei(F.documentationFormat,L.documentation)),L.filterText&&(fe.filterText=L.filterText),cn(fe,L),Sm.number(L.kind)&&(fe.kind=Kn(L.kind,F&&F.originalItemKind)),L.sortText&&(fe.sortText=L.sortText),L.additionalTextEdits&&(fe.additionalTextEdits=Fr(L.additionalTextEdits)),L.commitCharacters&&(fe.commitCharacters=L.commitCharacters.slice()),L.command&&(fe.command=it(L.command)),(L.preselect===!0||L.preselect===!1)&&(fe.preselect=L.preselect);let te=fi(L.tags);if(F){if(F.data!==void 0&&(fe.data=F.data),F.deprecated===!0||F.deprecated===!1){if(F.deprecated===!0&&te!==void 0&&te.length>0){let ie=te.indexOf(fa.CompletionItemTag.Deprecated);ie!==-1&&te.splice(ie,1)}fe.deprecated=F.deprecated}F.insertTextMode!==void 0&&(fe.insertTextMode=F.insertTextMode)}return te!==void 0&&te.length>0&&(fe.tags=te),fe.insertTextMode===void 0&&L.keepWhitespace===!0&&(fe.insertTextMode=Sr.InsertTextMode.adjustIndentation),fe}function cn(L,Ce){let kt=Sr.InsertTextFormat.PlainText,lr,fe;Ce.textEdit?(lr=Ce.textEdit.newText,fe=Ce.textEdit.range):Ce.insertText instanceof fa.SnippetString?(kt=Sr.InsertTextFormat.Snippet,lr=Ce.insertText.value):lr=Ce.insertText,Ce.range&&(fe=Ce.range),L.insertTextFormat=kt,Ce.fromEdit&&lr!==void 0&&fe!==void 0?L.textEdit=cr(lr,fe):L.insertText=lr}function cr(L,Ce){return GT.is(Ce)?Sr.InsertReplaceEdit.create(L,ut(Ce.inserting),ut(Ce.replacing)):{newText:L,range:ut(Ce)}}function Hi(L){return{range:ut(L.range),newText:L.newText}}function Fr(L){return L==null?L:L.map(Hi)}function Bn(L){return L<=fa.SymbolKind.TypeParameter?L+1:Sr.SymbolKind.Property}function pr(L){return L}function Si(L){return L.map(pr)}function Kr(L,Ce,kt){return{textDocument:s(L),position:Nn(Ce),context:{includeDeclaration:kt.includeDeclaration}}}async function tr(L,Ce){let kt=Sr.CodeAction.create(L.title);if(L instanceof FI.default&&L.data!==void 0&&(kt.data=L.data),L.kind!==void 0&&(kt.kind=Q(L.kind)),L.diagnostics!==void 0&&(kt.diagnostics=await nn(L.diagnostics,Ce)),L.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return L.command!==void 0&&(kt.command=it(L.command)),L.isPreferred!==void 0&&(kt.isPreferred=L.isPreferred),L.disabled!==void 0&&(kt.disabled={reason:L.disabled.reason}),kt}function gn(L){let Ce=Sr.CodeAction.create(L.title);if(L instanceof FI.default&&L.data!==void 0&&(Ce.data=L.data),L.kind!==void 0&&(Ce.kind=Q(L.kind)),L.diagnostics!==void 0&&(Ce.diagnostics=dn(L.diagnostics)),L.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return L.command!==void 0&&(Ce.command=it(L.command)),L.isPreferred!==void 0&&(Ce.isPreferred=L.isPreferred),L.disabled!==void 0&&(Ce.disabled={reason:L.disabled.reason}),Ce}async function En(L,Ce){if(L==null)return L;let kt;return L.only&&Sm.string(L.only.value)&&(kt=[L.only.value]),Sr.CodeActionContext.create(await nn(L.diagnostics,Ce),kt,mo(L.triggerKind))}function gr(L){if(L==null)return L;let Ce;return L.only&&Sm.string(L.only.value)&&(Ce=[L.only.value]),Sr.CodeActionContext.create(dn(L.diagnostics),Ce,mo(L.triggerKind))}function mo(L){switch(L){case fa.CodeActionTriggerKind.Invoke:return Sr.CodeActionTriggerKind.Invoked;case fa.CodeActionTriggerKind.Automatic:return Sr.CodeActionTriggerKind.Automatic;default:return}}function Q(L){if(L!=null)return L.value}function Fe(L){return L==null?L:Sr.InlineValueContext.create(L.frameId,ut(L.stoppedLocation))}function lt(L,Ce,kt){return{context:Sr.InlineCompletionContext.create(kt.triggerKind,kt.selectedCompletionInfo),textDocument:s(L),position:tt(Ce)}}function it(L){let Ce=Sr.Command.create(L.title,L.command);return L.arguments&&(Ce.arguments=L.arguments),Ce}function Xn(L){let Ce=Sr.CodeLens.create(ut(L.range));return L.command&&(Ce.command=it(L.command)),L instanceof JF.default&&L.data&&(Ce.data=L.data),Ce}function Nt(L,Ce){let kt={tabSize:L.tabSize,insertSpaces:L.insertSpaces};return Ce.trimTrailingWhitespace&&(kt.trimTrailingWhitespace=!0),Ce.trimFinalNewlines&&(kt.trimFinalNewlines=!0),Ce.insertFinalNewline&&(kt.insertFinalNewline=!0),kt}function Un(L){return{textDocument:s(L)}}function nr(L){return{textDocument:s(L)}}function yn(L){let Ce=Sr.DocumentLink.create(ut(L.range));L.target&&(Ce.target=r(L.target)),L.tooltip!==void 0&&(Ce.tooltip=L.tooltip);let kt=L instanceof QF.default?L:void 0;return kt&&kt.data&&(Ce.data=kt.data),Ce}function or(L){return{textDocument:s(L)}}function hr(L){let Ce={name:L.name,kind:Bn(L.kind),uri:r(L.uri),range:ut(L.range),selectionRange:ut(L.selectionRange)};return L.detail!==void 0&&L.detail.length>0&&(Ce.detail=L.detail),L.tags!==void 0&&(Ce.tags=Si(L.tags)),L instanceof ZF.default&&L.data!==void 0&&(Ce.data=L.data),Ce}function Lr(L){let Ce={name:L.name,kind:Bn(L.kind),uri:r(L.uri),range:ut(L.range),selectionRange:ut(L.selectionRange)};return L.detail!==void 0&&L.detail.length>0&&(Ce.detail=L.detail),L.tags!==void 0&&(Ce.tags=Si(L.tags)),L instanceof eL.default&&L.data!==void 0&&(Ce.data=L.data),Ce}function Ur(L){let Ce=L instanceof tL.default?{name:L.name,kind:Bn(L.kind),location:L.hasRange?Jt(L.location):{uri:n(L.location.uri)},data:L.data}:{name:L.name,kind:Bn(L.kind),location:Jt(L.location)};return L.tags!==void 0&&(Ce.tags=Si(L.tags)),L.containerName!==""&&(Ce.containerName=L.containerName),Ce}function di(L){let Ce=typeof L.label=="string"?L.label:L.label.map(ro),kt=Sr.InlayHint.create(tt(L.position),Ce);return L.kind!==void 0&&(kt.kind=L.kind),L.textEdits!==void 0&&(kt.textEdits=Fr(L.textEdits)),L.tooltip!==void 0&&(kt.tooltip=Es(L.tooltip)),L.paddingLeft!==void 0&&(kt.paddingLeft=L.paddingLeft),L.paddingRight!==void 0&&(kt.paddingRight=L.paddingRight),L instanceof nL.default&&L.data!==void 0&&(kt.data=L.data),kt}function ro(L){let Ce=Sr.InlayHintLabelPart.create(L.value);return L.location!==void 0&&(Ce.location=Jt(L.location)),L.command!==void 0&&(Ce.command=it(L.command)),L.tooltip!==void 0&&(Ce.tooltip=Es(L.tooltip)),Ce}function Es(L){return typeof L=="string"?L:{kind:Sr.MarkupKind.Markdown,value:L.value}}return{asUri:r,asTextDocumentIdentifier:s,asTextDocumentItem:v,asVersionedTextDocumentIdentifier:h,asOpenTextDocumentParams:D,asChangeTextDocumentParams:M,asCloseTextDocumentParams:$,asSaveTextDocumentParams:W,asWillSaveTextDocumentParams:z,asDidCreateFilesParams:_e,asDidRenameFilesParams:ge,asDidDeleteFilesParams:Ae,asWillCreateFilesParams:Me,asWillRenameFilesParams:ze,asWillDeleteFilesParams:rt,asTextDocumentPositionParams:Pt,asCompletionParams:we,asSignatureHelpParams:un,asWorkerPosition:Nn,asRange:ut,asRanges:mn,asPosition:tt,asPositions:Zr,asPositionsSync:Ze,asLocation:Jt,asDiagnosticSeverity:Ut,asDiagnosticTag:_r,asDiagnostic:Yi,asDiagnostics:nn,asDiagnosticsSync:dn,asCompletionItem:no,asTextEdit:Hi,asSymbolKind:Bn,asSymbolTag:pr,asSymbolTags:Si,asReferenceParams:Kr,asCodeAction:tr,asCodeActionSync:gn,asCodeActionContext:En,asCodeActionContextSync:gr,asInlineValueContext:Fe,asCommand:it,asCodeLens:Xn,asFormattingOptions:Nt,asDocumentSymbolParams:Un,asCodeLensParams:nr,asDocumentLink:yn,asDocumentLinkParams:or,asCallHierarchyItem:hr,asTypeHierarchyItem:Lr,asInlayHint:di,asWorkspaceSymbol:Ur,asInlineCompletionParams:lt}}gS.createConverter=rL});var UI=Oe(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.createConverter=void 0;var xt=require("vscode"),er=mr(),Dv=_v(),hi=vS(),iL=CT(),oL=bT(),sL=PT(),aL=OT(),MI=FT(),uL=MT(),cL=HT(),lL=YT(),fL=zT(),qI=mr(),hS;(function(t){function e(n){let r=n;return r&&Dv.string(r.language)&&Dv.string(r.value)}t.is=e})(hS||(hS={}));function dL(t,e,n){let s=t||(C=>xt.Uri.parse(C));function v(C){return s(C)}function h(C){let oe=[];for(let qe of C)if(typeof qe=="string")oe.push(qe);else if(qI.NotebookCellTextDocumentFilter.is(qe))if(typeof qe.notebook=="string")oe.push({notebookType:qe.notebook,language:qe.language});else{let Rt=qe.notebook.notebookType??"*";oe.push({notebookType:Rt,scheme:qe.notebook.scheme,pattern:qe.notebook.pattern,language:qe.language})}else qI.TextDocumentFilter.is(qe)&&oe.push({language:qe.language,scheme:qe.scheme,pattern:qe.pattern});return oe}async function D(C,oe){return hi.map(C,I,oe)}function E(C){let oe=new Array(C.length);for(let qe=0;qe<C.length;qe++)oe[qe]=I(C[qe]);return oe}function I(C){let oe=new MI.ProtocolDiagnostic(z(C.range),C.message,ge(C.severity),C.data);if(C.code!==void 0){if(typeof C.code=="string"||typeof C.code=="number")er.CodeDescription.is(C.codeDescription)?oe.code={value:C.code,target:v(C.codeDescription.href)}:oe.code=C.code;else if(MI.DiagnosticCode.is(C.code)){oe.hasDiagnosticCode=!0;let qe=C.code;oe.code={value:qe.value,target:v(qe.target)}}}return C.source&&(oe.source=C.source),C.relatedInformation&&(oe.relatedInformation=M(C.relatedInformation)),Array.isArray(C.tags)&&(oe.tags=$(C.tags)),oe}function M(C){let oe=new Array(C.length);for(let qe=0;qe<C.length;qe++){let Rt=C[qe];oe[qe]=new xt.DiagnosticRelatedInformation(Ut(Rt.location),Rt.message)}return oe}function $(C){if(!C)return;let oe=[];for(let qe of C){let Rt=W(qe);Rt!==void 0&&oe.push(Rt)}return oe.length>0?oe:void 0}function W(C){switch(C){case er.DiagnosticTag.Unnecessary:return xt.DiagnosticTag.Unnecessary;case er.DiagnosticTag.Deprecated:return xt.DiagnosticTag.Deprecated;default:return}}function ne(C){return C?new xt.Position(C.line,C.character):void 0}function z(C){return C?new xt.Range(C.start.line,C.start.character,C.end.line,C.end.character):void 0}async function _e(C,oe){return hi.map(C,qe=>new xt.Range(qe.start.line,qe.start.character,qe.end.line,qe.end.character),oe)}function ge(C){if(C==null)return xt.DiagnosticSeverity.Error;switch(C){case er.DiagnosticSeverity.Error:return xt.DiagnosticSeverity.Error;case er.DiagnosticSeverity.Warning:return xt.DiagnosticSeverity.Warning;case er.DiagnosticSeverity.Information:return xt.DiagnosticSeverity.Information;case er.DiagnosticSeverity.Hint:return xt.DiagnosticSeverity.Hint}return xt.DiagnosticSeverity.Error}function Ae(C){if(Dv.string(C))return ze(C);if(hS.is(C))return ze().appendCodeblock(C.value,C.language);if(Array.isArray(C)){let oe=[];for(let qe of C){let Rt=ze();hS.is(qe)?Rt.appendCodeblock(qe.value,qe.language):Rt.appendMarkdown(qe),oe.push(Rt)}return oe}else return ze(C)}function Me(C){if(Dv.string(C))return C;switch(C.kind){case er.MarkupKind.Markdown:return ze(C.value);case er.MarkupKind.PlainText:return C.value;default:return`Unsupported Markup content received. Kind is: ${C.kind}`}}function ze(C){let oe;if(C===void 0||typeof C=="string")oe=new xt.MarkdownString(C);else switch(C.kind){case er.MarkupKind.Markdown:oe=new xt.MarkdownString(C.value);break;case er.MarkupKind.PlainText:oe=new xt.MarkdownString,oe.appendText(C.value);break;default:oe=new xt.MarkdownString,oe.appendText(`Unsupported Markup content received. Kind is: ${C.kind}`);break}return oe.isTrusted=e,oe.supportHtml=n,oe}function rt(C){if(C)return new xt.Hover(Ae(C.contents),z(C.range))}async function Pt(C,oe,qe){if(!C)return;if(Array.isArray(C))return hi.map(C,Gr=>dt(Gr,oe),qe);let Rt=C,{defaultRange:rn,commitCharacters:yr}=on(Rt,oe),Rr=await hi.map(Rt.items,Gr=>dt(Gr,yr,rn,Rt.itemDefaults?.insertTextMode,Rt.itemDefaults?.insertTextFormat,Rt.itemDefaults?.data),qe);return new xt.CompletionList(Rr,Rt.isIncomplete)}function on(C,oe){let qe=C.itemDefaults?.editRange,Rt=C.itemDefaults?.commitCharacters??oe;return er.Range.is(qe)?{defaultRange:z(qe),commitCharacters:Rt}:qe!==void 0?{defaultRange:{inserting:z(qe.insert),replacing:z(qe.replace)},commitCharacters:Rt}:{defaultRange:void 0,commitCharacters:Rt}}function we(C){return er.CompletionItemKind.Text<=C&&C<=er.CompletionItemKind.TypeParameter?[C-1,void 0]:[xt.CompletionItemKind.Text,C]}function ke(C){switch(C){case er.CompletionItemTag.Deprecated:return xt.CompletionItemTag.Deprecated}}function Qe(C){if(C==null)return[];let oe=[];for(let qe of C){let Rt=ke(qe);Rt!==void 0&&oe.push(Rt)}return oe}function dt(C,oe,qe,Rt,rn,yr){let Rr=Qe(C.tags),Gr=It(C),fr=new iL.default(Gr);C.detail&&(fr.detail=C.detail),C.documentation&&(fr.documentation=Me(C.documentation),fr.documentationFormat=Dv.string(C.documentation)?"$string":C.documentation.kind),C.filterText&&(fr.filterText=C.filterText);let da=yt(C,qe,rn);if(da&&(fr.insertText=da.text,fr.range=da.range,fr.fromEdit=da.fromEdit),Dv.number(C.kind)){let[Ic,io]=we(C.kind);fr.kind=Ic,io&&(fr.originalItemKind=io)}C.sortText&&(fr.sortText=C.sortText),C.additionalTextEdits&&(fr.additionalTextEdits=tt(C.additionalTextEdits));let bs=C.commitCharacters!==void 0?Dv.stringArray(C.commitCharacters)?C.commitCharacters:void 0:oe;bs&&(fr.commitCharacters=bs.slice()),C.command&&(fr.command=Fr(C.command)),(C.deprecated===!0||C.deprecated===!1)&&(fr.deprecated=C.deprecated,C.deprecated===!0&&Rr.push(xt.CompletionItemTag.Deprecated)),(C.preselect===!0||C.preselect===!1)&&(fr.preselect=C.preselect);let Pc=C.data??yr;Pc!==void 0&&(fr.data=Pc),Rr.length>0&&(fr.tags=Rr);let Hr=C.insertTextMode??Rt;return Hr!==void 0&&(fr.insertTextMode=Hr,Hr===er.InsertTextMode.asIs&&(fr.keepWhitespace=!0)),fr}function It(C){return er.CompletionItemLabelDetails.is(C.labelDetails)?{label:C.label,detail:C.labelDetails.detail,description:C.labelDetails.description}:C.label}function yt(C,oe,qe){let Rt=C.insertTextFormat??qe;if(C.textEdit!==void 0||oe!==void 0){let[rn,yr]=C.textEdit!==void 0?Qt(C.textEdit):[oe,C.textEditText??C.label];return Rt===er.InsertTextFormat.Snippet?{text:new xt.SnippetString(yr),range:rn,fromEdit:!0}:{text:yr,range:rn,fromEdit:!0}}else return C.insertText?Rt===er.InsertTextFormat.Snippet?{text:new xt.SnippetString(C.insertText),fromEdit:!1}:{text:C.insertText,fromEdit:!1}:void 0}function Qt(C){return er.InsertReplaceEdit.is(C)?[{inserting:z(C.insert),replacing:z(C.replace)},C.newText]:[z(C.range),C.newText]}function un(C){if(C)return new xt.TextEdit(z(C.range),C.newText)}async function Nn(C,oe){if(C)return hi.map(C,un,oe)}function tt(C){if(!C)return;let oe=new Array(C.length);for(let qe=0;qe<C.length;qe++)oe[qe]=un(C[qe]);return oe}async function Zr(C,oe){if(!C)return;let qe=new xt.SignatureHelp;return Dv.number(C.activeSignature)?qe.activeSignature=C.activeSignature:qe.activeSignature=0,Dv.number(C.activeParameter)?qe.activeParameter=C.activeParameter:qe.activeParameter=0,C.signatures&&(qe.signatures=await Ze(C.signatures,oe)),qe}async function Ze(C,oe){return hi.mapAsync(C,ut,oe)}async function ut(C,oe){let qe=new xt.SignatureInformation(C.label);return C.documentation!==void 0&&(qe.documentation=Me(C.documentation)),C.parameters!==void 0&&(qe.parameters=await mn(C.parameters,oe)),C.activeParameter!==void 0&&(qe.activeParameter=C.activeParameter),qe}function mn(C,oe){return hi.map(C,Jt,oe)}function Jt(C){let oe=new xt.ParameterInformation(C.label);return C.documentation&&(oe.documentation=Me(C.documentation)),oe}function Ut(C){return C?new xt.Location(s(C.uri),z(C.range)):void 0}async function et(C,oe){if(C)return Po(C,oe)}async function _r(C,oe){if(C)return Po(C,oe)}function bt(C){if(!C)return;let oe={targetUri:s(C.targetUri),targetRange:z(C.targetRange),originSelectionRange:z(C.originSelectionRange),targetSelectionRange:z(C.targetSelectionRange)};if(!oe.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return oe}async function Po(C,oe){if(C)if(Dv.array(C)){if(C.length===0)return[];if(er.LocationLink.is(C[0])){let qe=C;return hi.map(qe,bt,oe)}else{let qe=C;return hi.map(qe,Ut,oe)}}else return er.LocationLink.is(C)?[bt(C)]:Ut(C)}async function fn(C,oe){if(C)return hi.map(C,Ut,oe)}async function Yi(C,oe){if(C)return hi.map(C,nn,oe)}function nn(C){let oe=new xt.DocumentHighlight(z(C.range));return Dv.number(C.kind)&&(oe.kind=dn(C.kind)),oe}function dn(C){switch(C){case er.DocumentHighlightKind.Text:return xt.DocumentHighlightKind.Text;case er.DocumentHighlightKind.Read:return xt.DocumentHighlightKind.Read;case er.DocumentHighlightKind.Write:return xt.DocumentHighlightKind.Write}return xt.DocumentHighlightKind.Text}async function ei(C,oe){if(C)return hi.map(C,no,oe)}function Xt(C){return C<=er.SymbolKind.TypeParameter?C-1:xt.SymbolKind.Property}function fi(C){switch(C){case er.SymbolTag.Deprecated:return xt.SymbolTag.Deprecated;default:return}}function Kn(C){if(C==null)return;let oe=[];for(let qe of C){let Rt=fi(qe);Rt!==void 0&&oe.push(Rt)}return oe.length===0?void 0:oe}function no(C){let oe=C.data,qe=C.location,Rt=qe.range===void 0||oe!==void 0?new lL.default(C.name,Xt(C.kind),C.containerName??"",qe.range===void 0?s(qe.uri):new xt.Location(s(C.location.uri),z(qe.range)),oe):new xt.SymbolInformation(C.name,Xt(C.kind),C.containerName??"",new xt.Location(s(C.location.uri),z(qe.range)));return Hi(Rt,C),Rt}async function cn(C,oe){if(C!=null)return hi.map(C,cr,oe)}function cr(C){let oe=new xt.DocumentSymbol(C.name,C.detail||"",Xt(C.kind),z(C.range),z(C.selectionRange));if(Hi(oe,C),C.children!==void 0&&C.children.length>0){let qe=[];for(let Rt of C.children)qe.push(cr(Rt));oe.children=qe}return oe}function Hi(C,oe){C.tags=Kn(oe.tags),oe.deprecated&&(C.tags?C.tags.includes(xt.SymbolTag.Deprecated)||(C.tags=C.tags.concat(xt.SymbolTag.Deprecated)):C.tags=[xt.SymbolTag.Deprecated])}function Fr(C){let oe={title:C.title,command:C.command};return C.arguments&&(oe.arguments=C.arguments),oe}async function Bn(C,oe){if(C)return hi.map(C,Fr,oe)}let pr=new Map;pr.set(er.CodeActionKind.Empty,xt.CodeActionKind.Empty),pr.set(er.CodeActionKind.QuickFix,xt.CodeActionKind.QuickFix),pr.set(er.CodeActionKind.Refactor,xt.CodeActionKind.Refactor),pr.set(er.CodeActionKind.RefactorExtract,xt.CodeActionKind.RefactorExtract),pr.set(er.CodeActionKind.RefactorInline,xt.CodeActionKind.RefactorInline),pr.set(er.CodeActionKind.RefactorRewrite,xt.CodeActionKind.RefactorRewrite),pr.set(er.CodeActionKind.Source,xt.CodeActionKind.Source),pr.set(er.CodeActionKind.SourceOrganizeImports,xt.CodeActionKind.SourceOrganizeImports);function Si(C){if(C==null)return;let oe=pr.get(C);if(oe)return oe;let qe=C.split(".");oe=xt.CodeActionKind.Empty;for(let Rt of qe)oe=oe.append(Rt);return oe}function Kr(C){if(C!=null)return C.map(oe=>Si(oe))}async function tr(C,oe){if(C==null)return;let qe=new aL.default(C.title,C.data);return C.kind!==void 0&&(qe.kind=Si(C.kind)),C.diagnostics!==void 0&&(qe.diagnostics=E(C.diagnostics)),C.edit!==void 0&&(qe.edit=await mo(C.edit,oe)),C.command!==void 0&&(qe.command=Fr(C.command)),C.isPreferred!==void 0&&(qe.isPreferred=C.isPreferred),C.disabled!==void 0&&(qe.disabled={reason:C.disabled.reason}),qe}function gn(C,oe){return hi.mapAsync(C,async qe=>er.Command.is(qe)?Fr(qe):tr(qe,oe),oe)}function En(C){if(!C)return;let oe=new oL.default(z(C.range));return C.command&&(oe.command=Fr(C.command)),C.data!==void 0&&C.data!==null&&(oe.data=C.data),oe}async function gr(C,oe){if(C)return hi.map(C,En,oe)}async function mo(C,oe){if(!C)return;let qe=new Map;if(C.changeAnnotations!==void 0){let yr=C.changeAnnotations;await hi.forEach(Object.keys(yr),Rr=>{let Gr=Q(yr[Rr]);qe.set(Rr,Gr)},oe)}let Rt=yr=>{if(yr!==void 0)return qe.get(yr)},rn=new xt.WorkspaceEdit;if(C.documentChanges){let yr=C.documentChanges;await hi.forEach(yr,Rr=>{if(er.CreateFile.is(Rr))rn.createFile(s(Rr.uri),Rr.options,Rt(Rr.annotationId));else if(er.RenameFile.is(Rr))rn.renameFile(s(Rr.oldUri),s(Rr.newUri),Rr.options,Rt(Rr.annotationId));else if(er.DeleteFile.is(Rr))rn.deleteFile(s(Rr.uri),Rr.options,Rt(Rr.annotationId));else if(er.TextDocumentEdit.is(Rr)){let Gr=s(Rr.textDocument.uri);for(let fr of Rr.edits)er.AnnotatedTextEdit.is(fr)?rn.replace(Gr,z(fr.range),fr.newText,Rt(fr.annotationId)):rn.replace(Gr,z(fr.range),fr.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Rr,void 0,4)}`)},oe)}else if(C.changes){let yr=C.changes;await hi.forEach(Object.keys(yr),Rr=>{rn.set(s(Rr),tt(yr[Rr]))},oe)}return rn}function Q(C){if(C!==void 0)return{label:C.label,needsConfirmation:!!C.needsConfirmation,description:C.description}}function Fe(C){let oe=z(C.range),qe=C.target?v(C.target):void 0,Rt=new sL.default(oe,qe);return C.tooltip!==void 0&&(Rt.tooltip=C.tooltip),C.data!==void 0&&C.data!==null&&(Rt.data=C.data),Rt}async function lt(C,oe){if(C)return hi.map(C,Fe,oe)}function it(C){return new xt.Color(C.red,C.green,C.blue,C.alpha)}function Xn(C){return new xt.ColorInformation(z(C.range),it(C.color))}async function Nt(C,oe){if(C)return hi.map(C,Xn,oe)}function Un(C){let oe=new xt.ColorPresentation(C.label);return oe.additionalTextEdits=tt(C.additionalTextEdits),C.textEdit&&(oe.textEdit=un(C.textEdit)),oe}async function nr(C,oe){if(C)return hi.map(C,Un,oe)}function yn(C){if(C)switch(C){case er.FoldingRangeKind.Comment:return xt.FoldingRangeKind.Comment;case er.FoldingRangeKind.Imports:return xt.FoldingRangeKind.Imports;case er.FoldingRangeKind.Region:return xt.FoldingRangeKind.Region}}function or(C){return new xt.FoldingRange(C.startLine,C.endLine,yn(C.kind))}async function hr(C,oe){if(C)return hi.map(C,or,oe)}function Lr(C){return new xt.SelectionRange(z(C.range),C.parent?Lr(C.parent):void 0)}async function Ur(C,oe){return Array.isArray(C)?hi.map(C,Lr,oe):[]}function di(C){return er.InlineValueText.is(C)?new xt.InlineValueText(z(C.range),C.text):er.InlineValueVariableLookup.is(C)?new xt.InlineValueVariableLookup(z(C.range),C.variableName,C.caseSensitiveLookup):new xt.InlineValueEvaluatableExpression(z(C.range),C.expression)}async function ro(C,oe){return Array.isArray(C)?hi.map(C,di,oe):[]}async function Es(C,oe){let qe=typeof C.label=="string"?C.label:await hi.map(C.label,L,oe),Rt=new fL.default(ne(C.position),qe);return C.kind!==void 0&&(Rt.kind=C.kind),C.textEdits!==void 0&&(Rt.textEdits=await Nn(C.textEdits,oe)),C.tooltip!==void 0&&(Rt.tooltip=Ce(C.tooltip)),C.paddingLeft!==void 0&&(Rt.paddingLeft=C.paddingLeft),C.paddingRight!==void 0&&(Rt.paddingRight=C.paddingRight),C.data!==void 0&&(Rt.data=C.data),Rt}function L(C){let oe=new xt.InlayHintLabelPart(C.value);return C.location!==void 0&&(oe.location=Ut(C.location)),C.tooltip!==void 0&&(oe.tooltip=Ce(C.tooltip)),C.command!==void 0&&(oe.command=Fr(C.command)),oe}function Ce(C){return typeof C=="string"?C:ze(C)}async function kt(C,oe){if(Array.isArray(C))return hi.mapAsync(C,Es,oe)}function lr(C){if(C===null)return;let oe=new uL.default(Xt(C.kind),C.name,C.detail||"",v(C.uri),z(C.range),z(C.selectionRange),C.data);return C.tags!==void 0&&(oe.tags=Kn(C.tags)),oe}async function fe(C,oe){if(C!==null)return hi.map(C,lr,oe)}async function F(C,oe){return new xt.CallHierarchyIncomingCall(lr(C.from),await _e(C.fromRanges,oe))}async function te(C,oe){if(C!==null)return hi.mapAsync(C,F,oe)}async function ie(C,oe){return new xt.CallHierarchyOutgoingCall(lr(C.to),await _e(C.fromRanges,oe))}async function K(C,oe){if(C!==null)return hi.mapAsync(C,ie,oe)}async function O(C,oe){if(C!=null)return new xt.SemanticTokens(new Uint32Array(C.data),C.resultId)}function me(C){return new xt.SemanticTokensEdit(C.start,C.deleteCount,C.data!==void 0?new Uint32Array(C.data):void 0)}async function Ue(C,oe){if(C!=null)return new xt.SemanticTokensEdits(C.edits.map(me),C.resultId)}function bn(C){return C}async function _n(C,oe){if(C!=null)return new xt.LinkedEditingRanges(await _e(C.ranges,oe),rr(C.wordPattern))}function rr(C){if(C!=null)return new RegExp(C)}function vi(C){if(C===null)return;let oe=new cL.default(Xt(C.kind),C.name,C.detail||"",v(C.uri),z(C.range),z(C.selectionRange),C.data);return C.tags!==void 0&&(oe.tags=Kn(C.tags)),oe}async function Dr(C,oe){if(C!==null)return hi.map(C,vi,oe)}function Ii(C){if(Dv.string(C))return C;if(er.RelativePattern.is(C)){if(er.URI.is(C.baseUri))return new xt.RelativePattern(v(C.baseUri),C.pattern);if(er.WorkspaceFolder.is(C.baseUri)){let oe=xt.workspace.getWorkspaceFolder(v(C.baseUri.uri));return oe!==void 0?new xt.RelativePattern(oe,C.pattern):void 0}}}async function xn(C,oe){if(!C)return;if(Array.isArray(C))return hi.map(C,rn=>oi(rn),oe);let qe=C,Rt=await hi.map(qe.items,rn=>oi(rn),oe);return new xt.InlineCompletionList(Rt)}function oi(C){let oe;typeof C.insertText=="string"?oe=C.insertText:oe=new xt.SnippetString(C.insertText.value);let qe;C.command&&(qe=Fr(C.command));let Rt=new xt.InlineCompletionItem(oe,z(C.range),qe);return C.filterText&&(Rt.filterText=C.filterText),Rt}return{asUri:v,asDocumentSelector:h,asDiagnostics:D,asDiagnostic:I,asRange:z,asRanges:_e,asPosition:ne,asDiagnosticSeverity:ge,asDiagnosticTag:W,asHover:rt,asCompletionResult:Pt,asCompletionItem:dt,asTextEdit:un,asTextEdits:Nn,asSignatureHelp:Zr,asSignatureInformations:Ze,asSignatureInformation:ut,asParameterInformations:mn,asParameterInformation:Jt,asDeclarationResult:et,asDefinitionResult:_r,asLocation:Ut,asReferences:fn,asDocumentHighlights:Yi,asDocumentHighlight:nn,asDocumentHighlightKind:dn,asSymbolKind:Xt,asSymbolTag:fi,asSymbolTags:Kn,asSymbolInformations:ei,asSymbolInformation:no,asDocumentSymbols:cn,asDocumentSymbol:cr,asCommand:Fr,asCommands:Bn,asCodeAction:tr,asCodeActionKind:Si,asCodeActionKinds:Kr,asCodeActionResult:gn,asCodeLens:En,asCodeLenses:gr,asWorkspaceEdit:mo,asDocumentLink:Fe,asDocumentLinks:lt,asFoldingRangeKind:yn,asFoldingRange:or,asFoldingRanges:hr,asColor:it,asColorInformation:Xn,asColorInformations:Nt,asColorPresentation:Un,asColorPresentations:nr,asSelectionRange:Lr,asSelectionRanges:Ur,asInlineValue:di,asInlineValues:ro,asInlayHint:Es,asInlayHints:kt,asSemanticTokensLegend:bn,asSemanticTokens:O,asSemanticTokensEdit:me,asSemanticTokensEdits:Ue,asCallHierarchyItem:lr,asCallHierarchyItems:fe,asCallHierarchyIncomingCall:F,asCallHierarchyIncomingCalls:te,asCallHierarchyOutgoingCall:ie,asCallHierarchyOutgoingCalls:K,asLinkedEditingRanges:_n,asTypeHierarchyItem:vi,asTypeHierarchyItems:Dr,asGlobPattern:Ii,asInlineCompletionResult:xn,asInlineCompletionItem:oi}}mS.createConverter=dL});var Yo=Oe(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.generateUuid=Cv.parse=Cv.isUUID=Cv.v4=Cv.empty=void 0;var W_=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},K_=class t extends W_{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};K_._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];K_._timeHighBits=["8","9","a","b"];Cv.empty=new W_("00000000-0000-0000-0000-000000000000");function HI(){return new K_}Cv.v4=HI;var vL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function jI(t){return vL.test(t)}Cv.isUUID=jI;function pL(t){if(!jI(t))throw new Error("invalid uuid");return new W_(t)}Cv.parse=pL;function gL(){return HI().asHex()}Cv.generateUuid=gL});var VT=Oe(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.ProgressPart=void 0;var $I=require("vscode"),YI=mr(),WI=_v(),BT=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(YI.WorkDoneProgress.type,this._token,s=>{switch(s.kind){case"begin":this.begin(s);break;case"report":this.report(s);break;case"end":this.done(),r&&r(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&$I.window.withProgress({location:$I.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(YI.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((s,v)=>{this._resolve=s,this._reject=v})})}report(e){if(this._infinite&&WI.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(WI.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};_S.ProgressPart=BT});var li=Oe(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.WorkspaceFeature=fu.TextDocumentLanguageFeature=fu.TextDocumentEventFeature=fu.DynamicDocumentFeature=fu.DynamicFeature=fu.StaticFeature=fu.ensure=fu.LSPCancellationError=void 0;var Dm=require("vscode"),XT=mr(),fl=_v(),KI=Yo(),JT=class extends Dm.CancellationError{constructor(e){super(),this.data=e}};fu.LSPCancellationError=JT;function hL(t,e){return t[e]===void 0&&(t[e]={}),t[e]}fu.ensure=hL;var zI;(function(t){function e(n){let r=n;return r!=null&&fl.func(r.fillClientCapabilities)&&fl.func(r.initialize)&&fl.func(r.getState)&&fl.func(r.clear)&&(r.fillInitializeParams===void 0||fl.func(r.fillInitializeParams))}t.is=e})(zI||(fu.StaticFeature=zI={}));var GI;(function(t){function e(n){let r=n;return r!=null&&fl.func(r.fillClientCapabilities)&&fl.func(r.initialize)&&fl.func(r.getState)&&fl.func(r.clear)&&(r.fillInitializeParams===void 0||fl.func(r.fillInitializeParams))&&fl.func(r.register)&&fl.func(r.unregister)&&r.registrationType!==void 0}t.is=e})(GI||(fu.DynamicFeature=GI={}));var z_=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let s of e){n++;for(let v of Dm.workspace.textDocuments)if(Dm.languages.match(s,v)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=n>0;return{kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};fu.DynamicDocumentFeature=z_;var QT=class extends z_{static textDocumentFilter(e,n){for(let r of e)if(Dm.languages.match(r,n)>0)return!0;return!1}constructor(e,n,r,s,v,h,D){super(e),this._event=n,this._type=r,this._middleware=s,this._createParams=v,this._textDocument=h,this._selectorFilter=D,this._selectors=new Map,this._onNotificationSent=new Dm.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async r=>{let s=this._createParams(r);await this._client.sendNotification(this._type,s),this.notificationSent(this.getTextDocument(r),this._type,s)};if(this.matches(e)){let r=this._middleware();return r?r(e,s=>n(s)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(Dm.languages.match(n,e)>0)return{send:r=>this.callback(r)}}};fu.TextDocumentEventFeature=QT;var ZT=class extends z_{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(XT.TextDocumentRegistrationOptions.is(n)){let r=XT.StaticRegistrationOptions.hasId(n)?n.id:KI.generateUuid(),s=n.documentSelector??e;if(s)return[r,Object.assign({},n,{documentSelector:s})]}else if(fl.boolean(n)&&n===!0||XT.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=fl.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[KI.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return fl.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&Dm.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};fu.TextDocumentLanguageFeature=ZT;var eE=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};fu.WorkspaceFeature=eE});var VI=Oe((_U,BI)=>{var mL=typeof process=="object"&&process&&process.platform==="win32";BI.exports=mL?{sep:"\\"}:{sep:"/"}});var eN=Oe((yU,ZI)=>{"use strict";ZI.exports=JI;function JI(t,e,n){t instanceof RegExp&&(t=XI(t,n)),e instanceof RegExp&&(e=XI(e,n));var r=QI(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function XI(t,e){var n=e.match(t);return n?n[0]:null}JI.range=QI;function QI(t,e,n){var r,s,v,h,D,E=n.indexOf(t),I=n.indexOf(e,E+1),M=E;if(E>=0&&I>0){if(t===e)return[E,I];for(r=[],v=n.length;M>=0&&!D;)M==E?(r.push(M),E=n.indexOf(t,M+1)):r.length==1?D=[r.pop(),I]:(s=r.pop(),s<v&&(v=s,h=I),I=n.indexOf(e,M+1)),M=E<I&&E>=0?E:I;r.length&&(D=[v,h])}return D}});var uN=Oe((SU,aN)=>{var tN=eN();aN.exports=SL;var nN="\0SLASH"+Math.random()+"\0",rN="\0OPEN"+Math.random()+"\0",nE="\0CLOSE"+Math.random()+"\0",iN="\0COMMA"+Math.random()+"\0",oN="\0PERIOD"+Math.random()+"\0";function tE(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function _L(t){return t.split("\\\\").join(nN).split("\\{").join(rN).split("\\}").join(nE).split("\\,").join(iN).split("\\.").join(oN)}function yL(t){return t.split(nN).join("\\").split(rN).join("{").split(nE).join("}").split(iN).join(",").split(oN).join(".")}function sN(t){if(!t)return[""];var e=[],n=tN("{","}",t);if(!n)return t.split(",");var r=n.pre,s=n.body,v=n.post,h=r.split(",");h[h.length-1]+="{"+s+"}";var D=sN(v);return v.length&&(h[h.length-1]+=D.shift(),h.push.apply(h,D)),e.push.apply(e,h),e}function SL(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),G_(_L(t),!0).map(yL)):[]}function DL(t){return"{"+t+"}"}function CL(t){return/^-?0\d/.test(t)}function TL(t,e){return t<=e}function EL(t,e){return t>=e}function G_(t,e){var n=[],r=tN("{","}",t);if(!r)return[t];var s=r.pre,v=r.post.length?G_(r.post,!1):[""];if(/\$$/.test(r.pre))for(var h=0;h<v.length;h++){var D=s+"{"+r.body+"}"+v[h];n.push(D)}else{var E=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),I=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),M=E||I,$=r.body.indexOf(",")>=0;if(!M&&!$)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+nE+r.post,G_(t)):[t];var W;if(M)W=r.body.split(/\.\./);else if(W=sN(r.body),W.length===1&&(W=G_(W[0],!1).map(DL),W.length===1))return v.map(function(dt){return r.pre+W[0]+dt});var ne;if(M){var z=tE(W[0]),_e=tE(W[1]),ge=Math.max(W[0].length,W[1].length),Ae=W.length==3?Math.abs(tE(W[2])):1,Me=TL,ze=_e<z;ze&&(Ae*=-1,Me=EL);var rt=W.some(CL);ne=[];for(var Pt=z;Me(Pt,_e);Pt+=Ae){var on;if(I)on=String.fromCharCode(Pt),on==="\\"&&(on="");else if(on=String(Pt),rt){var we=ge-on.length;if(we>0){var ke=new Array(we+1).join("0");Pt<0?on="-"+ke+on.slice(1):on=ke+on}}ne.push(on)}}else{ne=[];for(var Qe=0;Qe<W.length;Qe++)ne.push.apply(ne,G_(W[Qe],!1))}for(var Qe=0;Qe<ne.length;Qe++)for(var h=0;h<v.length;h++){var D=s+ne[Qe]+v[h];(!e||M||D)&&n.push(D)}}return n}});var SS=Oe((CU,aE)=>{var Td=aE.exports=(t,e,n={})=>(yS(e),!n.nocomment&&e.charAt(0)==="#"?!1:new f_(e,n).match(t));aE.exports=Td;var oE=VI();Td.sep=oE.sep;var yp=Symbol("globstar **");Td.GLOBSTAR=yp;var bL=uN(),cN={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},sE="[^/]",rE=sE+"*?",wL="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",RL="(?:(?!(?:\\/|^)\\.).)*?",dN=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),lN=dN("().*{}+?[]^$\\!"),PL=dN("[.("),fN=/\/+/;Td.filter=(t,e={})=>(n,r,s)=>Td(n,t,e);var zh=(t,e={})=>{let n={};return Object.keys(t).forEach(r=>n[r]=t[r]),Object.keys(e).forEach(r=>n[r]=e[r]),n};Td.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Td;let e=Td,n=(r,s,v)=>e(r,s,zh(t,v));return n.Minimatch=class extends e.Minimatch{constructor(s,v){super(s,zh(t,v))}},n.Minimatch.defaults=r=>e.defaults(zh(t,r)).Minimatch,n.filter=(r,s)=>e.filter(r,zh(t,s)),n.defaults=r=>e.defaults(zh(t,r)),n.makeRe=(r,s)=>e.makeRe(r,zh(t,s)),n.braceExpand=(r,s)=>e.braceExpand(r,zh(t,s)),n.match=(r,s,v)=>e.match(r,s,zh(t,v)),n};Td.braceExpand=(t,e)=>vN(t,e);var vN=(t,e={})=>(yS(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:bL(t)),IL=1024*64,yS=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>IL)throw new TypeError("pattern is too long")},iE=Symbol("subparse");Td.makeRe=(t,e)=>new f_(t,e||{}).makeRe();Td.match=(t,e,n={})=>{let r=new f_(e,n);return t=t.filter(s=>r.match(s)),r.options.nonull&&!t.length&&t.push(e),t};var NL=t=>t.replace(/\\(.)/g,"$1"),OL=t=>t.replace(/\\([^-\]])/g,"$1"),kL=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),xL=t=>t.replace(/[[\]\\]/g,"\\$&"),f_=class{constructor(e,n){yS(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let r=this.globSet=this.braceExpand();n.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,r),r=this.globParts=r.map(s=>s.split(fN)),this.debug(this.pattern,r),r=r.map((s,v,h)=>s.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(s=>s.indexOf(!1)===-1),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,r=0;for(let s=0;s<e.length&&e.charAt(s)==="!";s++)n=!n,r++;r&&(this.pattern=e.slice(r)),this.negate=n}matchOne(e,n,r){var s=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var v=0,h=0,D=e.length,E=n.length;v<D&&h<E;v++,h++){this.debug("matchOne loop");var I=n[h],M=e[v];if(this.debug(n,I,M),I===!1)return!1;if(I===yp){this.debug("GLOBSTAR",[n,I,M]);var $=v,W=h+1;if(W===E){for(this.debug("** at the end");v<D;v++)if(e[v]==="."||e[v]===".."||!s.dot&&e[v].charAt(0)===".")return!1;return!0}for(;$<D;){var ne=e[$];if(this.debug(`
globstar while`,e,$,n,W,ne),this.matchOne(e.slice($),n.slice(W),r))return this.debug("globstar found match!",$,D,ne),!0;if(ne==="."||ne===".."||!s.dot&&ne.charAt(0)==="."){this.debug("dot detected!",e,$,n,W);break}this.debug("globstar swallow a segment, and continue"),$++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,$,n,W),$===D))}var z;if(typeof I=="string"?(z=M===I,this.debug("string match",I,M,z)):(z=M.match(I),this.debug("pattern match",I,M,z)),!z)return!1}if(v===D&&h===E)return!0;if(v===D)return r;if(h===E)return v===D-1&&e[v]==="";throw new Error("wtf?")}braceExpand(){return vN(this.pattern,this.options)}parse(e,n){yS(e);let r=this.options;if(e==="**")if(r.noglobstar)e="*";else return yp;if(e==="")return"";let s="",v=!1,h=!1,D=[],E=[],I,M=!1,$=-1,W=-1,ne,z,_e,ge=e.charAt(0)===".",Ae=r.dot||ge,Me=()=>ge?"":Ae?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",ze=we=>we.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",rt=()=>{if(I){switch(I){case"*":s+=rE,v=!0;break;case"?":s+=sE,v=!0;break;default:s+="\\"+I;break}this.debug("clearStateChar %j %j",I,s),I=!1}};for(let we=0,ke;we<e.length&&(ke=e.charAt(we));we++){if(this.debug("%s	%s %s %j",e,we,s,ke),h){if(ke==="/")return!1;lN[ke]&&(s+="\\"),s+=ke,h=!1;continue}switch(ke){case"/":return!1;case"\\":if(M&&e.charAt(we+1)==="-"){s+=ke;continue}rt(),h=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,we,s,ke),M){this.debug("  in class"),ke==="!"&&we===W+1&&(ke="^"),s+=ke;continue}this.debug("call clearStateChar %j",I),rt(),I=ke,r.noext&&rt();continue;case"(":{if(M){s+="(";continue}if(!I){s+="\\(";continue}let Qe={type:I,start:we-1,reStart:s.length,open:cN[I].open,close:cN[I].close};this.debug(this.pattern,"	",Qe),D.push(Qe),s+=Qe.open,Qe.start===0&&Qe.type!=="!"&&(ge=!0,s+=ze(e.slice(we+1))),this.debug("plType %j %j",I,s),I=!1;continue}case")":{let Qe=D[D.length-1];if(M||!Qe){s+="\\)";continue}D.pop(),rt(),v=!0,z=Qe,s+=z.close,z.type==="!"&&E.push(Object.assign(z,{reEnd:s.length}));continue}case"|":{let Qe=D[D.length-1];if(M||!Qe){s+="\\|";continue}rt(),s+="|",Qe.start===0&&Qe.type!=="!"&&(ge=!0,s+=ze(e.slice(we+1)));continue}case"[":if(rt(),M){s+="\\"+ke;continue}M=!0,W=we,$=s.length,s+=ke;continue;case"]":if(we===W+1||!M){s+="\\"+ke;continue}ne=e.substring(W+1,we);try{RegExp("["+xL(OL(ne))+"]"),s+=ke}catch{s=s.substring(0,$)+"(?:$.)"}v=!0,M=!1;continue;default:rt(),lN[ke]&&!(ke==="^"&&M)&&(s+="\\"),s+=ke;break}}for(M&&(ne=e.slice(W+1),_e=this.parse(ne,iE),s=s.substring(0,$)+"\\["+_e[0],v=v||_e[1]),z=D.pop();z;z=D.pop()){let we;we=s.slice(z.reStart+z.open.length),this.debug("setting tail",s,z),we=we.replace(/((?:\\{2}){0,64})(\\?)\|/g,(Qe,dt,It)=>(It||(It="\\"),dt+dt+It+"|")),this.debug(`tail=%j
   %s`,we,we,z,s);let ke=z.type==="*"?rE:z.type==="?"?sE:"\\"+z.type;v=!0,s=s.slice(0,z.reStart)+ke+"\\("+we}rt(),h&&(s+="\\\\");let Pt=PL[s.charAt(0)];for(let we=E.length-1;we>-1;we--){let ke=E[we],Qe=s.slice(0,ke.reStart),dt=s.slice(ke.reStart,ke.reEnd-8),It=s.slice(ke.reEnd),yt=s.slice(ke.reEnd-8,ke.reEnd)+It,Qt=Qe.split(")").length,un=Qe.split("(").length-Qt,Nn=It;for(let Zr=0;Zr<un;Zr++)Nn=Nn.replace(/\)[+*?]?/,"");It=Nn;let tt=It===""&&n!==iE?"(?:$|\\/)":"";s=Qe+dt+It+tt+yt}if(s!==""&&v&&(s="(?=.)"+s),Pt&&(s=Me()+s),n===iE)return[s,v];if(r.nocase&&!v&&(v=e.toUpperCase()!==e.toLowerCase()),!v)return NL(e);let on=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+s+"$",on),{_glob:e,_src:s})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,r=n.noglobstar?rE:n.dot?wL:RL,s=n.nocase?"i":"",v=e.map(h=>(h=h.map(D=>typeof D=="string"?kL(D):D===yp?yp:D._src).reduce((D,E)=>(D[D.length-1]===yp&&E===yp||D.push(E),D),[]),h.forEach((D,E)=>{D!==yp||h[E-1]===yp||(E===0?h.length>1?h[E+1]="(?:\\/|"+r+"\\/)?"+h[E+1]:h[E]=r:E===h.length-1?h[E-1]+="(?:\\/|"+r+")?":(h[E-1]+="(?:\\/|\\/"+r+"\\/)"+h[E+1],h[E+1]=yp))}),h.filter(D=>D!==yp).join("/"))).join("|");v="^(?:"+v+")$",this.negate&&(v="^(?!"+v+").*$");try{this.regexp=new RegExp(v,s)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let r=this.options;oE.sep!=="/"&&(e=e.split(oE.sep).join("/")),e=e.split(fN),this.debug(this.pattern,"split",e);let s=this.set;this.debug(this.pattern,"set",s);let v;for(let h=e.length-1;h>=0&&(v=e[h],!v);h--);for(let h=0;h<s.length;h++){let D=s[h],E=e;if(r.matchBase&&D.length===1&&(E=[v]),this.matchOne(E,D,n))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return Td.defaults(e).Minimatch}};Td.Minimatch=f_});var gE=Oe(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.DiagnosticFeature=Gh.DiagnosticPullMode=Gh.vsdiag=void 0;var FL=SS(),Jr=require("vscode"),Ts=mr(),LL=Yo(),uE=li();function DS(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Tv;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(Tv||(Gh.vsdiag=Tv={}));var CS;(function(t){t.onType="onType",t.onSave="onSave"})(CS||(Gh.DiagnosticPullMode=CS={}));var wc;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(wc||(wc={}));var cE=class t{constructor(){this.open=new Set,this._onOpen=new Jr.EventEmitter,this._onClose=new Jr.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let r=this.open,s=new Set;t.fillTabResources(s);let v=new Set,h=new Set(s);for(let D of r.values())s.has(D)?h.delete(D):v.add(D);if(this.open=s,v.size>0){let D=new Set;for(let E of v)D.add(Jr.Uri.parse(E));this._onClose.fire(D)}if(h.size>0){let D=new Set;for(let E of h)D.add(Jr.Uri.parse(E));this._onOpen.fire(D)}};Jr.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Jr.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Jr.Uri?Jr.window.activeTextEditor?.document.uri===e:Jr.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof Jr.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let r=e??new Set;for(let s of Jr.window.tabGroups.all)for(let v of s.tabs){let h=v.input,D;h instanceof Jr.TabInputText?D=h.uri:h instanceof Jr.TabInputTextDiff?D=h.modified:h instanceof Jr.TabInputCustom&&(D=h.uri),D!==void 0&&!r.has(D.toString())&&(r.add(D.toString()),n!==void 0&&n.add(D))}}},La;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(La||(La={}));var Jg;(function(t){function e(n){return n instanceof Jr.Uri?n.toString():n.uri.toString()}t.asKey=e})(Jg||(Jg={}));var lE=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,r){let s=e===La.document?this.documentPullStates:this.workspacePullStates,[v,h,D]=n instanceof Jr.Uri?[n.toString(),n,r]:[n.uri.toString(),n.uri,n.version],E=s.get(v);return E===void 0&&(E={document:h,pulledVersion:D,resultId:void 0},s.set(v,E)),E}update(e,n,r,s){let v=e===La.document?this.documentPullStates:this.workspacePullStates,[h,D,E,I]=n instanceof Jr.Uri?[n.toString(),n,r,s]:[n.uri.toString(),n.uri,n.version,r],M=v.get(h);M===void 0?(M={document:D,pulledVersion:E,resultId:I},v.set(h,M)):(M.pulledVersion=E,M.resultId=I)}unTrack(e,n){let r=Jg.asKey(n);(e===La.document?this.documentPullStates:this.workspacePullStates).delete(r)}tracks(e,n){let r=Jg.asKey(n);return(e===La.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,n){let r=Jg.asKey(n);return(e===La.document?this.documentPullStates:this.workspacePullStates).get(r)?.resultId}getAllResultIds(){let e=[];for(let[n,r]of this.workspacePullStates)this.documentPullStates.has(n)&&(r=this.documentPullStates.get(n)),r.resultId!==void 0&&e.push({uri:n,value:r.resultId});return e}},fE=class{constructor(e,n,r){this.client=e,this.tabs=n,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new Jr.EventEmitter,this.provider=this.createProvider(),this.diagnostics=Jr.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new lE,this.workspaceErrorCounter=0}knows(e,n){let r=n instanceof Jr.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(r.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let r=e instanceof Jr.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},s=>{this.client.error(`Document pull failed for text document ${r.toString()}`,s,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let r=e instanceof Jr.Uri,s=r?e:e.uri,v=s.toString();n=r?n:e.version;let h=this.openRequests.get(v),D=r?this.documentStates.track(La.document,e,n):this.documentStates.track(La.document,e);if(h===void 0){let E=new Jr.CancellationTokenSource;this.openRequests.set(v,{state:wc.active,document:e,version:n,tokenSource:E});let I,M;try{I=await this.provider.provideDiagnostics(e,D.resultId,E.token)??{kind:Tv.DocumentDiagnosticReportKind.full,items:[]}}catch($){if($ instanceof uE.LSPCancellationError&&Ts.DiagnosticServerCancellationData.is($.data)&&$.data.retriggerRequest===!1&&(M={state:wc.outDated,document:e}),M===void 0&&$ instanceof Jr.CancellationError)M={state:wc.reschedule,document:e};else throw $}if(M=M??this.openRequests.get(v),M===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${v}`),this.diagnostics.delete(s);return}if(this.openRequests.delete(v),!this.tabs.isVisible(e)){this.documentStates.unTrack(La.document,e);return}if(M.state===wc.outDated)return;I!==void 0&&(I.kind===Tv.DocumentDiagnosticReportKind.full&&this.diagnostics.set(s,I.items),D.pulledVersion=n,D.resultId=I.resultId),M.state===wc.reschedule&&this.pull(e)}else h.state===wc.active?(h.tokenSource.cancel(),this.openRequests.set(v,{state:wc.reschedule,document:h.document})):h.state===wc.outDated&&this.openRequests.set(v,{state:wc.reschedule,document:h.document})}forgetDocument(e){let n=e instanceof Jr.Uri?e:e.uri,r=n.toString(),s=this.openRequests.get(r);this.options.workspaceDiagnostics?s!==void 0?this.openRequests.set(r,{state:wc.reschedule,document:e}):this.pull(e,()=>{this.forget(La.document,e)}):(s!==void 0&&(s.state===wc.active&&s.tokenSource.cancel(),this.openRequests.set(r,{state:wc.outDated,document:e})),this.diagnostics.delete(n),this.forget(La.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Ts.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof uE.LSPCancellationError)&&!Ts.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Ts.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new Jr.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let r of n.items)r.kind===Tv.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(La.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update(La.workspace,r.uri,r.version??void 0,r.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,r,s)=>{let v=(D,E,I)=>{let M={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(D instanceof Jr.Uri?D:D.uri)},previousResultId:E};return this.isDisposed===!0||!this.client.isRunning()?{kind:Tv.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Ts.DocumentDiagnosticRequest.type,M,I).then(async $=>$==null||this.isDisposed||I.isCancellationRequested?{kind:Tv.DocumentDiagnosticReportKind.full,items:[]}:$.kind===Ts.DocumentDiagnosticReportKind.Full?{kind:Tv.DocumentDiagnosticReportKind.full,resultId:$.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics($.items,I)}:{kind:Tv.DocumentDiagnosticReportKind.unChanged,resultId:$.resultId},$=>this.client.handleFailedRequest(Ts.DocumentDiagnosticRequest.type,I,$,{kind:Tv.DocumentDiagnosticReportKind.full,items:[]}))},h=this.client.middleware;return h.provideDiagnostics?h.provideDiagnostics(n,r,s,v):v(n,r,s)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,r,s)=>{let v=async I=>I.kind===Ts.DocumentDiagnosticReportKind.Full?{kind:Tv.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(I.uri),resultId:I.resultId,version:I.version,items:await this.client.protocol2CodeConverter.asDiagnostics(I.items,r)}:{kind:Tv.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(I.uri),resultId:I.resultId,version:I.version},h=I=>{let M=[];for(let $ of I)M.push({uri:this.client.code2ProtocolConverter.asUri($.uri),value:$.value});return M},D=(I,M)=>{let $=(0,LL.generateUuid)(),W=this.client.onProgress(Ts.WorkspaceDiagnosticRequest.partialResult,$,async z=>{if(z==null){s(null);return}let _e={items:[]};for(let ge of z.items)try{_e.items.push(await v(ge))}catch(Ae){this.client.error("Converting workspace diagnostics failed.",Ae)}s(_e)}),ne={identifier:this.options.identifier,previousResultIds:h(I),partialResultToken:$};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Ts.WorkspaceDiagnosticRequest.type,ne,M).then(async z=>{if(M.isCancellationRequested)return{items:[]};let _e={items:[]};for(let ge of z.items)_e.items.push(await v(ge));return W.dispose(),s(_e),{items:[]}},z=>(W.dispose(),this.client.handleFailedRequest(Ts.DocumentDiagnosticRequest.type,M,z,{items:[]})))},E=this.client.middleware;return E.provideWorkspaceDiagnostics?E.provideWorkspaceDiagnostics(n,r,s,D):D(n,r,s)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===wc.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:wc.outDated,document:n.document});this.diagnostics.dispose()}},dE=class{constructor(e){this.diagnosticRequestor=e,this.documents=new Ts.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=Jg.asKey(e);this.documents.has(n)||(this.documents.set(n,e,Ts.Touch.Last),this.trigger())}remove(e){let n=Jg.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,Ts.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=Jg.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,Ts.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Jg.asKey(this.endDocument):void 0}},vE=class{constructor(e,n,r){let s=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},v=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),h=[],D=z=>{let _e=r.documentSelector;if(s.match!==void 0)return s.match(_e,z);for(let ge of _e)if(Ts.TextDocumentFilter.is(ge)){if(typeof ge=="string"||ge.language!==void 0&&ge.language!=="*"||ge.scheme!==void 0&&ge.scheme!=="*"&&ge.scheme!==z.scheme)return!1;if(ge.pattern!==void 0){let Ae=new FL.Minimatch(ge.pattern,{noext:!0});if(!Ae.makeRe()||!Ae.match(z.fsPath))return!1}}return!0},E=z=>z instanceof Jr.Uri?D(z):Jr.languages.match(v,z)>0&&n.isVisible(z),I=z=>z instanceof Jr.Uri?this.activeTextDocument?.uri.toString()===z.toString():this.activeTextDocument===z;this.diagnosticRequestor=new fE(e,n,r),this.backgroundScheduler=new dE(this.diagnosticRequestor);let M=z=>{!E(z)||!r.interFileDependencies||I(z)||this.backgroundScheduler.add(z)};this.activeTextDocument=Jr.window.activeTextEditor?.document,Jr.window.onDidChangeActiveTextEditor(z=>{let _e=this.activeTextDocument;this.activeTextDocument=z?.document,_e!==void 0&&M(_e),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let $=e.getFeature(Ts.DidOpenTextDocumentNotification.method);h.push($.onNotificationSent(z=>{let _e=z.textDocument;this.diagnosticRequestor.knows(La.document,_e)||E(_e)&&this.diagnosticRequestor.pull(_e,()=>{M(_e)})})),h.push(n.onOpen(z=>{for(let _e of z){if(this.diagnosticRequestor.knows(La.document,_e))continue;let ge=_e.toString(),Ae;for(let Me of Jr.workspace.textDocuments)if(ge===Me.uri.toString()){Ae=Me;break}Ae!==void 0&&E(Ae)&&this.diagnosticRequestor.pull(Ae,()=>{M(Ae)})}}));let W=new Set;for(let z of Jr.workspace.textDocuments)E(z)&&(this.diagnosticRequestor.pull(z,()=>{M(z)}),W.add(z.uri.toString()));if(s.onTabs===!0)for(let z of n.getTabResources())!W.has(z.toString())&&E(z)&&this.diagnosticRequestor.pull(z,()=>{M(z)});if(s.onChange===!0){let z=e.getFeature(Ts.DidChangeTextDocumentNotification.method);h.push(z.onNotificationSent(async _e=>{let ge=_e.textDocument;(s.filter===void 0||!s.filter(ge,CS.onType))&&this.diagnosticRequestor.knows(La.document,ge)&&this.diagnosticRequestor.pull(ge,()=>{this.backgroundScheduler.trigger()})}))}if(s.onSave===!0){let z=e.getFeature(Ts.DidSaveTextDocumentNotification.method);h.push(z.onNotificationSent(_e=>{let ge=_e.textDocument;(s.filter===void 0||!s.filter(ge,CS.onSave))&&this.diagnosticRequestor.knows(La.document,ge)&&this.diagnosticRequestor.pull(_e.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let ne=e.getFeature(Ts.DidCloseTextDocumentNotification.method);h.push(ne.onNotificationSent(z=>{this.cleanUpDocument(z.textDocument)})),n.onClose(z=>{for(let _e of z)this.cleanUpDocument(_e)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let z of Jr.workspace.textDocuments)E(z)&&this.diagnosticRequestor.pull(z)}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=Jr.Disposable.from(...h,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(La.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},pE=class extends uE.TextDocumentLanguageFeature{constructor(e){super(e,Ts.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=DS(DS(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,DS(DS(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest(Ts.DiagnosticRefreshRequest.type,async()=>{for(let h of this.getAllProviders())h.onDidChangeDiagnosticsEmitter.fire()});let[s,v]=this.getRegistration(n,e.diagnosticProvider);!s||!v||this.register({id:s,registerOptions:v})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new cE);let n=new vE(this._client,this.tabs,e);return[n.disposable,n]}};Gh.DiagnosticFeature=pE});var hN=Oe(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.NotebookDocumentSyncFeature=void 0;var Rc=require("vscode"),AL=SS(),Qg=mr(),ML=Yo(),pN=_v();function gN(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var d_;(function(t){let e;(function(n){function r(W,ne){return{version:W.version,uri:ne.asUri(W.uri)}}n.asVersionedNotebookDocumentIdentifier=r;function s(W,ne,z){let _e=Qg.NotebookDocument.create(z.asUri(W.uri),W.notebookType,W.version,v(ne,z));return Object.keys(W.metadata).length>0&&(_e.metadata=h(W.metadata)),_e}n.asNotebookDocument=s;function v(W,ne){return W.map(z=>D(z,ne))}n.asNotebookCells=v;function h(W){return I(new Set,W)}n.asMetadata=h;function D(W,ne){let z=Qg.NotebookCell.create(E(W.kind),ne.asUri(W.document.uri));return Object.keys(W.metadata).length>0&&(z.metadata=h(W.metadata)),W.executionSummary!==void 0&&pN.number(W.executionSummary.executionOrder)&&pN.boolean(W.executionSummary.success)&&(z.executionSummary={executionOrder:W.executionSummary.executionOrder,success:W.executionSummary.success}),z}n.asNotebookCell=D;function E(W){switch(W){case Rc.NotebookCellKind.Markup:return Qg.NotebookCellKind.Markup;case Rc.NotebookCellKind.Code:return Qg.NotebookCellKind.Code}}function I(W,ne){if(W.has(ne))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(ne)){let z=[];for(let _e of ne)if(_e!==null&&typeof _e=="object"||Array.isArray(_e))z.push(I(W,_e));else{if(_e instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");z.push(_e)}return z}else{let z=Object.keys(ne),_e=Object.create(null);for(let ge of z){let Ae=ne[ge];if(Ae!==null&&typeof Ae=="object"||Array.isArray(Ae))_e[ge]=I(W,Ae);else{if(Ae instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_e[ge]=Ae}}return _e}}function M(W,ne){let z=ne.asChangeTextDocumentParams(W,W.document.uri,W.document.version);return{document:z.textDocument,changes:z.contentChanges}}n.asTextContentChange=M;function $(W,ne){let z=Object.create(null);if(W.metadata&&(z.metadata=t.c2p.asMetadata(W.metadata)),W.cells!==void 0){let _e=Object.create(null),ge=W.cells;ge.structure&&(_e.structure={array:{start:ge.structure.array.start,deleteCount:ge.structure.array.deleteCount,cells:ge.structure.array.cells!==void 0?ge.structure.array.cells.map(Ae=>t.c2p.asNotebookCell(Ae,ne)):void 0},didOpen:ge.structure.didOpen!==void 0?ge.structure.didOpen.map(Ae=>ne.asOpenTextDocumentParams(Ae.document).textDocument):void 0,didClose:ge.structure.didClose!==void 0?ge.structure.didClose.map(Ae=>ne.asCloseTextDocumentParams(Ae.document).textDocument):void 0}),ge.data!==void 0&&(_e.data=ge.data.map(Ae=>t.c2p.asNotebookCell(Ae,ne))),ge.textContent!==void 0&&(_e.textContent=ge.textContent.map(Ae=>t.c2p.asTextContentChange(Ae,ne))),Object.keys(_e).length>0&&(z.cells=_e)}return z}n.asNotebookDocumentChangeEvent=$})(e=t.c2p||(t.c2p={}))})(d_||(d_={}));var hE;(function(t){function e(D,E,I){let M=D.length,$=E.length,W=0;for(;W<$&&W<M&&n(D[W],E[W],I);)W++;if(W<$&&W<M){let ne=M-1,z=$-1;for(;ne>=0&&z>=0&&n(D[ne],E[z],I);)ne--,z--;let _e=ne+1-W,ge=W===z+1?void 0:E.slice(W,z+1);return ge!==void 0?{start:W,deleteCount:_e,cells:ge}:{start:W,deleteCount:_e}}else return W<$?{start:W,deleteCount:0,cells:E.slice(W)}:W<M?{start:W,deleteCount:M-W}:void 0}t.computeDiff=e;function n(D,E,I=!0){return D.kind!==E.kind||D.document.uri.toString()!==E.document.uri.toString()||D.document.languageId!==E.document.languageId||!r(D.executionSummary,E.executionSummary)?!1:!I||I&&v(D.metadata,E.metadata)}function r(D,E){return D===E?!0:D===void 0||E===void 0?!1:D.executionOrder===E.executionOrder&&D.success===E.success&&s(D.timing,E.timing)}function s(D,E){return D===E?!0:D===void 0||E===void 0?!1:D.startTime===E.startTime&&D.endTime===E.endTime}function v(D,E){if(D===E)return!0;if(D==null||E===null||E===void 0||typeof D!=typeof E||typeof D!="object")return!1;let I=Array.isArray(D),M=Array.isArray(E);if(I!==M)return!1;if(I&&M){if(D.length!==E.length)return!1;for(let $=0;$<D.length;$++)if(!v(D[$],E[$]))return!1}if(h(D)&&h(E)){let $=Object.keys(D),W=Object.keys(E);if($.length!==W.length||($.sort(),W.sort(),!v($,W)))return!1;for(let ne=0;ne<$.length;ne++){let z=$[ne];if(!v(D[z],E[z]))return!1}return!0}return!1}function h(D){return D!==null&&typeof D=="object"}t.isObjectLiteral=h})(hE||(hE={}));var mE;(function(t){function e(n,r){if(typeof n=="string")return n==="*"||r.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&r.notebookType!==n.notebookType)return!1;let s=r.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&s.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let v=new AL.Minimatch(n.pattern,{noext:!0});if(!v.makeRe()||!v.match(s.fsPath))return!1}return!0}t.matchNotebook=e})(mE||(mE={}));var TS;(function(t){function e(r){let s=r.notebookSelector,v=[];for(let h of s){let D=(typeof h.notebook=="string"?h.notebook:h.notebook?.notebookType)??"*",E=typeof h.notebook=="string"?void 0:h.notebook?.scheme,I=typeof h.notebook=="string"?void 0:h.notebook?.pattern;if(h.cells!==void 0)for(let M of h.cells)v.push(n(D,E,I,M.language));else v.push(n(D,E,I,void 0))}return v}t.asDocumentSelector=e;function n(r,s,v,h){return s===void 0&&v===void 0?{notebook:r,language:h}:{notebook:{notebookType:r,scheme:s,pattern:v},language:h}}})(TS||(TS={}));var ES;(function(t){function e(n){return{cells:n,uris:new Set(n.map(r=>r.document.uri.toString()))}}t.create=e})(ES||(ES={}));var v_=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(TS.asDocumentSelector(n)),Rc.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r)},void 0,this.disposables);for(let r of Rc.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);Rc.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&Rc.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),Rc.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString())},void 0,this.disposables)}getState(){for(let e of Rc.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Rc.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(Rc.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),s=this.cellMatches(e,n);if(r!==void 0){let v=r.uris.has(n.document.uri.toString());if(s&&v||!s&&!v)return;if(s){let h=this.getMatchingCells(e);if(h!==void 0){let D=this.asNotebookDocumentChangeEvent(e,void 0,r,h);D!==void 0&&this.doSendChange(D,h).catch(()=>{})}}}else s&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){Rc.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let s=n.document.uri,v=r.cells.findIndex(h=>h.document.uri.toString()===s.toString());if(v!==-1)if(v===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else{let h=r.cells.slice(),D=h.splice(v,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:v,deleteCount:1},didClose:D}}},h).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(n!==void 0){let s=this.asNotebookDocumentChangeEvent(e,void 0,r,n);s!==void 0&&this.doSendChange(s,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,r=this.notebookSyncInfo.get(n.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let s=this.getMatchingCells(n);if(s===void 0)return;this.didOpen(n,s,r)}else{let s=this.getMatchingCells(n);if(s===void 0){this.didClose(n,r);return}let v=this.asNotebookDocumentChangeEvent(e.notebook,e,r,s);v!==void 0&&this.doSendChange(v,s).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let r=e.getCells().filter(s=>n.uris.has(s.document.uri.toString()));this.doSendClose(e,r).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let r=async(v,h)=>{let D=d_.c2p.asNotebookDocument(v,h,this.client.code2ProtocolConverter),E=h.map(I=>this.client.code2ProtocolConverter.asTextDocumentItem(I.document));try{await this.client.sendNotification(Qg.DidOpenNotebookDocumentNotification.type,{notebookDocument:D,cellTextDocuments:E})}catch(I){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",I),I}},s=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),ES.create(n)),s?.didOpen!==void 0?s.didOpen(e,n,r):r(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let r=async v=>{try{await this.client.sendNotification(Qg.DidChangeNotebookDocumentNotification.type,{notebookDocument:d_.c2p.asVersionedNotebookDocumentIdentifier(v.notebook,this.client.code2ProtocolConverter),change:d_.c2p.asNotebookDocumentChangeEvent(v,this.client.code2ProtocolConverter)})}catch(h){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",h),h}},s=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),ES.create(n??[])),s?.didChange!==void 0?s?.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async s=>{try{await this.client.sendNotification(Qg.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)}})}catch(v){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",v),v}},r=this.client.middleware?.notebooks;return r?.didSave!==void 0?r.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let r=async(v,h)=>{try{await this.client.sendNotification(Qg.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(v.uri)},cellTextDocuments:h.map(D=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(D.document))})}catch(D){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",D),D}},s=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),s?.didClose!==void 0?s.didClose(e,n,r):r(e,n)}asNotebookDocumentChangeEvent(e,n,r,s){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let v={notebook:e};n?.metadata!==void 0&&(v.metadata=d_.c2p.asMetadata(n.metadata));let h;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let D=[];h=new Set(s.map(E=>E.document.uri.toString()));for(let E of n.cellChanges)h.has(E.cell.document.uri.toString())&&(E.executionSummary!==void 0||E.metadata!==void 0)&&D.push(E.cell);D.length>0&&(v.cells=v.cells??{},v.cells.data=D)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&r!==void 0&&s!==void 0){let D=r.cells,E=s,I=hE.computeDiff(D,E,!1),M,$;if(I!==void 0){M=I.cells===void 0?new Map:new Map(I.cells.map(z=>[z.document.uri.toString(),z])),$=I.deleteCount===0?new Map:new Map(D.slice(I.start,I.start+I.deleteCount).map(z=>[z.document.uri.toString(),z]));for(let z of Array.from($.keys()))M.has(z)&&($.delete(z),M.delete(z));v.cells=v.cells??{};let W=[],ne=[];if(M.size>0||$.size>0){for(let z of M.values())W.push(z);for(let z of $.values())ne.push(z)}v.cells.structure={array:I,didOpen:W,didClose:ne}}}return Object.keys(v).length>1?v:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0||mE.matchNotebook(r.notebook,e)){let s=this.filterCells(e,n,r.cells);return s.length===0?void 0:s}}}cellMatches(e,n){let r=this.getMatchingCells(e,[n]);return r!==void 0&&r[0]===n}filterCells(e,n,r){let s=r!==void 0?n.filter(v=>{let h=v.document.languageId;return r.some(D=>D.language==="*"||h===D.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,s):s}},bS=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Qg.NotebookDocumentSyncRegistrationType.type,Rc.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,s]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||s===void 0))for(let v of this.registrations.values())v instanceof v_&&v.didOpenNotebookCellTextDocument(r,s)}),Rc.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let r=n.document;if(r.uri.scheme!==t.CellScheme)return;let[s]=this.findNotebookDocumentAndCell(r);if(s!==void 0)for(let v of this.registrations.values())v instanceof v_&&v.didChangeNotebookCellTextDocument(s,n)}),Rc.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,s]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||s===void 0))for(let v of this.registrations.values())v instanceof v_&&v.didCloseNotebookCellTextDocument(r,s)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=gN(gN(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(TS.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let r=n.id??ML.generateUuid();this.register({id:r,registerOptions:n})}register(e){let n=new v_(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Rc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let r of Rc.workspace.notebookDocuments)for(let s of r.getCells())if(s.document.uri.toString()===n)return[r,s];return[void 0,void 0]}};wS.NotebookDocumentSyncFeature=bS;bS.CellScheme="vscode-notebook-cell"});var _N=Oe(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.SyncConfigurationFeature=Bh.toJSONObject=Bh.ConfigurationFeature=void 0;var p_=require("vscode"),B_=mr(),qL=_v(),UL=Yo(),mN=li(),_E=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(B_.ConfigurationRequest.type,(n,r)=>{let s=h=>{let D=[];for(let E of h.items){let I=E.scopeUri!==void 0&&E.scopeUri!==null?this._client.protocol2CodeConverter.asUri(E.scopeUri):void 0;D.push(this.getConfiguration(I,E.section!==null?E.section:void 0))}return D},v=e.middleware.workspace;return v&&v.configuration?v.configuration(n,r,s):s(n,r)})}getConfiguration(e,n){let r=null;if(n){let s=n.lastIndexOf(".");if(s===-1)r=Cm(p_.workspace.getConfiguration(void 0,e).get(n));else{let v=p_.workspace.getConfiguration(n.substr(0,s),e);v&&(r=Cm(v.get(n.substr(s+1))))}}else{let s=p_.workspace.getConfiguration(void 0,e);r={};for(let v of Object.keys(s))s.has(v)&&(r[v]=Cm(s.get(v)))}return r===void 0&&(r=null),r}clear(){}};Bh.ConfigurationFeature=_E;function Cm(t){if(t){if(Array.isArray(t))return t.map(Cm);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Cm(t[n]));return e}}return t}Bh.toJSONObject=Cm;var yE=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return B_.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,mN.ensure)((0,mN.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:UL.generateUuid(),registerOptions:{section:e}})}register(e){let n=p_.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let r;if(qL.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(D=>n.affectsConfiguration(D)))return;let s=async h=>h===void 0?this._client.sendNotification(B_.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(B_.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(h)}),v=this._client.middleware.workspace?.didChangeConfiguration;(v?v(r,s):s(r)).catch(h=>{this._client.error(`Sending notification ${B_.DidChangeConfigurationNotification.type.method} failed`,h)})}extractSettingsInformation(e){function n(v,h){let D=v;for(let E=0;E<h.length-1;E++){let I=D[h[E]];I||(I=Object.create(null),D[h[E]]=I),D=I}return D}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,s=Object.create(null);for(let v=0;v<e.length;v++){let h=e[v],D=h.indexOf("."),E=null;if(D>=0?E=p_.workspace.getConfiguration(h.substr(0,D),r).get(h.substr(D+1)):E=p_.workspace.getConfiguration(void 0,r).get(h),E){let I=e[v].split(".");n(s,I)[I[I.length-1]]=Cm(E)}}return s}};Bh.SyncConfigurationFeature=yE});var yN=Oe(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.DidSaveTextDocumentFeature=uf.WillSaveWaitUntilFeature=uf.WillSaveFeature=uf.DidChangeTextDocumentFeature=uf.DidCloseTextDocumentFeature=uf.DidOpenTextDocumentFeature=void 0;var Ed=require("vscode"),to=mr(),ts=li(),g_=Yo(),SE=class extends ts.TextDocumentEventFeature{constructor(e,n){super(e,Ed.workspace.onDidOpenTextDocument,to.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,ts.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,ts.ensure)((0,ts.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:g_.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return to.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);Ed.workspace.textDocuments.forEach(r=>{let s=r.uri.toString();if(!this._syncedDocuments.has(s)&&Ed.languages.match(n,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let v=this._client.middleware,h=D=>this._client.sendNotification(this._type,this._createParams(D));(v.didOpen?v.didOpen(r,h):h(r)).catch(D=>{this._client.error(`Sending document notification ${this._type.method} failed`,D)}),this._syncedDocuments.set(s,r)}})}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,r)}};uf.DidOpenTextDocumentFeature=SE;var DE=class extends ts.TextDocumentEventFeature{constructor(e,n,r){super(e,Ed.workspace.onDidCloseTextDocument,to.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,s=>e.code2ProtocolConverter.asCloseTextDocumentParams(s),s=>s,ts.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=r}get registrationType(){return to.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,ts.ensure)((0,ts.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:g_.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,r)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(s=>{if(Ed.languages.match(n,s)>0&&!this._selectorFilter(r,s)&&!this._client.hasDedicatedTextSynchronizationFeature(s)){let v=this._client.middleware,h=D=>this._client.sendNotification(this._type,this._createParams(D));this._syncedDocuments.delete(s.uri.toString()),(v.didClose?v.didClose(s,h):h(s)).catch(D=>{this._client.error(`Sending document notification ${this._type.method} failed`,D)})}})}};uf.DidCloseTextDocumentFeature=DE;var CE=class extends ts.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new Ed.EventEmitter,this._onPendingChangeAdded=new Ed.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=to.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return to.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,ts.ensure)((0,ts.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==to.TextDocumentSyncKind.None&&this.register({id:g_.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Ed.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,r=e.document.version,s=[];for(let v of this._changeData.values())if(Ed.languages.match(v.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let h=this._client.middleware;if(v.syncKind===to.TextDocumentSyncKind.Incremental){let D=async E=>{let I=this._client.code2ProtocolConverter.asChangeTextDocumentParams(E,n,r);await this._client.sendNotification(to.DidChangeTextDocumentNotification.type,I),this.notificationSent(E.document,to.DidChangeTextDocumentNotification.type,I)};s.push(h.didChange?h.didChange(e,E=>D(E)):D(e))}else if(v.syncKind===to.TextDocumentSyncKind.Full){let D=async E=>{let I=E.document.uri.toString();this._pendingTextDocumentChanges.set(I,E.document),this._onPendingChangeAdded.fire()};s.push(h.didChange?h.didChange(e,E=>D(E)):D(e))}}return Promise.all(s).then(void 0,v=>{throw this._client.error(`Sending document notification ${to.DidChangeTextDocumentNotification.type.method} failed`,v),v})}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=to.TextDocumentSyncKind.None;else{this._syncKind=to.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===to.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=to.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let r of this._pendingTextDocumentChanges)e.has(r[0])||(n.push(r[1]),this._pendingTextDocumentChanges.delete(r[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(Ed.languages.match(n.documentSelector,e)>0)return{send:r=>this.callback(r)}}updateSyncKind(e){if(this._syncKind!==to.TextDocumentSyncKind.Full)switch(e){case to.TextDocumentSyncKind.Full:this._syncKind=e;break;case to.TextDocumentSyncKind.Incremental:this._syncKind===to.TextDocumentSyncKind.None&&(this._syncKind=to.TextDocumentSyncKind.Incremental);break}}};uf.DidChangeTextDocumentFeature=CE;var TE=class extends ts.TextDocumentEventFeature{constructor(e){super(e,Ed.workspace.onWillSaveTextDocument,to.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,r)=>ts.TextDocumentEventFeature.textDocumentFilter(n,r.document))}get registrationType(){return to.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,ts.ensure)((0,ts.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:g_.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};uf.WillSaveFeature=TE;var EE=class extends ts.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return to.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,ts.ensure)((0,ts.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:g_.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Ed.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(ts.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,r=s=>this._client.sendRequest(to.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(s)).then(async v=>{let h=await this._client.protocol2CodeConverter.asTextEdits(v);return h===void 0?[]:h});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};uf.WillSaveWaitUntilFeature=EE;var bE=class extends ts.TextDocumentEventFeature{constructor(e){super(e,Ed.workspace.onDidSaveTextDocument,to.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,ts.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return to.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,ts.ensure)((0,ts.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let s=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:g_.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},s)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};uf.DidSaveTextDocumentFeature=bE});var SN=Oe(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.CompletionItemFeature=void 0;var HL=require("vscode"),Qr=mr(),wE=li(),jL=Yo(),$L=[Qr.CompletionItemKind.Text,Qr.CompletionItemKind.Method,Qr.CompletionItemKind.Function,Qr.CompletionItemKind.Constructor,Qr.CompletionItemKind.Field,Qr.CompletionItemKind.Variable,Qr.CompletionItemKind.Class,Qr.CompletionItemKind.Interface,Qr.CompletionItemKind.Module,Qr.CompletionItemKind.Property,Qr.CompletionItemKind.Unit,Qr.CompletionItemKind.Value,Qr.CompletionItemKind.Enum,Qr.CompletionItemKind.Keyword,Qr.CompletionItemKind.Snippet,Qr.CompletionItemKind.Color,Qr.CompletionItemKind.File,Qr.CompletionItemKind.Reference,Qr.CompletionItemKind.Folder,Qr.CompletionItemKind.EnumMember,Qr.CompletionItemKind.Constant,Qr.CompletionItemKind.Struct,Qr.CompletionItemKind.Event,Qr.CompletionItemKind.Operator,Qr.CompletionItemKind.TypeParameter],RE=class extends wE.TextDocumentLanguageFeature{constructor(e){super(e,Qr.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,wE.ensure)((0,wE.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Qr.MarkupKind.Markdown,Qr.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Qr.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Qr.InsertTextMode.asIs,Qr.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=Qr.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:$L},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);r&&this.register({id:jL.generateUuid(),registerOptions:r})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let r=e.triggerCharacters??[],s=e.allCommitCharacters,v=e.documentSelector,h={provideCompletionItems:(D,E,I,M)=>{let $=this._client,W=this._client.middleware,ne=(z,_e,ge,Ae)=>$.sendRequest(Qr.CompletionRequest.type,$.code2ProtocolConverter.asCompletionParams(z,_e,ge),Ae).then(Me=>Ae.isCancellationRequested?null:$.protocol2CodeConverter.asCompletionResult(Me,s,Ae),Me=>$.handleFailedRequest(Qr.CompletionRequest.type,Ae,Me,null));return W.provideCompletionItem?W.provideCompletionItem(D,E,M,I,ne):ne(D,E,M,I)},resolveCompletionItem:e.resolveProvider?(D,E)=>{let I=this._client,M=this._client.middleware,$=(W,ne)=>I.sendRequest(Qr.CompletionResolveRequest.type,I.code2ProtocolConverter.asCompletionItem(W,!!this.labelDetailsSupport.get(n)),ne).then(z=>ne.isCancellationRequested?null:I.protocol2CodeConverter.asCompletionItem(z),z=>I.handleFailedRequest(Qr.CompletionResolveRequest.type,ne,z,W));return M.resolveCompletionItem?M.resolveCompletionItem(D,E,$):$(D,E)}:void 0};return[HL.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(v),h,...r),h]}};RS.CompletionItemFeature=RE});var DN=Oe(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.HoverFeature=void 0;var YL=require("vscode"),V_=mr(),PE=li(),WL=Yo(),IE=class extends PE.TextDocumentLanguageFeature{constructor(e){super(e,V_.HoverRequest.type)}fillClientCapabilities(e){let n=(0,PE.ensure)((0,PE.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[V_.MarkupKind.Markdown,V_.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);r&&this.register({id:WL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideHover:(s,v,h)=>{let D=this._client,E=(M,$,W)=>D.sendRequest(V_.HoverRequest.type,D.code2ProtocolConverter.asTextDocumentPositionParams(M,$),W).then(ne=>W.isCancellationRequested?null:D.protocol2CodeConverter.asHover(ne),ne=>D.handleFailedRequest(V_.HoverRequest.type,W,ne,null)),I=D.middleware;return I.provideHover?I.provideHover(s,v,h,E):E(s,v,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return YL.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};PS.HoverFeature=IE});var CN=Oe(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.DefinitionFeature=void 0;var KL=require("vscode"),NE=mr(),OE=li(),zL=Yo(),kE=class extends OE.TextDocumentLanguageFeature{constructor(e){super(e,NE.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,OE.ensure)((0,OE.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);r&&this.register({id:zL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDefinition:(s,v,h)=>{let D=this._client,E=(M,$,W)=>D.sendRequest(NE.DefinitionRequest.type,D.code2ProtocolConverter.asTextDocumentPositionParams(M,$),W).then(ne=>W.isCancellationRequested?null:D.protocol2CodeConverter.asDefinitionResult(ne,W),ne=>D.handleFailedRequest(NE.DefinitionRequest.type,W,ne,null)),I=D.middleware;return I.provideDefinition?I.provideDefinition(s,v,h,E):E(s,v,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return KL.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};IS.DefinitionFeature=kE});var EN=Oe(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.SignatureHelpFeature=void 0;var TN=require("vscode"),X_=mr(),xE=li(),GL=Yo(),FE=class extends xE.TextDocumentLanguageFeature{constructor(e){super(e,X_.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,xE.ensure)((0,xE.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[X_.MarkupKind.Markdown,X_.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);r&&this.register({id:GL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(r,s,v,h)=>{let D=this._client,E=(M,$,W,ne)=>D.sendRequest(X_.SignatureHelpRequest.type,D.code2ProtocolConverter.asSignatureHelpParams(M,$,W),ne).then(z=>ne.isCancellationRequested?null:D.protocol2CodeConverter.asSignatureHelp(z,ne),z=>D.handleFailedRequest(X_.SignatureHelpRequest.type,ne,z,null)),I=D.middleware;return I.provideSignatureHelp?I.provideSignatureHelp(r,s,h,v,E):E(r,s,h,v)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let s=e.triggerCharacters||[];return TN.languages.registerSignatureHelpProvider(r,n,...s)}else{let s={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return TN.languages.registerSignatureHelpProvider(r,n,s)}}};NS.SignatureHelpFeature=FE});var bN=Oe(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.DocumentHighlightFeature=void 0;var BL=require("vscode"),LE=mr(),AE=li(),VL=Yo(),ME=class extends AE.TextDocumentLanguageFeature{constructor(e){super(e,LE.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,AE.ensure)((0,AE.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);r&&this.register({id:VL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentHighlights:(s,v,h)=>{let D=this._client,E=(M,$,W)=>D.sendRequest(LE.DocumentHighlightRequest.type,D.code2ProtocolConverter.asTextDocumentPositionParams(M,$),W).then(ne=>W.isCancellationRequested?null:D.protocol2CodeConverter.asDocumentHighlights(ne,W),ne=>D.handleFailedRequest(LE.DocumentHighlightRequest.type,W,ne,null)),I=D.middleware;return I.provideDocumentHighlights?I.provideDocumentHighlights(s,v,h,E):E(s,v,h)}};return[BL.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};OS.DocumentHighlightFeature=ME});var HE=Oe(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.DocumentSymbolFeature=vg.SupportedSymbolTags=vg.SupportedSymbolKinds=void 0;var XL=require("vscode"),Pi=mr(),qE=li(),JL=Yo();vg.SupportedSymbolKinds=[Pi.SymbolKind.File,Pi.SymbolKind.Module,Pi.SymbolKind.Namespace,Pi.SymbolKind.Package,Pi.SymbolKind.Class,Pi.SymbolKind.Method,Pi.SymbolKind.Property,Pi.SymbolKind.Field,Pi.SymbolKind.Constructor,Pi.SymbolKind.Enum,Pi.SymbolKind.Interface,Pi.SymbolKind.Function,Pi.SymbolKind.Variable,Pi.SymbolKind.Constant,Pi.SymbolKind.String,Pi.SymbolKind.Number,Pi.SymbolKind.Boolean,Pi.SymbolKind.Array,Pi.SymbolKind.Object,Pi.SymbolKind.Key,Pi.SymbolKind.Null,Pi.SymbolKind.EnumMember,Pi.SymbolKind.Struct,Pi.SymbolKind.Event,Pi.SymbolKind.Operator,Pi.SymbolKind.TypeParameter];vg.SupportedSymbolTags=[Pi.SymbolTag.Deprecated];var UE=class extends qE.TextDocumentLanguageFeature{constructor(e){super(e,Pi.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,qE.ensure)((0,qE.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:vg.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:vg.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);r&&this.register({id:JL.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentSymbols:(v,h)=>{let D=this._client,E=async(M,$)=>{try{let W=await D.sendRequest(Pi.DocumentSymbolRequest.type,D.code2ProtocolConverter.asDocumentSymbolParams(M),$);if($.isCancellationRequested||W===void 0||W===null)return null;if(W.length===0)return[];{let ne=W[0];return Pi.DocumentSymbol.is(ne)?await D.protocol2CodeConverter.asDocumentSymbols(W,$):await D.protocol2CodeConverter.asSymbolInformations(W,$)}}catch(W){return D.handleFailedRequest(Pi.DocumentSymbolRequest.type,$,W,null)}},I=D.middleware;return I.provideDocumentSymbols?I.provideDocumentSymbols(v,h,E):E(v,h)}},s=e.label!==void 0?{label:e.label}:void 0;return[XL.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,s),r]}};vg.DocumentSymbolFeature=UE});var RN=Oe(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.WorkspaceSymbolFeature=void 0;var QL=require("vscode"),J_=mr(),jE=li(),wN=HE(),ZL=Yo(),$E=class extends jE.WorkspaceFeature{constructor(e){super(e,J_.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,jE.ensure)((0,jE.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:wN.SupportedSymbolKinds},n.tagSupport={valueSet:wN.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:ZL.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,s)=>{let v=this._client,h=(E,I)=>v.sendRequest(J_.WorkspaceSymbolRequest.type,{query:E},I).then(M=>I.isCancellationRequested?null:v.protocol2CodeConverter.asSymbolInformations(M,I),M=>v.handleFailedRequest(J_.WorkspaceSymbolRequest.type,I,M,null)),D=v.middleware;return D.provideWorkspaceSymbols?D.provideWorkspaceSymbols(r,s,h):h(r,s)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,s)=>{let v=this._client,h=(E,I)=>v.sendRequest(J_.WorkspaceSymbolResolveRequest.type,v.code2ProtocolConverter.asWorkspaceSymbol(E),I).then(M=>I.isCancellationRequested?null:v.protocol2CodeConverter.asSymbolInformation(M),M=>v.handleFailedRequest(J_.WorkspaceSymbolResolveRequest.type,I,M,null)),D=v.middleware;return D.resolveWorkspaceSymbol?D.resolveWorkspaceSymbol(r,s,h):h(r,s)}:void 0};return[QL.languages.registerWorkspaceSymbolProvider(n),n]}};kS.WorkspaceSymbolFeature=$E});var PN=Oe(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.ReferencesFeature=void 0;var eA=require("vscode"),YE=mr(),WE=li(),tA=Yo(),KE=class extends WE.TextDocumentLanguageFeature{constructor(e){super(e,YE.ReferencesRequest.type)}fillClientCapabilities(e){(0,WE.ensure)((0,WE.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);r&&this.register({id:tA.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideReferences:(s,v,h,D)=>{let E=this._client,I=($,W,ne,z)=>E.sendRequest(YE.ReferencesRequest.type,E.code2ProtocolConverter.asReferenceParams($,W,ne),z).then(_e=>z.isCancellationRequested?null:E.protocol2CodeConverter.asReferences(_e,z),_e=>E.handleFailedRequest(YE.ReferencesRequest.type,z,_e,null)),M=E.middleware;return M.provideReferences?M.provideReferences(s,v,h,D,I):I(s,v,h,D)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return eA.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};xS.ReferencesFeature=KE});var IN=Oe(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.CodeActionFeature=void 0;var nA=require("vscode"),bd=mr(),rA=Yo(),zE=li(),GE=class extends zE.TextDocumentLanguageFeature{constructor(e){super(e,bd.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,zE.ensure)((0,zE.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[bd.CodeActionKind.Empty,bd.CodeActionKind.QuickFix,bd.CodeActionKind.Refactor,bd.CodeActionKind.RefactorExtract,bd.CodeActionKind.RefactorInline,bd.CodeActionKind.RefactorRewrite,bd.CodeActionKind.Source,bd.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);r&&this.register({id:rA.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideCodeActions:(s,v,h,D)=>{let E=this._client,I=async($,W,ne,z)=>{let _e={textDocument:E.code2ProtocolConverter.asTextDocumentIdentifier($),range:E.code2ProtocolConverter.asRange(W),context:E.code2ProtocolConverter.asCodeActionContextSync(ne)};return E.sendRequest(bd.CodeActionRequest.type,_e,z).then(ge=>z.isCancellationRequested||ge===null||ge===void 0?null:E.protocol2CodeConverter.asCodeActionResult(ge,z),ge=>E.handleFailedRequest(bd.CodeActionRequest.type,z,ge,null))},M=E.middleware;return M.provideCodeActions?M.provideCodeActions(s,v,h,D,I):I(s,v,h,D)},resolveCodeAction:e.resolveProvider?(s,v)=>{let h=this._client,D=this._client.middleware,E=async(I,M)=>h.sendRequest(bd.CodeActionResolveRequest.type,h.code2ProtocolConverter.asCodeActionSync(I),M).then($=>M.isCancellationRequested?I:h.protocol2CodeConverter.asCodeAction($,M),$=>h.handleFailedRequest(bd.CodeActionResolveRequest.type,M,$,I));return D.resolveCodeAction?D.resolveCodeAction(s,v,E):E(s,v)}:void 0};return[nA.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};FS.CodeActionFeature=GE});var ON=Oe(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.CodeLensFeature=void 0;var NN=require("vscode"),h_=mr(),iA=Yo(),Q_=li(),BE=class extends Q_.TextDocumentLanguageFeature{constructor(e){super(e,h_.CodeLensRequest.type)}fillClientCapabilities(e){(0,Q_.ensure)((0,Q_.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Q_.ensure)((0,Q_.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(h_.CodeLensRefreshRequest.type,async()=>{for(let v of this.getAllProviders())v.onDidChangeCodeLensEmitter.fire()});let s=this.getRegistrationOptions(n,e.codeLensProvider);s&&this.register({id:iA.generateUuid(),registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r=new NN.EventEmitter,s={onDidChangeCodeLenses:r.event,provideCodeLenses:(v,h)=>{let D=this._client,E=(M,$)=>D.sendRequest(h_.CodeLensRequest.type,D.code2ProtocolConverter.asCodeLensParams(M),$).then(W=>$.isCancellationRequested?null:D.protocol2CodeConverter.asCodeLenses(W,$),W=>D.handleFailedRequest(h_.CodeLensRequest.type,$,W,null)),I=D.middleware;return I.provideCodeLenses?I.provideCodeLenses(v,h,E):E(v,h)},resolveCodeLens:e.resolveProvider?(v,h)=>{let D=this._client,E=(M,$)=>D.sendRequest(h_.CodeLensResolveRequest.type,D.code2ProtocolConverter.asCodeLens(M),$).then(W=>$.isCancellationRequested?M:D.protocol2CodeConverter.asCodeLens(W),W=>D.handleFailedRequest(h_.CodeLensResolveRequest.type,$,W,M)),I=D.middleware;return I.resolveCodeLens?I.resolveCodeLens(v,h,E):E(v,h)}:void 0};return[NN.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),s),{provider:s,onDidChangeCodeLensEmitter:r}]}};LS.CodeLensFeature=BE});var kN=Oe(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.DocumentOnTypeFormattingFeature=Vh.DocumentRangeFormattingFeature=Vh.DocumentFormattingFeature=void 0;var AS=require("vscode"),Sp=mr(),QE=Yo(),Zg=li(),m_;(function(t){function e(n){let r=AS.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(m_||(m_={}));var VE=class extends Zg.TextDocumentLanguageFeature{constructor(e){super(e,Sp.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Zg.ensure)((0,Zg.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);r&&this.register({id:QE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentFormattingEdits:(s,v,h)=>{let D=this._client,E=(M,$,W)=>{let ne={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(M),options:D.code2ProtocolConverter.asFormattingOptions($,m_.fromConfiguration(M))};return D.sendRequest(Sp.DocumentFormattingRequest.type,ne,W).then(z=>W.isCancellationRequested?null:D.protocol2CodeConverter.asTextEdits(z,W),z=>D.handleFailedRequest(Sp.DocumentFormattingRequest.type,W,z,null))},I=D.middleware;return I.provideDocumentFormattingEdits?I.provideDocumentFormattingEdits(s,v,h,E):E(s,v,h)}};return[AS.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Vh.DocumentFormattingFeature=VE;var XE=class extends Zg.TextDocumentLanguageFeature{constructor(e){super(e,Sp.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,Zg.ensure)((0,Zg.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);r&&this.register({id:QE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentRangeFormattingEdits:(s,v,h,D)=>{let E=this._client,I=($,W,ne,z)=>{let _e={textDocument:E.code2ProtocolConverter.asTextDocumentIdentifier($),range:E.code2ProtocolConverter.asRange(W),options:E.code2ProtocolConverter.asFormattingOptions(ne,m_.fromConfiguration($))};return E.sendRequest(Sp.DocumentRangeFormattingRequest.type,_e,z).then(ge=>z.isCancellationRequested?null:E.protocol2CodeConverter.asTextEdits(ge,z),ge=>E.handleFailedRequest(Sp.DocumentRangeFormattingRequest.type,z,ge,null))},M=E.middleware;return M.provideDocumentRangeFormattingEdits?M.provideDocumentRangeFormattingEdits(s,v,h,D,I):I(s,v,h,D)}};return e.rangesSupport&&(r.provideDocumentRangesFormattingEdits=(s,v,h,D)=>{let E=this._client,I=($,W,ne,z)=>{let _e={textDocument:E.code2ProtocolConverter.asTextDocumentIdentifier($),ranges:E.code2ProtocolConverter.asRanges(W),options:E.code2ProtocolConverter.asFormattingOptions(ne,m_.fromConfiguration($))};return E.sendRequest(Sp.DocumentRangesFormattingRequest.type,_e,z).then(ge=>z.isCancellationRequested?null:E.protocol2CodeConverter.asTextEdits(ge,z),ge=>E.handleFailedRequest(Sp.DocumentRangesFormattingRequest.type,z,ge,null))},M=E.middleware;return M.provideDocumentRangesFormattingEdits?M.provideDocumentRangesFormattingEdits(s,v,h,D,I):I(s,v,h,D)}),[AS.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Vh.DocumentRangeFormattingFeature=XE;var JE=class extends Zg.TextDocumentLanguageFeature{constructor(e){super(e,Sp.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Zg.ensure)((0,Zg.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);r&&this.register({id:QE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideOnTypeFormattingEdits:(v,h,D,E,I)=>{let M=this._client,$=(ne,z,_e,ge,Ae)=>{let Me={textDocument:M.code2ProtocolConverter.asTextDocumentIdentifier(ne),position:M.code2ProtocolConverter.asPosition(z),ch:_e,options:M.code2ProtocolConverter.asFormattingOptions(ge,m_.fromConfiguration(ne))};return M.sendRequest(Sp.DocumentOnTypeFormattingRequest.type,Me,Ae).then(ze=>Ae.isCancellationRequested?null:M.protocol2CodeConverter.asTextEdits(ze,Ae),ze=>M.handleFailedRequest(Sp.DocumentOnTypeFormattingRequest.type,Ae,ze,null))},W=M.middleware;return W.provideOnTypeFormattingEdits?W.provideOnTypeFormattingEdits(v,h,D,E,I,$):$(v,h,D,E,I)}},s=e.moreTriggerCharacter||[];return[AS.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.firstTriggerCharacter,...s),r]}};Vh.DocumentOnTypeFormattingFeature=JE});var FN=Oe(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.RenameFeature=void 0;var oA=require("vscode"),Tm=mr(),sA=Yo(),xN=_v(),ZE=li(),e0=class extends ZE.TextDocumentLanguageFeature{constructor(e){super(e,Tm.RenameRequest.type)}fillClientCapabilities(e){let n=(0,ZE.ensure)((0,ZE.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=Tm.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);r&&(xN.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:sA.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n=e.documentSelector,r={provideRenameEdits:(s,v,h,D)=>{let E=this._client,I=($,W,ne,z)=>{let _e={textDocument:E.code2ProtocolConverter.asTextDocumentIdentifier($),position:E.code2ProtocolConverter.asPosition(W),newName:ne};return E.sendRequest(Tm.RenameRequest.type,_e,z).then(ge=>z.isCancellationRequested?null:E.protocol2CodeConverter.asWorkspaceEdit(ge,z),ge=>E.handleFailedRequest(Tm.RenameRequest.type,z,ge,null,!1))},M=E.middleware;return M.provideRenameEdits?M.provideRenameEdits(s,v,h,D,I):I(s,v,h,D)},prepareRename:e.prepareProvider?(s,v,h)=>{let D=this._client,E=(M,$,W)=>{let ne={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(M),position:D.code2ProtocolConverter.asPosition($)};return D.sendRequest(Tm.PrepareRenameRequest.type,ne,W).then(z=>W.isCancellationRequested?null:Tm.Range.is(z)?D.protocol2CodeConverter.asRange(z):this.isDefaultBehavior(z)?z.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):z&&Tm.Range.is(z.range)?{range:D.protocol2CodeConverter.asRange(z.range),placeholder:z.placeholder}:Promise.reject(new Error("The element can't be renamed.")),z=>{throw typeof z.message=="string"?new Error(z.message):new Error("The element can't be renamed.")})},I=D.middleware;return I.prepareRename?I.prepareRename(s,v,h,E):E(s,v,h)}:void 0};return[this.registerProvider(n,r),r]}registerProvider(e,n){return oA.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&xN.boolean(n.defaultBehavior)}};MS.RenameFeature=e0});var LN=Oe(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.DocumentLinkFeature=void 0;var aA=require("vscode"),Z_=mr(),t0=li(),uA=Yo(),n0=class extends t0.TextDocumentLanguageFeature{constructor(e){super(e,Z_.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,t0.ensure)((0,t0.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);r&&this.register({id:uA.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentLinks:(s,v)=>{let h=this._client,D=(I,M)=>h.sendRequest(Z_.DocumentLinkRequest.type,h.code2ProtocolConverter.asDocumentLinkParams(I),M).then($=>M.isCancellationRequested?null:h.protocol2CodeConverter.asDocumentLinks($,M),$=>h.handleFailedRequest(Z_.DocumentLinkRequest.type,M,$,null)),E=h.middleware;return E.provideDocumentLinks?E.provideDocumentLinks(s,v,D):D(s,v)},resolveDocumentLink:e.resolveProvider?(s,v)=>{let h=this._client,D=(I,M)=>h.sendRequest(Z_.DocumentLinkResolveRequest.type,h.code2ProtocolConverter.asDocumentLink(I),M).then($=>M.isCancellationRequested?I:h.protocol2CodeConverter.asDocumentLink($),$=>h.handleFailedRequest(Z_.DocumentLinkResolveRequest.type,M,$,I)),E=h.middleware;return E.resolveDocumentLink?E.resolveDocumentLink(s,v,D):D(s,v)}:void 0};return[aA.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};qS.DocumentLinkFeature=n0});var MN=Oe(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.ExecuteCommandFeature=void 0;var cA=require("vscode"),r0=mr(),lA=Yo(),AN=li(),i0=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return r0.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,AN.ensure)((0,AN.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:lA.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.middleware,s=(v,h)=>{let D={command:v,arguments:h};return n.sendRequest(r0.ExecuteCommandRequest.type,D).then(void 0,E=>n.handleFailedRequest(r0.ExecuteCommandRequest.type,void 0,E,void 0))};if(e.registerOptions.commands){let v=[];for(let h of e.registerOptions.commands)v.push(cA.commands.registerCommand(h,(...D)=>r.executeCommand?r.executeCommand(h,D,s):s(h,D)));this._commands.set(e.id,v)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};US.ExecuteCommandFeature=i0});var qN=Oe(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.FileSystemWatcherFeature=void 0;var fA=require("vscode"),Em=mr(),HS=li(),o0=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Em.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,HS.ensure)((0,HS.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,HS.ensure)((0,HS.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){let s=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(s===void 0)continue;let v=!0,h=!0,D=!0;r.kind!==void 0&&r.kind!==null&&(v=(r.kind&Em.WatchKind.Create)!==0,h=(r.kind&Em.WatchKind.Change)!==0,D=(r.kind&Em.WatchKind.Delete)!==0);let E=fA.workspace.createFileSystemWatcher(s,!v,!h,!D);this.hookListeners(E,v,h,D,n),n.push(E)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let s of n)this.hookListeners(s,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,s,v){n&&e.onDidCreate(h=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(h),type:Em.FileChangeType.Created}),null,v),r&&e.onDidChange(h=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(h),type:Em.FileChangeType.Changed}),null,v),s&&e.onDidDelete(h=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(h),type:Em.FileChangeType.Deleted}),null,v)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};jS.FileSystemWatcherFeature=o0});var UN=Oe($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.ColorProviderFeature=void 0;var dA=require("vscode"),ey=mr(),s0=li(),a0=class extends s0.TextDocumentLanguageFeature{constructor(e){super(e,ey.DocumentColorRequest.type)}fillClientCapabilities(e){(0,s0.ensure)((0,s0.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.colorProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r={provideColorPresentations:(s,v,h)=>{let D=this._client,E=(M,$,W)=>{let ne={color:M,textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier($.document),range:D.code2ProtocolConverter.asRange($.range)};return D.sendRequest(ey.ColorPresentationRequest.type,ne,W).then(z=>W.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(z,W),z=>D.handleFailedRequest(ey.ColorPresentationRequest.type,W,z,null))},I=D.middleware;return I.provideColorPresentations?I.provideColorPresentations(s,v,h,E):E(s,v,h)},provideDocumentColors:(s,v)=>{let h=this._client,D=(I,M)=>{let $={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(I)};return h.sendRequest(ey.DocumentColorRequest.type,$,M).then(W=>M.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(W,M),W=>h.handleFailedRequest(ey.DocumentColorRequest.type,M,W,null))},E=h.middleware;return E.provideDocumentColors?E.provideDocumentColors(s,v,D):D(s,v)}};return[dA.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};$S.ColorProviderFeature=a0});var HN=Oe(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});YS.ImplementationFeature=void 0;var vA=require("vscode"),u0=mr(),c0=li(),l0=class extends c0.TextDocumentLanguageFeature{constructor(e){super(e,u0.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,c0.ensure)((0,c0.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.implementationProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r={provideImplementation:(s,v,h)=>{let D=this._client,E=(M,$,W)=>D.sendRequest(u0.ImplementationRequest.type,D.code2ProtocolConverter.asTextDocumentPositionParams(M,$),W).then(ne=>W.isCancellationRequested?null:D.protocol2CodeConverter.asDefinitionResult(ne,W),ne=>D.handleFailedRequest(u0.ImplementationRequest.type,W,ne,null)),I=D.middleware;return I.provideImplementation?I.provideImplementation(s,v,h,E):E(s,v,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return vA.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};YS.ImplementationFeature=l0});var jN=Oe(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.TypeDefinitionFeature=void 0;var pA=require("vscode"),f0=mr(),ty=li(),d0=class extends ty.TextDocumentLanguageFeature{constructor(e){super(e,f0.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ty.ensure)((0,ty.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,ty.ensure)((0,ty.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.typeDefinitionProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r={provideTypeDefinition:(s,v,h)=>{let D=this._client,E=(M,$,W)=>D.sendRequest(f0.TypeDefinitionRequest.type,D.code2ProtocolConverter.asTextDocumentPositionParams(M,$),W).then(ne=>W.isCancellationRequested?null:D.protocol2CodeConverter.asDefinitionResult(ne,W),ne=>D.handleFailedRequest(f0.TypeDefinitionRequest.type,W,ne,null)),I=D.middleware;return I.provideTypeDefinition?I.provideTypeDefinition(s,v,h,E):E(s,v,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return pA.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};WS.TypeDefinitionFeature=d0});var $N=Oe(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.WorkspaceFoldersFeature=__.arrayDiff=void 0;var gA=Yo(),KS=require("vscode"),ny=mr();function v0(t,e){if(t!=null)return t[e]}function p0(t,e){return t.filter(n=>e.indexOf(n)<0)}__.arrayDiff=p0;var g0=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return ny.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=KS.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(ny.WorkspaceFoldersRequest.type,v=>{let h=()=>{let E=KS.workspace.workspaceFolders;return E===void 0?null:E.map(M=>this.asProtocol(M))},D=n.middleware.workspace;return D&&D.workspaceFolders?D.workspaceFolders(v,h):h(v)});let r=v0(v0(v0(e,"workspace"),"workspaceFolders"),"changeNotifications"),s;typeof r=="string"?s=r:r===!0&&(s=gA.generateUuid()),s&&this.register({id:s,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let r=p0(this._initialFolders,e),s=p0(e,this._initialFolders);(s.length>0||r.length>0)&&(n=this.doSendEvent(s,r))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(r=>{this._client.error(`Sending notification ${ny.DidChangeWorkspaceFoldersNotification.type.method} failed`,r)})}doSendEvent(e,n){let r={event:{added:e.map(s=>this.asProtocol(s)),removed:n.map(s=>this.asProtocol(s))}};return this._client.sendNotification(ny.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,s=KS.workspace.onDidChangeWorkspaceFolders(v=>{let h=I=>this.doSendEvent(I.added,I.removed),D=r.middleware.workspace;(D&&D.didChangeWorkspaceFolders?D.didChangeWorkspaceFolders(v,h):h(v)).catch(I=>{this._client.error(`Sending notification ${ny.DidChangeWorkspaceFoldersNotification.type.method} failed`,I)})});this._listeners.set(n,s),this.sendInitialEvent(KS.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};__.WorkspaceFoldersFeature=g0});var WN=Oe(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.FoldingRangeFeature=void 0;var YN=require("vscode"),bm=mr(),ry=li(),h0=class extends ry.TextDocumentLanguageFeature{constructor(e){super(e,bm.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,ry.ensure)((0,ry.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[bm.FoldingRangeKind.Comment,bm.FoldingRangeKind.Imports,bm.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,ry.ensure)((0,ry.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(bm.FoldingRangeRefreshRequest.type,async()=>{for(let v of this.getAllProviders())v.onDidChangeFoldingRange.fire()});let[r,s]=this.getRegistration(n,e.foldingRangeProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r=new YN.EventEmitter,s={onDidChangeFoldingRanges:r.event,provideFoldingRanges:(v,h,D)=>{let E=this._client,I=($,W,ne)=>{let z={textDocument:E.code2ProtocolConverter.asTextDocumentIdentifier($)};return E.sendRequest(bm.FoldingRangeRequest.type,z,ne).then(_e=>ne.isCancellationRequested?null:E.protocol2CodeConverter.asFoldingRanges(_e,ne),_e=>E.handleFailedRequest(bm.FoldingRangeRequest.type,ne,_e,null))},M=E.middleware;return M.provideFoldingRanges?M.provideFoldingRanges(v,h,D,I):I(v,h,D)}};return[YN.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),s),{provider:s,onDidChangeFoldingRange:r}]}};zS.FoldingRangeFeature=h0});var KN=Oe(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.DeclarationFeature=void 0;var hA=require("vscode"),m0=mr(),_0=li(),y0=class extends _0.TextDocumentLanguageFeature{constructor(e){super(e,m0.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,_0.ensure)((0,_0.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.declarationProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDeclaration:(s,v,h)=>{let D=this._client,E=(M,$,W)=>D.sendRequest(m0.DeclarationRequest.type,D.code2ProtocolConverter.asTextDocumentPositionParams(M,$),W).then(ne=>W.isCancellationRequested?null:D.protocol2CodeConverter.asDeclarationResult(ne,W),ne=>D.handleFailedRequest(m0.DeclarationRequest.type,W,ne,null)),I=D.middleware;return I.provideDeclaration?I.provideDeclaration(s,v,h,E):E(s,v,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return hA.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};GS.DeclarationFeature=y0});var zN=Oe(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.SelectionRangeFeature=void 0;var mA=require("vscode"),S0=mr(),D0=li(),C0=class extends D0.TextDocumentLanguageFeature{constructor(e){super(e,S0.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,D0.ensure)((0,D0.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.selectionRangeProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r={provideSelectionRanges:(s,v,h)=>{let D=this._client,E=async(M,$,W)=>{let ne={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(M),positions:D.code2ProtocolConverter.asPositionsSync($,W)};return D.sendRequest(S0.SelectionRangeRequest.type,ne,W).then(z=>W.isCancellationRequested?null:D.protocol2CodeConverter.asSelectionRanges(z,W),z=>D.handleFailedRequest(S0.SelectionRangeRequest.type,W,z,null))},I=D.middleware;return I.provideSelectionRanges?I.provideSelectionRanges(s,v,h,E):E(s,v,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return mA.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};BS.SelectionRangeFeature=C0});var BN=Oe(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.ProgressFeature=void 0;var GN=mr(),_A=VT();function yA(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var T0=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:GN.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){yA(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=s=>{this.activeParts.delete(s)},r=s=>{this.activeParts.add(new _A.ProgressPart(this._client,s.token,n))};e.onRequest(GN.WorkDoneProgressCreateRequest.type,r)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};VS.ProgressFeature=T0});var VN=Oe(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.CallHierarchyFeature=void 0;var SA=require("vscode"),wm=mr(),E0=li(),b0=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,r){let s=this.client,v=this.middleware,h=(D,E,I)=>{let M=s.code2ProtocolConverter.asTextDocumentPositionParams(D,E);return s.sendRequest(wm.CallHierarchyPrepareRequest.type,M,I).then($=>I.isCancellationRequested?null:s.protocol2CodeConverter.asCallHierarchyItems($,I),$=>s.handleFailedRequest(wm.CallHierarchyPrepareRequest.type,I,$,null))};return v.prepareCallHierarchy?v.prepareCallHierarchy(e,n,r,h):h(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,s=this.middleware,v=(h,D)=>{let E={item:r.code2ProtocolConverter.asCallHierarchyItem(h)};return r.sendRequest(wm.CallHierarchyIncomingCallsRequest.type,E,D).then(I=>D.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(I,D),I=>r.handleFailedRequest(wm.CallHierarchyIncomingCallsRequest.type,D,I,null))};return s.provideCallHierarchyIncomingCalls?s.provideCallHierarchyIncomingCalls(e,n,v):v(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,s=this.middleware,v=(h,D)=>{let E={item:r.code2ProtocolConverter.asCallHierarchyItem(h)};return r.sendRequest(wm.CallHierarchyOutgoingCallsRequest.type,E,D).then(I=>D.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(I,D),I=>r.handleFailedRequest(wm.CallHierarchyOutgoingCallsRequest.type,D,I,null))};return s.provideCallHierarchyOutgoingCalls?s.provideCallHierarchyOutgoingCalls(e,n,v):v(e,n)}},w0=class extends E0.TextDocumentLanguageFeature{constructor(e){super(e,wm.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,r=(0,E0.ensure)((0,E0.ensure)(n,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.callHierarchyProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=this._client,r=new b0(n);return[SA.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};XS.CallHierarchyFeature=w0});var XN=Oe(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.SemanticTokensFeature=void 0;var JS=require("vscode"),br=mr(),iy=li(),DA=_v(),R0=class extends iy.TextDocumentLanguageFeature{constructor(e){super(e,br.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,iy.ensure)((0,iy.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[br.SemanticTokenTypes.namespace,br.SemanticTokenTypes.type,br.SemanticTokenTypes.class,br.SemanticTokenTypes.enum,br.SemanticTokenTypes.interface,br.SemanticTokenTypes.struct,br.SemanticTokenTypes.typeParameter,br.SemanticTokenTypes.parameter,br.SemanticTokenTypes.variable,br.SemanticTokenTypes.property,br.SemanticTokenTypes.enumMember,br.SemanticTokenTypes.event,br.SemanticTokenTypes.function,br.SemanticTokenTypes.method,br.SemanticTokenTypes.macro,br.SemanticTokenTypes.keyword,br.SemanticTokenTypes.modifier,br.SemanticTokenTypes.comment,br.SemanticTokenTypes.string,br.SemanticTokenTypes.number,br.SemanticTokenTypes.regexp,br.SemanticTokenTypes.operator,br.SemanticTokenTypes.decorator],n.tokenModifiers=[br.SemanticTokenModifiers.declaration,br.SemanticTokenModifiers.definition,br.SemanticTokenModifiers.readonly,br.SemanticTokenModifiers.static,br.SemanticTokenModifiers.deprecated,br.SemanticTokenModifiers.abstract,br.SemanticTokenModifiers.async,br.SemanticTokenModifiers.modification,br.SemanticTokenModifiers.documentation,br.SemanticTokenModifiers.defaultLibrary],n.formats=[br.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,iy.ensure)((0,iy.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(br.SemanticTokensRefreshRequest.type,async()=>{for(let h of this.getAllProviders())h.onDidChangeSemanticTokensEmitter.fire()});let[s,v]=this.getRegistration(n,e.semanticTokensProvider);!s||!v||this.register({id:s,registerOptions:v})}registerLanguageProvider(e){let n=e.documentSelector,r=DA.boolean(e.full)?e.full:e.full!==void 0,s=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,v=new JS.EventEmitter,h=r?{onDidChangeSemanticTokens:v.event,provideDocumentSemanticTokens:(ne,z)=>{let _e=this._client,ge=_e.middleware,Ae=(Me,ze)=>{let rt={textDocument:_e.code2ProtocolConverter.asTextDocumentIdentifier(Me)};return _e.sendRequest(br.SemanticTokensRequest.type,rt,ze).then(Pt=>ze.isCancellationRequested?null:_e.protocol2CodeConverter.asSemanticTokens(Pt,ze),Pt=>_e.handleFailedRequest(br.SemanticTokensRequest.type,ze,Pt,null))};return ge.provideDocumentSemanticTokens?ge.provideDocumentSemanticTokens(ne,z,Ae):Ae(ne,z)},provideDocumentSemanticTokensEdits:s?(ne,z,_e)=>{let ge=this._client,Ae=ge.middleware,Me=(ze,rt,Pt)=>{let on={textDocument:ge.code2ProtocolConverter.asTextDocumentIdentifier(ze),previousResultId:rt};return ge.sendRequest(br.SemanticTokensDeltaRequest.type,on,Pt).then(async we=>Pt.isCancellationRequested?null:br.SemanticTokens.is(we)?await ge.protocol2CodeConverter.asSemanticTokens(we,Pt):await ge.protocol2CodeConverter.asSemanticTokensEdits(we,Pt),we=>ge.handleFailedRequest(br.SemanticTokensDeltaRequest.type,Pt,we,null))};return Ae.provideDocumentSemanticTokensEdits?Ae.provideDocumentSemanticTokensEdits(ne,z,_e,Me):Me(ne,z,_e)}:void 0}:void 0,E=e.range===!0?{provideDocumentRangeSemanticTokens:(ne,z,_e)=>{let ge=this._client,Ae=ge.middleware,Me=(ze,rt,Pt)=>{let on={textDocument:ge.code2ProtocolConverter.asTextDocumentIdentifier(ze),range:ge.code2ProtocolConverter.asRange(rt)};return ge.sendRequest(br.SemanticTokensRangeRequest.type,on,Pt).then(we=>Pt.isCancellationRequested?null:ge.protocol2CodeConverter.asSemanticTokens(we,Pt),we=>ge.handleFailedRequest(br.SemanticTokensRangeRequest.type,Pt,we,null))};return Ae.provideDocumentRangeSemanticTokens?Ae.provideDocumentRangeSemanticTokens(ne,z,_e,Me):Me(ne,z,_e)}}:void 0,I=[],M=this._client,$=M.protocol2CodeConverter.asSemanticTokensLegend(e.legend),W=M.protocol2CodeConverter.asDocumentSelector(n);return h!==void 0&&I.push(JS.languages.registerDocumentSemanticTokensProvider(W,h,$)),E!==void 0&&I.push(JS.languages.registerDocumentRangeSemanticTokensProvider(W,E,$)),[new JS.Disposable(()=>I.forEach(ne=>ne.dispose())),{range:E,full:h,onDidChangeSemanticTokensEmitter:v}]}};QS.SemanticTokensFeature=R0});var ZN=Oe(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.WillDeleteFilesFeature=cf.WillRenameFilesFeature=cf.WillCreateFilesFeature=cf.DidDeleteFilesFeature=cf.DidRenameFilesFeature=cf.DidCreateFilesFeature=void 0;var Ev=require("vscode"),CA=SS(),eh=mr(),TA=Yo();function JN(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function EA(t,e){return t[e]}function QN(t,e,n){t[e]=n}var oy=class t{constructor(e,n,r,s,v){this._client=e,this._event=n,this._registrationType=r,this._clientCapability=s,this._serverCapability=v,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=JN(JN(e,"workspace"),"fileOperations");QN(n,"dynamicRegistration",!0),QN(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,r=n!==void 0?EA(n,this._serverCapability):void 0;if(r?.filters!==void 0)try{this.register({id:TA.generateUuid(),registerOptions:{filters:r.filters}})}catch(s){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${s}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let s=new CA.Minimatch(r.pattern.glob,t.asMinimatchOptions(r.pattern.options));if(!s.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:s,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let r=await Promise.all(e.files.map(async v=>{let h=n(v),D=h.fsPath.replace(/\\/g,"/");for(let E of this._filters.values())for(let I of E)if(!(I.scheme!==void 0&&I.scheme!==h.scheme)){if(I.matcher.match(D)){if(I.kind===void 0)return!0;let M=await this.getFileType(h);if(M===void 0)return this._client.error(`Failed to determine file type for ${h.toString()}.`),!0;if(M===Ev.FileType.File&&I.kind===eh.FileOperationPatternKind.file||M===Ev.FileType.Directory&&I.kind===eh.FileOperationPatternKind.folder)return!0}else if(I.kind===eh.FileOperationPatternKind.folder&&await t.getFileType(h)===Ev.FileType.Directory&&I.matcher.match(`${D}/`))return!0}return!1})),s=e.files.filter((v,h)=>r[h]);return{...e,files:s}}static async getFileType(e){try{return(await Ev.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},ZS=class extends oy{constructor(e,n,r,s,v,h,D){super(e,n,r,s,v),this._notificationType=r,this._accessUri=h,this._createParams=D}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async s=>this._client.sendNotification(this._notificationType,this._createParams(s));return this.doSend(n,r)}}},eD=class extends ZS{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let r=await oy.getFileType(e);return r&&this._fsPathFileTypes.set(n,r),r}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},P0=class extends ZS{constructor(e){super(e,Ev.workspace.onDidCreateFiles,eh.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.didCreateFiles?r.didCreateFiles(e,n):n(e)}};cf.DidCreateFilesFeature=P0;var I0=class extends eD{constructor(e){super(e,Ev.workspace.onDidRenameFiles,eh.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Ev.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didRenameFiles?r.didRenameFiles(e,n):n(e)}};cf.DidRenameFilesFeature=I0;var N0=class extends eD{constructor(e){super(e,Ev.workspace.onDidDeleteFiles,eh.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Ev.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didDeleteFiles?r.didDeleteFiles(e,n):n(e)}};cf.DidDeleteFilesFeature=N0;var sy=class extends oy{constructor(e,n,r,s,v,h,D){super(e,n,r,s,v),this._requestType=r,this._accessUri=h,this._createParams=D}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=s=>this._client.sendRequest(this._requestType,this._createParams(s),s.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},O0=class extends sy{constructor(e){super(e,Ev.workspace.onWillCreateFiles,eh.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willCreateFiles?r.willCreateFiles(e,n):n(e)}};cf.WillCreateFilesFeature=O0;var k0=class extends sy{constructor(e){super(e,Ev.workspace.onWillRenameFiles,eh.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willRenameFiles?r.willRenameFiles(e,n):n(e)}};cf.WillRenameFilesFeature=k0;var x0=class extends sy{constructor(e){super(e,Ev.workspace.onWillDeleteFiles,eh.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willDeleteFiles?r.willDeleteFiles(e,n):n(e)}};cf.WillDeleteFilesFeature=x0});var eO=Oe(tD=>{"use strict";Object.defineProperty(tD,"__esModule",{value:!0});tD.LinkedEditingFeature=void 0;var bA=require("vscode"),F0=mr(),L0=li(),A0=class extends L0.TextDocumentLanguageFeature{constructor(e){super(e,F0.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,L0.ensure)((0,L0.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r={provideLinkedEditingRanges:(s,v,h)=>{let D=this._client,E=(M,$,W)=>D.sendRequest(F0.LinkedEditingRangeRequest.type,D.code2ProtocolConverter.asTextDocumentPositionParams(M,$),W).then(ne=>W.isCancellationRequested?null:D.protocol2CodeConverter.asLinkedEditingRanges(ne,W),ne=>D.handleFailedRequest(F0.LinkedEditingRangeRequest.type,W,ne,null)),I=D.middleware;return I.provideLinkedEditingRange?I.provideLinkedEditingRange(s,v,h,E):E(s,v,h)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return bA.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};tD.LinkedEditingFeature=A0});var tO=Oe(nD=>{"use strict";Object.defineProperty(nD,"__esModule",{value:!0});nD.TypeHierarchyFeature=void 0;var wA=require("vscode"),Rm=mr(),M0=li(),q0=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,r){let s=this.client,v=this.middleware,h=(D,E,I)=>{let M=s.code2ProtocolConverter.asTextDocumentPositionParams(D,E);return s.sendRequest(Rm.TypeHierarchyPrepareRequest.type,M,I).then($=>I.isCancellationRequested?null:s.protocol2CodeConverter.asTypeHierarchyItems($,I),$=>s.handleFailedRequest(Rm.TypeHierarchyPrepareRequest.type,I,$,null))};return v.prepareTypeHierarchy?v.prepareTypeHierarchy(e,n,r,h):h(e,n,r)}provideTypeHierarchySupertypes(e,n){let r=this.client,s=this.middleware,v=(h,D)=>{let E={item:r.code2ProtocolConverter.asTypeHierarchyItem(h)};return r.sendRequest(Rm.TypeHierarchySupertypesRequest.type,E,D).then(I=>D.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(I,D),I=>r.handleFailedRequest(Rm.TypeHierarchySupertypesRequest.type,D,I,null))};return s.provideTypeHierarchySupertypes?s.provideTypeHierarchySupertypes(e,n,v):v(e,n)}provideTypeHierarchySubtypes(e,n){let r=this.client,s=this.middleware,v=(h,D)=>{let E={item:r.code2ProtocolConverter.asTypeHierarchyItem(h)};return r.sendRequest(Rm.TypeHierarchySubtypesRequest.type,E,D).then(I=>D.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(I,D),I=>r.handleFailedRequest(Rm.TypeHierarchySubtypesRequest.type,D,I,null))};return s.provideTypeHierarchySubtypes?s.provideTypeHierarchySubtypes(e,n,v):v(e,n)}},U0=class extends M0.TextDocumentLanguageFeature{constructor(e){super(e,Rm.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,M0.ensure)((0,M0.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[r,s]=this.getRegistration(n,e.typeHierarchyProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=this._client,r=new q0(n);return[wA.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};nD.TypeHierarchyFeature=U0});var rO=Oe(iD=>{"use strict";Object.defineProperty(iD,"__esModule",{value:!0});iD.InlineValueFeature=void 0;var nO=require("vscode"),rD=mr(),ay=li(),H0=class extends ay.TextDocumentLanguageFeature{constructor(e){super(e,rD.InlineValueRequest.type)}fillClientCapabilities(e){(0,ay.ensure)((0,ay.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,ay.ensure)((0,ay.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(rD.InlineValueRefreshRequest.type,async()=>{for(let v of this.getAllProviders())v.onDidChangeInlineValues.fire()});let[r,s]=this.getRegistration(n,e.inlineValueProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r=new nO.EventEmitter,s={onDidChangeInlineValues:r.event,provideInlineValues:(v,h,D,E)=>{let I=this._client,M=(W,ne,z,_e)=>{let ge={textDocument:I.code2ProtocolConverter.asTextDocumentIdentifier(W),range:I.code2ProtocolConverter.asRange(ne),context:I.code2ProtocolConverter.asInlineValueContext(z)};return I.sendRequest(rD.InlineValueRequest.type,ge,_e).then(Ae=>_e.isCancellationRequested?null:I.protocol2CodeConverter.asInlineValues(Ae,_e),Ae=>I.handleFailedRequest(rD.InlineValueRequest.type,_e,Ae,null))},$=I.middleware;return $.provideInlineValues?$.provideInlineValues(v,h,D,E,M):M(v,h,D,E)}};return[this.registerProvider(n,s),{provider:s,onDidChangeInlineValues:r}]}registerProvider(e,n){return nO.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};iD.InlineValueFeature=H0});var oO=Oe(oD=>{"use strict";Object.defineProperty(oD,"__esModule",{value:!0});oD.InlayHintsFeature=void 0;var iO=require("vscode"),y_=mr(),uy=li(),j0=class extends uy.TextDocumentLanguageFeature{constructor(e){super(e,y_.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,uy.ensure)((0,uy.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,uy.ensure)((0,uy.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(y_.InlayHintRefreshRequest.type,async()=>{for(let v of this.getAllProviders())v.onDidChangeInlayHints.fire()});let[r,s]=this.getRegistration(n,e.inlayHintProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r=new iO.EventEmitter,s={onDidChangeInlayHints:r.event,provideInlayHints:(v,h,D)=>{let E=this._client,I=async($,W,ne)=>{let z={textDocument:E.code2ProtocolConverter.asTextDocumentIdentifier($),range:E.code2ProtocolConverter.asRange(W)};try{let _e=await E.sendRequest(y_.InlayHintRequest.type,z,ne);return ne.isCancellationRequested?null:E.protocol2CodeConverter.asInlayHints(_e,ne)}catch(_e){return E.handleFailedRequest(y_.InlayHintRequest.type,ne,_e,null)}},M=E.middleware;return M.provideInlayHints?M.provideInlayHints(v,h,D,I):I(v,h,D)}};return s.resolveInlayHint=e.resolveProvider===!0?(v,h)=>{let D=this._client,E=async(M,$)=>{try{let W=await D.sendRequest(y_.InlayHintResolveRequest.type,D.code2ProtocolConverter.asInlayHint(M),$);if($.isCancellationRequested)return null;let ne=D.protocol2CodeConverter.asInlayHint(W,$);return $.isCancellationRequested?null:ne}catch(W){return D.handleFailedRequest(y_.InlayHintResolveRequest.type,$,W,null)}},I=D.middleware;return I.resolveInlayHint?I.resolveInlayHint(v,h,E):E(v,h)}:void 0,[this.registerProvider(n,s),{provider:s,onDidChangeInlayHints:r}]}registerProvider(e,n){return iO.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};oD.InlayHintsFeature=j0});var sO=Oe(sD=>{"use strict";Object.defineProperty(sD,"__esModule",{value:!0});sD.InlineCompletionItemFeature=void 0;var RA=require("vscode"),$0=mr(),Y0=li(),PA=Yo(),W0=class extends Y0.TextDocumentLanguageFeature{constructor(e){super(e,$0.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,Y0.ensure)((0,Y0.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.inlineCompletionProvider);r&&this.register({id:PA.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideInlineCompletionItems:(s,v,h,D)=>{let E=this._client,I=this._client.middleware,M=($,W,ne,z)=>E.sendRequest($0.InlineCompletionRequest.type,E.code2ProtocolConverter.asInlineCompletionParams($,W,ne),z).then(_e=>z.isCancellationRequested?null:E.protocol2CodeConverter.asInlineCompletionResult(_e,z),_e=>E.handleFailedRequest($0.InlineCompletionRequest.type,z,_e,null));return I.provideInlineCompletionItems?I.provideInlineCompletionItems(s,v,h,D,M):M(s,v,h,D)}};return[RA.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};sD.InlineCompletionItemFeature=W0});var X0=Oe(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.ProposedFeatures=du.BaseLanguageClient=du.MessageTransports=du.SuspendMode=du.State=du.CloseAction=du.ErrorAction=du.RevealOutputChannelOn=void 0;var ki=require("vscode"),_t=mr(),IA=AI(),NA=UI(),Cp=_v(),aD=vS(),aO=Yo(),OA=VT(),Dp=li(),kA=gE(),uO=hN(),cO=_N(),S_=yN(),xA=SN(),FA=DN(),LA=CN(),AA=EN(),MA=bN(),qA=HE(),UA=RN(),HA=PN(),jA=IN(),$A=ON(),K0=kN(),YA=FN(),WA=LN(),KA=MN(),zA=qN(),GA=UN(),BA=HN(),VA=jN(),XA=$N(),JA=WN(),QA=KN(),ZA=zN(),eM=BN(),tM=VN(),nM=XN(),D_=ZN(),rM=eO(),iM=tO(),oM=rO(),sM=oO(),aM=sO(),Pm;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Pm||(du.RevealOutputChannelOn=Pm={}));var ly;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(ly||(du.ErrorAction=ly={}));var Xh;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Xh||(du.CloseAction=Xh={}));var cy;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(cy||(du.State=cy={}));var lO;(function(t){t.off="off",t.on="on"})(lO||(du.SuspendMode=lO={}));var z0;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&Cp.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(z0||(z0={}));var G0=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?{action:ly.Continue}:{action:ly.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Xh.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Xh.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Xh.Restart})}},Wr;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(Wr||(Wr={}));var fO;(function(t){function e(n){return n&&_t.MessageReader.is(n.reader)&&_t.MessageWriter.is(n.writer)}t.is=e})(fO||(du.MessageTransports=fO={}));var fy=class t{constructor(e,n,r){this._traceFormat=_t.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new aD.Semaphore(1),this._id=e,this._name=n,r=r||{};let s={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(s.isTrusted=z0.sanitizeIsTrusted(r.markdown.isTrusted),s.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??Pm.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler(r.connectionOptions?.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:s,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Wr.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new aD.Semaphore(1),this._pendingChangeDelayer=new aD.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new aD.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new _t.Emitter,this._stateChangeEmitter=new _t.Emitter,this._trace=_t.Trace.Off,this._tracer={log:(v,h)=>{Cp.string(v)?this.logTrace(v,h):this.logObjectTrace(v)}},this._c2p=IA.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=NA.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=ki.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){switch(this.$state){case Wr.Starting:return cy.Starting;case Wr.Running:return cy.Running;default:return cy.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===Wr.StartFailed||this.$state===Wr.Stopping||this.$state===Wr.Stopped)return Promise.reject(new _t.ResponseError(_t.ErrorCodes.ConnectionInactive,"Client is not running"));let r=await this.$start();this._didChangeTextDocumentFeature.syncKind===_t.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(r);let s=this._clientOptions.middleware?.sendRequest;if(s!==void 0){let v,h;return n.length===1?_t.CancellationToken.is(n[0])?h=n[0]:v=n[0]:n.length===2&&(v=n[0],h=n[1]),s(e,v,h,(D,E,I)=>{let M=[];return E!==void 0&&M.push(E),I!==void 0&&M.push(I),r.sendRequest(D,...M)})}else return r.sendRequest(e,...n)}onRequest(e,n){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,n);let s=this.activeConnection(),v;return s!==void 0?(this._requestDisposables.set(r,s.onRequest(e,n)),v={dispose:()=>{let h=this._requestDisposables.get(r);h!==void 0&&(h.dispose(),this._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,n),v={dispose:()=>{this._pendingRequestHandlers.delete(r);let h=this._requestDisposables.get(r);h!==void 0&&(h.dispose(),this._requestDisposables.delete(r))}}),{dispose:()=>{this._requestHandlers.delete(r),v.dispose()}}}async sendNotification(e,n){if(this.$state===Wr.StartFailed||this.$state===Wr.Stopping||this.$state===Wr.Stopped)return Promise.reject(new _t.ResponseError(_t.ErrorCodes.ConnectionInactive,"Client is not running"));let r=this._didChangeTextDocumentFeature.syncKind===_t.TextDocumentSyncKind.Full,s;r&&typeof e!="string"&&e.method===_t.DidOpenTextDocumentNotification.method&&(s=n?.textDocument.uri,this._pendingOpenNotifications.add(s));let v=await this.$start();r&&await this.sendPendingFullTextDocumentChanges(v),s!==void 0&&this._pendingOpenNotifications.delete(s);let h=this._clientOptions.middleware?.sendNotification;return h?h(e,v.sendNotification.bind(v),n):v.sendNotification(e,n)}onNotification(e,n){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,n);let s=this.activeConnection(),v;return s!==void 0?(this._notificationDisposables.set(r,s.onNotification(e,n)),v={dispose:()=>{let h=this._notificationDisposables.get(r);h!==void 0&&(h.dispose(),this._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,n),v={dispose:()=>{this._pendingNotificationHandlers.delete(r);let h=this._notificationDisposables.get(r);h!==void 0&&(h.dispose(),this._notificationDisposables.delete(r))}}),{dispose:()=>{this._notificationHandlers.delete(r),v.dispose()}}}async sendProgress(e,n,r){if(this.$state===Wr.StartFailed||this.$state===Wr.Stopping||this.$state===Wr.Stopped)return Promise.reject(new _t.ResponseError(_t.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,r)}catch(s){throw this.error(`Sending progress for token ${n} failed.`,s),s}}onProgress(e,n,r){this._progressHandlers.set(n,{type:e,handler:r});let s=this.activeConnection(),v,h=this._clientOptions.middleware?.handleWorkDoneProgress,D=_t.WorkDoneProgress.is(e)&&h!==void 0?E=>{h(n,E,()=>r(E))}:r;return s!==void 0?(this._progressDisposables.set(n,s.onProgress(e,n,D)),v={dispose:()=>{let E=this._progressDisposables.get(n);E!==void 0&&(E.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:r}),v={dispose:()=>{this._pendingProgressHandlers.delete(n);let E=this._progressDisposables.get(n);E!==void 0&&(E.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),v.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new G0(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof _t.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?Cp.string(e.stack)?e.stack:e.message:Cp.string(e)?e:e.toString()}debug(e,n,r=!0){this.logOutputMessage(_t.MessageType.Debug,Pm.Debug,"Debug",e,n,r)}info(e,n,r=!0){this.logOutputMessage(_t.MessageType.Info,Pm.Info,"Info",e,n,r)}warn(e,n,r=!0){this.logOutputMessage(_t.MessageType.Warning,Pm.Warn,"Warn",e,n,r)}error(e,n,r=!0){this.logOutputMessage(_t.MessageType.Error,Pm.Error,"Error",e,n,r)}logOutputMessage(e,n,r,s,v,h){this.outputChannel.appendLine(`[${r.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${s}`),v!=null&&this.outputChannel.appendLine(this.data2String(v)),(h==="force"||h&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,s)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===_t.MessageType.Error?ki.window.showErrorMessage:e===_t.MessageType.Warning?ki.window.showWarningMessage:ki.window.showInformationMessage)(n,"Go to output").then(s=>{s!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Wr.Initial||this.$state===Wr.Stopping||this.$state===Wr.Stopped}needsStop(){return this.$state===Wr.Starting||this.$state===Wr.Running}activeConnection(){return this.$state===Wr.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===Wr.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===Wr.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?ki.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):ki.languages.createDiagnosticCollection());for(let[s,v]of this._notificationHandlers)this._pendingNotificationHandlers.has(s)||this._pendingNotificationHandlers.set(s,v);for(let[s,v]of this._requestHandlers)this._pendingRequestHandlers.has(s)||this._pendingRequestHandlers.set(s,v);for(let[s,v]of this._progressHandlers)this._pendingProgressHandlers.has(s)||this._pendingProgressHandlers.set(s,v);this.$state=Wr.Starting;try{let s=await this.createConnection();s.onNotification(_t.LogMessageNotification.type,v=>{switch(v.type){case _t.MessageType.Error:this.error(v.message,void 0,!1);break;case _t.MessageType.Warning:this.warn(v.message,void 0,!1);break;case _t.MessageType.Info:this.info(v.message,void 0,!1);break;case _t.MessageType.Debug:this.debug(v.message,void 0,!1);break;default:this.outputChannel.appendLine(v.message)}}),s.onNotification(_t.ShowMessageNotification.type,v=>{switch(v.type){case _t.MessageType.Error:ki.window.showErrorMessage(v.message);break;case _t.MessageType.Warning:ki.window.showWarningMessage(v.message);break;case _t.MessageType.Info:ki.window.showInformationMessage(v.message);break;default:ki.window.showInformationMessage(v.message)}}),s.onRequest(_t.ShowMessageRequest.type,v=>{let h;switch(v.type){case _t.MessageType.Error:h=ki.window.showErrorMessage;break;case _t.MessageType.Warning:h=ki.window.showWarningMessage;break;case _t.MessageType.Info:h=ki.window.showInformationMessage;break;default:h=ki.window.showInformationMessage}let D=v.actions||[];return h(v.message,...D)}),s.onNotification(_t.TelemetryEventNotification.type,v=>{this._telemetryEmitter.fire(v)}),s.onRequest(_t.ShowDocumentRequest.type,async v=>{let h=async E=>{let I=this.protocol2CodeConverter.asUri(E.uri);try{if(E.external===!0)return{success:await ki.env.openExternal(I)};{let M={};return E.selection!==void 0&&(M.selection=this.protocol2CodeConverter.asRange(E.selection)),E.takeFocus===void 0||E.takeFocus===!1?M.preserveFocus=!0:E.takeFocus===!0&&(M.preserveFocus=!1),await ki.window.showTextDocument(I,M),{success:!0}}}catch{return{success:!1}}},D=this._clientOptions.middleware.window?.showDocument;return D!==void 0?D(v,h):h(v)}),s.listen(),await this.initialize(s),n()}catch(s){this.$state=Wr.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,s,"force"),r(s)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((s,v)=>{e=s,n=v}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[r,s]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],v={processId:null,clientInfo:{name:ki.env.appName,version:ki.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(ki.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Cp.func(n)?n():n,trace:_t.Trace.toString(this._trace),workspaceFolders:s};if(this.fillInitializeParams(v),this._clientOptions.progressOnInitialization){let h=aO.generateUuid(),D=new OA.ProgressPart(e,h);v.workDoneToken=h;try{let E=await this.doInitialize(e,v);return D.done(),E}catch(E){throw D.cancel(),E}}else return this.doInitialize(e,v)}async doInitialize(e,n){try{let r=await e.initialize(n);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==_t.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=Wr.Running;let s;Cp.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===_t.TextDocumentSyncKind.None?s={openClose:!1,change:_t.TextDocumentSyncKind.None,save:void 0}:s={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(s=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:s}),e.onNotification(_t.PublishDiagnosticsNotification.type,v=>this.handleDiagnostics(v)),e.onRequest(_t.RegistrationRequest.type,v=>this.handleRegistrationRequest(v)),e.onRequest("client/registerFeature",v=>this.handleRegistrationRequest(v)),e.onRequest(_t.UnregistrationRequest.type,v=>this.handleUnregistrationRequest(v)),e.onRequest("client/unregisterFeature",v=>this.handleUnregistrationRequest(v)),e.onRequest(_t.ApplyWorkspaceEditRequest.type,v=>this.handleApplyWorkspaceEdit(v));for(let[v,h]of this._pendingNotificationHandlers)this._notificationDisposables.set(v,e.onNotification(v,h));this._pendingNotificationHandlers.clear();for(let[v,h]of this._pendingRequestHandlers)this._requestDisposables.set(v,e.onRequest(v,h));this._pendingRequestHandlers.clear();for(let[v,h]of this._pendingProgressHandlers)this._progressDisposables.set(v,e.onProgress(h.type,v,h.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(_t.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof _t.ResponseError&&r.data&&r.data.retry?ki.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(s=>{s&&s.id==="retry"?this.initialize(e):this.stop()}):(r&&r.message&&ki.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=ki.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===Wr.Stopped||this.$state===Wr.Initial)return;if(this.$state===Wr.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==Wr.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Wr.Stopping,this.cleanUp(e);let s=new Promise(h=>{(0,_t.RAL)().timer.setTimeout(h,n)}),v=(async h=>(await h.shutdown(),await h.exit(),h))(r);return this._onStop=Promise.race([s,v]).then(h=>{if(h!==void 0)h.end(),h.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},h=>{throw this.error("Stopping server failed",h,!1),h}).finally(()=>{this.$state=Wr.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let r of n)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(s=>s[1]).reverse())r.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function r(v){return n._fileEvents.push(v),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(_t.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let s=this.clientOptions.middleware?.workspace;(s?.didChangeWatchedFile?s.didChangeWatchedFile(e,r):r(e)).catch(v=>{n.error("Notify file events failed.",v)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let r of n){let s=this.code2ProtocolConverter.asChangeTextDocumentParams(r);await e.sendNotification(_t.DidChangeTextDocumentNotification.type,s),this._didChangeTextDocumentFeature.notificationSent(r,_t.DidChangeTextDocumentNotification.type,s)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,_t.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,r]=e.value;this._diagnosticQueue.delete(n);let s=new ki.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:s},this._p2c.asDiagnostics(r,s.token).then(v=>{if(!s.token.isCancellationRequested){let h=this._p2c.asUri(n),D=this.clientOptions.middleware;D.handleDiagnostics?D.handleDiagnostics(h,v,(E,I)=>this.setDiagnostics(E,I)):this.setDiagnostics(h,v)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return ki.env.language}async $start(){if(this.$state===Wr.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(s,v,h)=>{this.handleConnectionError(s,v,h).catch(D=>this.error("Handling connection error failed",D))},n=()=>{this.handleConnectionClosed().catch(s=>this.error("Handling connection close failed",s))},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=uM(r.reader,r.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===Wr.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Xh.DoNotRestart};if(this.$state!==Wr.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Xh.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===Wr.Starting?this.$state=Wr.StartFailed:this.$state=Wr.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Xh.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=Wr.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,r){let s=await this._clientOptions.errorHandler.error(e,n,r);s.action===ly.Shutdown?(this.error(s.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,s.handled===!0?!1:"force"),this.stop().catch(v=>{this.error("Stopping server failed",v,!1)})):this.error(s.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,s.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(ki.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let r=ki.workspace.getConfiguration(this._id),s=_t.Trace.Off,v=_t.TraceFormat.Text;if(r){let h=r.get("trace.server","off");typeof h=="string"?s=_t.Trace.fromString(h):(s=_t.Trace.fromString(r.get("trace.server.verbosity","off")),v=_t.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=s,this._traceFormat=v,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(h=>{this.error("Updating trace failed with error",h,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;Cp.array(n)?r=n:r=[n],r&&this._dynamicFeatures.get(_t.DidChangeWatchedFilesNotification.type.method).registerRaw(aO.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),Dp.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(_t.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof uO.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new cO.ConfigurationFeature(this)),this.registerFeature(new S_.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new S_.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new S_.WillSaveFeature(this)),this.registerFeature(new S_.WillSaveWaitUntilFeature(this)),this.registerFeature(new S_.DidSaveTextDocumentFeature(this)),this.registerFeature(new S_.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new zA.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new xA.CompletionItemFeature(this)),this.registerFeature(new FA.HoverFeature(this)),this.registerFeature(new AA.SignatureHelpFeature(this)),this.registerFeature(new LA.DefinitionFeature(this)),this.registerFeature(new HA.ReferencesFeature(this)),this.registerFeature(new MA.DocumentHighlightFeature(this)),this.registerFeature(new qA.DocumentSymbolFeature(this)),this.registerFeature(new UA.WorkspaceSymbolFeature(this)),this.registerFeature(new jA.CodeActionFeature(this)),this.registerFeature(new $A.CodeLensFeature(this)),this.registerFeature(new K0.DocumentFormattingFeature(this)),this.registerFeature(new K0.DocumentRangeFormattingFeature(this)),this.registerFeature(new K0.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new YA.RenameFeature(this)),this.registerFeature(new WA.DocumentLinkFeature(this)),this.registerFeature(new KA.ExecuteCommandFeature(this)),this.registerFeature(new cO.SyncConfigurationFeature(this)),this.registerFeature(new VA.TypeDefinitionFeature(this)),this.registerFeature(new BA.ImplementationFeature(this)),this.registerFeature(new GA.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new XA.WorkspaceFoldersFeature(this)),this.registerFeature(new JA.FoldingRangeFeature(this)),this.registerFeature(new QA.DeclarationFeature(this)),this.registerFeature(new ZA.SelectionRangeFeature(this)),this.registerFeature(new eM.ProgressFeature(this)),this.registerFeature(new tM.CallHierarchyFeature(this)),this.registerFeature(new nM.SemanticTokensFeature(this)),this.registerFeature(new rM.LinkedEditingFeature(this)),this.registerFeature(new D_.DidCreateFilesFeature(this)),this.registerFeature(new D_.DidRenameFilesFeature(this)),this.registerFeature(new D_.DidDeleteFilesFeature(this)),this.registerFeature(new D_.WillCreateFilesFeature(this)),this.registerFeature(new D_.WillRenameFilesFeature(this)),this.registerFeature(new D_.WillDeleteFilesFeature(this)),this.registerFeature(new iM.TypeHierarchyFeature(this)),this.registerFeature(new oM.InlineValueFeature(this)),this.registerFeature(new sM.InlayHintsFeature(this)),this.registerFeature(new kA.DiagnosticFeature(this)),this.registerFeature(new uO.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(V0.createAll(this))}fillInitializeParams(e){for(let n of this._features)Cp.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Dp.ensure)(e,"workspace").applyEdit=!0;let n=(0,Dp.ensure)((0,Dp.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[_t.ResourceOperationKind.Create,_t.ResourceOperationKind.Rename,_t.ResourceOperationKind.Delete],n.failureHandling=_t.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=(0,Dp.ensure)((0,Dp.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[_t.DiagnosticTag.Unnecessary,_t.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let s=(0,Dp.ensure)(e,"window"),v=(0,Dp.ensure)(s,"showMessage");v.messageActionItem={additionalPropertiesSupport:!0};let h=(0,Dp.ensure)(s,"showDocument");h.support=!0;let D=(0,Dp.ensure)(e,"general");D.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},D.regularExpressions={engine:"ECMAScript",version:"ES2020"},D.markdown={parser:"marked",version:"1.1.0"},D.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(D.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let E of this._features)E.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)Cp.func(r.preInitialize)&&r.preInitialize(this._capabilities,n);for(let r of this._features)r.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,r=>this.doRegisterCapability(r)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let r=this._dynamicFeatures.get(n.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let s=n.registerOptions??{};s.documentSelector=s.documentSelector??this._clientOptions.documentSelector;let v={id:n.id,registerOptions:s};try{r.register(v)}catch(h){return Promise.reject(h)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,r=>this.doUnregisterCapability(r)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let r=this._dynamicFeatures.get(n.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));r.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),s=new Map;ki.workspace.textDocuments.forEach(h=>s.set(h.uri.toString(),h));let v=!1;if(n.documentChanges){for(let h of n.documentChanges)if(_t.TextDocumentEdit.is(h)&&h.textDocument.version&&h.textDocument.version>=0){let D=this._p2c.asUri(h.textDocument.uri).toString(),E=s.get(D);if(E&&E.version!==h.textDocument.version){v=!0;break}}}return v?Promise.resolve({applied:!1}):Cp.asPromise(ki.workspace.applyEdit(r).then(h=>({applied:h})))}handleFailedRequest(e,n,r,s,v=!0){if(r instanceof _t.ResponseError){if(r.code===_t.ErrorCodes.PendingResponseRejected||r.code===_t.ErrorCodes.ConnectionInactive)return s;if(r.code===_t.LSPErrorCodes.RequestCancelled||r.code===_t.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return s;throw r.data!==void 0?new Dp.LSPCancellationError(r.data):new ki.CancellationError}else if(r.code===_t.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new ki.CancellationError;return s}}throw this.error(`Request ${e.method} failed.`,r,v),r}};du.BaseLanguageClient=fy;fy.RequestsToCancelOnContentModified=new Set([_t.SemanticTokensRequest.method,_t.SemanticTokensRangeRequest.method,_t.SemanticTokensDeltaRequest.method]);fy.CancellableResolveCalls=new Set([_t.CompletionResolveRequest.method,_t.CodeLensResolveRequest.method,_t.CodeActionResolveRequest.method,_t.InlayHintResolveRequest.method,_t.DocumentLinkResolveRequest.method,_t.WorkspaceSymbolResolveRequest.method]);var B0=class{error(e){(0,_t.RAL)().console.error(e)}warn(e){(0,_t.RAL)().console.warn(e)}info(e){(0,_t.RAL)().console.info(e)}log(e){(0,_t.RAL)().console.log(e)}};function uM(t,e,n,r,s){let v=new B0,h=(0,_t.createProtocolConnection)(t,e,v,s);return h.onError(E=>{n(E[0],E[1],E[2])}),h.onClose(r),{listen:()=>h.listen(),sendRequest:h.sendRequest,onRequest:h.onRequest,hasPendingResponse:h.hasPendingResponse,sendNotification:h.sendNotification,onNotification:h.onNotification,onProgress:h.onProgress,sendProgress:h.sendProgress,trace:(E,I,M)=>{let $={sendNotification:!1,traceFormat:_t.TraceFormat.Text};return M===void 0?h.trace(E,I,$):(Cp.boolean(M),h.trace(E,I,M))},initialize:E=>h.sendRequest(_t.InitializeRequest.type,E),shutdown:()=>h.sendRequest(_t.ShutdownRequest.type,void 0),exit:()=>h.sendNotification(_t.ExitNotification.type),end:()=>h.end(),dispose:()=>h.dispose()}}var V0;(function(t){function e(n){return[new aM.InlineCompletionItemFeature(n)]}t.createAll=e})(V0||(du.ProposedFeatures=V0={}))});var vO=Oe(uD=>{"use strict";Object.defineProperty(uD,"__esModule",{value:!0});uD.terminate=void 0;var dO=require("child_process"),cM=require("path"),lM=process.platform==="win32",fM=process.platform==="darwin",dM=process.platform==="linux";function vM(t,e){if(lM)try{let s={stdio:["pipe","pipe","ignore"]};return e&&(s.cwd=e),dO.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],s),!0}catch{return!1}else if(dM||fM)try{var n=(0,cM.join)(__dirname,"terminateProcess.sh"),r=dO.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}uD.terminate=vM});var J0=Oe((s2,pO)=>{"use strict";pO.exports=mr()});var dy=Oe((a2,gO)=>{var pM=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};gO.exports=pM});var cD=Oe((u2,hO)=>{var gM="2.0.0",hM=Number.MAX_SAFE_INTEGER||9007199254740991,mM=16,_M=250,yM=["major","premajor","minor","preminor","patch","prepatch","prerelease"];hO.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:mM,MAX_SAFE_BUILD_LENGTH:_M,MAX_SAFE_INTEGER:hM,RELEASE_TYPES:yM,SEMVER_SPEC_VERSION:gM,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var lD=Oe((th,mO)=>{var{MAX_SAFE_COMPONENT_LENGTH:Q0,MAX_SAFE_BUILD_LENGTH:SM,MAX_LENGTH:DM}=cD(),CM=dy();th=mO.exports={};var TM=th.re=[],EM=th.safeRe=[],Bt=th.src=[],Vt=th.t={},bM=0,Z0="[a-zA-Z0-9-]",wM=[["\\s",1],["\\d",DM],[Z0,SM]],RM=t=>{for(let[e,n]of wM)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},wr=(t,e,n)=>{let r=RM(e),s=bM++;CM(t,s,e),Vt[t]=s,Bt[s]=e,TM[s]=new RegExp(e,n?"g":void 0),EM[s]=new RegExp(r,n?"g":void 0)};wr("NUMERICIDENTIFIER","0|[1-9]\\d*");wr("NUMERICIDENTIFIERLOOSE","\\d+");wr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Z0}*`);wr("MAINVERSION",`(${Bt[Vt.NUMERICIDENTIFIER]})\\.(${Bt[Vt.NUMERICIDENTIFIER]})\\.(${Bt[Vt.NUMERICIDENTIFIER]})`);wr("MAINVERSIONLOOSE",`(${Bt[Vt.NUMERICIDENTIFIERLOOSE]})\\.(${Bt[Vt.NUMERICIDENTIFIERLOOSE]})\\.(${Bt[Vt.NUMERICIDENTIFIERLOOSE]})`);wr("PRERELEASEIDENTIFIER",`(?:${Bt[Vt.NUMERICIDENTIFIER]}|${Bt[Vt.NONNUMERICIDENTIFIER]})`);wr("PRERELEASEIDENTIFIERLOOSE",`(?:${Bt[Vt.NUMERICIDENTIFIERLOOSE]}|${Bt[Vt.NONNUMERICIDENTIFIER]})`);wr("PRERELEASE",`(?:-(${Bt[Vt.PRERELEASEIDENTIFIER]}(?:\\.${Bt[Vt.PRERELEASEIDENTIFIER]})*))`);wr("PRERELEASELOOSE",`(?:-?(${Bt[Vt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Bt[Vt.PRERELEASEIDENTIFIERLOOSE]})*))`);wr("BUILDIDENTIFIER",`${Z0}+`);wr("BUILD",`(?:\\+(${Bt[Vt.BUILDIDENTIFIER]}(?:\\.${Bt[Vt.BUILDIDENTIFIER]})*))`);wr("FULLPLAIN",`v?${Bt[Vt.MAINVERSION]}${Bt[Vt.PRERELEASE]}?${Bt[Vt.BUILD]}?`);wr("FULL",`^${Bt[Vt.FULLPLAIN]}$`);wr("LOOSEPLAIN",`[v=\\s]*${Bt[Vt.MAINVERSIONLOOSE]}${Bt[Vt.PRERELEASELOOSE]}?${Bt[Vt.BUILD]}?`);wr("LOOSE",`^${Bt[Vt.LOOSEPLAIN]}$`);wr("GTLT","((?:<|>)?=?)");wr("XRANGEIDENTIFIERLOOSE",`${Bt[Vt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);wr("XRANGEIDENTIFIER",`${Bt[Vt.NUMERICIDENTIFIER]}|x|X|\\*`);wr("XRANGEPLAIN",`[v=\\s]*(${Bt[Vt.XRANGEIDENTIFIER]})(?:\\.(${Bt[Vt.XRANGEIDENTIFIER]})(?:\\.(${Bt[Vt.XRANGEIDENTIFIER]})(?:${Bt[Vt.PRERELEASE]})?${Bt[Vt.BUILD]}?)?)?`);wr("XRANGEPLAINLOOSE",`[v=\\s]*(${Bt[Vt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Bt[Vt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Bt[Vt.XRANGEIDENTIFIERLOOSE]})(?:${Bt[Vt.PRERELEASELOOSE]})?${Bt[Vt.BUILD]}?)?)?`);wr("XRANGE",`^${Bt[Vt.GTLT]}\\s*${Bt[Vt.XRANGEPLAIN]}$`);wr("XRANGELOOSE",`^${Bt[Vt.GTLT]}\\s*${Bt[Vt.XRANGEPLAINLOOSE]}$`);wr("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Q0}})(?:\\.(\\d{1,${Q0}}))?(?:\\.(\\d{1,${Q0}}))?`);wr("COERCE",`${Bt[Vt.COERCEPLAIN]}(?:$|[^\\d])`);wr("COERCEFULL",Bt[Vt.COERCEPLAIN]+`(?:${Bt[Vt.PRERELEASE]})?(?:${Bt[Vt.BUILD]})?(?:$|[^\\d])`);wr("COERCERTL",Bt[Vt.COERCE],!0);wr("COERCERTLFULL",Bt[Vt.COERCEFULL],!0);wr("LONETILDE","(?:~>?)");wr("TILDETRIM",`(\\s*)${Bt[Vt.LONETILDE]}\\s+`,!0);th.tildeTrimReplace="$1~";wr("TILDE",`^${Bt[Vt.LONETILDE]}${Bt[Vt.XRANGEPLAIN]}$`);wr("TILDELOOSE",`^${Bt[Vt.LONETILDE]}${Bt[Vt.XRANGEPLAINLOOSE]}$`);wr("LONECARET","(?:\\^)");wr("CARETTRIM",`(\\s*)${Bt[Vt.LONECARET]}\\s+`,!0);th.caretTrimReplace="$1^";wr("CARET",`^${Bt[Vt.LONECARET]}${Bt[Vt.XRANGEPLAIN]}$`);wr("CARETLOOSE",`^${Bt[Vt.LONECARET]}${Bt[Vt.XRANGEPLAINLOOSE]}$`);wr("COMPARATORLOOSE",`^${Bt[Vt.GTLT]}\\s*(${Bt[Vt.LOOSEPLAIN]})$|^$`);wr("COMPARATOR",`^${Bt[Vt.GTLT]}\\s*(${Bt[Vt.FULLPLAIN]})$|^$`);wr("COMPARATORTRIM",`(\\s*)${Bt[Vt.GTLT]}\\s*(${Bt[Vt.LOOSEPLAIN]}|${Bt[Vt.XRANGEPLAIN]})`,!0);th.comparatorTrimReplace="$1$2$3";wr("HYPHENRANGE",`^\\s*(${Bt[Vt.XRANGEPLAIN]})\\s+-\\s+(${Bt[Vt.XRANGEPLAIN]})\\s*$`);wr("HYPHENRANGELOOSE",`^\\s*(${Bt[Vt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Bt[Vt.XRANGEPLAINLOOSE]})\\s*$`);wr("STAR","(<|>)?=?\\s*\\*");wr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");wr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var fD=Oe((c2,_O)=>{var PM=Object.freeze({loose:!0}),IM=Object.freeze({}),NM=t=>t?typeof t!="object"?PM:t:IM;_O.exports=NM});var CO=Oe((l2,DO)=>{var yO=/^[0-9]+$/,SO=(t,e)=>{let n=yO.test(t),r=yO.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},OM=(t,e)=>SO(e,t);DO.exports={compareIdentifiers:SO,rcompareIdentifiers:OM}});var vy=Oe((f2,wO)=>{var dD=dy(),{MAX_LENGTH:TO,MAX_SAFE_INTEGER:vD}=cD(),{safeRe:EO,t:bO}=lD(),kM=fD(),{compareIdentifiers:C_}=CO(),eb=class t{constructor(e,n){if(n=kM(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>TO)throw new TypeError(`version is longer than ${TO} characters`);dD("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?EO[bO.LOOSE]:EO[bO.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>vD||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vD||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vD||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let v=+s;if(v>=0&&v<vD)return v}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(dD("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),C_(this.major,e.major)||C_(this.minor,e.minor)||C_(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],s=e.prerelease[n];if(dD("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return C_(r,s)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],s=e.build[n];if(dD("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return C_(r,s)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let v=this.prerelease.length;for(;--v>=0;)typeof this.prerelease[v]=="number"&&(this.prerelease[v]++,v=-2);if(v===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let v=[n,s];r===!1&&(v=[n]),C_(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=v):this.prerelease=v}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};wO.exports=eb});var IO=Oe((d2,PO)=>{var RO=vy(),xM=(t,e,n=!1)=>{if(t instanceof RO)return t;try{return new RO(t,e)}catch(r){if(!n)return null;throw r}};PO.exports=xM});var OO=Oe((v2,NO)=>{var tb=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}};NO.exports=tb});var Im=Oe((p2,xO)=>{var kO=vy(),FM=(t,e,n)=>new kO(t,n).compare(new kO(e,n));xO.exports=FM});var LO=Oe((g2,FO)=>{var LM=Im(),AM=(t,e,n)=>LM(t,e,n)===0;FO.exports=AM});var MO=Oe((h2,AO)=>{var MM=Im(),qM=(t,e,n)=>MM(t,e,n)!==0;AO.exports=qM});var UO=Oe((m2,qO)=>{var UM=Im(),HM=(t,e,n)=>UM(t,e,n)>0;qO.exports=HM});var jO=Oe((_2,HO)=>{var jM=Im(),$M=(t,e,n)=>jM(t,e,n)>=0;HO.exports=$M});var YO=Oe((y2,$O)=>{var YM=Im(),WM=(t,e,n)=>YM(t,e,n)<0;$O.exports=WM});var KO=Oe((S2,WO)=>{var KM=Im(),zM=(t,e,n)=>KM(t,e,n)<=0;WO.exports=zM});var GO=Oe((D2,zO)=>{var GM=LO(),BM=MO(),VM=UO(),XM=jO(),JM=YO(),QM=KO(),ZM=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return GM(t,n,r);case"!=":return BM(t,n,r);case">":return VM(t,n,r);case">=":return XM(t,n,r);case"<":return JM(t,n,r);case"<=":return QM(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};zO.exports=ZM});var ek=Oe((C2,ZO)=>{var py=Symbol("SemVer ANY"),ib=class t{static get ANY(){return py}constructor(e,n){if(n=BO(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),rb("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===py?this.value="":this.value=this.operator+this.semver.version,rb("comp",this)}parse(e){let n=this.options.loose?VO[XO.COMPARATORLOOSE]:VO[XO.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new JO(r[2],this.options.loose):this.semver=py}toString(){return this.value}test(e){if(rb("Comparator.test",e,this.options.loose),this.semver===py||e===py)return!0;if(typeof e=="string")try{e=new JO(e,this.options)}catch{return!1}return nb(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new QO(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new QO(this.value,n).test(e.semver):(n=BO(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||nb(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||nb(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};ZO.exports=ib;var BO=fD(),{safeRe:VO,t:XO}=lD(),nb=GO(),rb=dy(),JO=vy(),QO=ob()});var ob=Oe((T2,ik)=>{var e1=/\s+/g,sb=class t{constructor(e,n){if(n=n1(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof ab)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(e1," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(s=>!nk(s[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&c1(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&a1)|(this.options.loose&&u1))+":"+e,s=tk.get(r);if(s)return s;let v=this.options.loose,h=v?lf[dl.HYPHENRANGELOOSE]:lf[dl.HYPHENRANGE];e=e.replace(h,y1(this.options.includePrerelease)),Ro("hyphen replace",e),e=e.replace(lf[dl.COMPARATORTRIM],i1),Ro("comparator trim",e),e=e.replace(lf[dl.TILDETRIM],o1),Ro("tilde trim",e),e=e.replace(lf[dl.CARETTRIM],s1),Ro("caret trim",e);let D=e.split(" ").map($=>l1($,this.options)).join(" ").split(/\s+/).map($=>_1($,this.options));v&&(D=D.filter($=>(Ro("loose invalid filter",$,this.options),!!$.match(lf[dl.COMPARATORLOOSE])))),Ro("range list",D);let E=new Map,I=D.map($=>new ab($,this.options));for(let $ of I){if(nk($))return[$];E.set($.value,$)}E.size>1&&E.has("")&&E.delete("");let M=[...E.values()];return tk.set(r,M),M}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>rk(r,n)&&e.set.some(s=>rk(s,n)&&r.every(v=>s.every(h=>v.intersects(h,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new r1(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(S1(this.set[n],e,this.options))return!0;return!1}};ik.exports=sb;var t1=OO(),tk=new t1,n1=fD(),ab=ek(),Ro=dy(),r1=vy(),{safeRe:lf,t:dl,comparatorTrimReplace:i1,tildeTrimReplace:o1,caretTrimReplace:s1}=lD(),{FLAG_INCLUDE_PRERELEASE:a1,FLAG_LOOSE:u1}=cD(),nk=t=>t.value==="<0.0.0-0",c1=t=>t.value==="",rk=(t,e)=>{let n=!0,r=t.slice(),s=r.pop();for(;n&&r.length;)n=r.every(v=>s.intersects(v,e)),s=r.pop();return n},l1=(t,e)=>(Ro("comp",t,e),t=v1(t,e),Ro("caret",t),t=f1(t,e),Ro("tildes",t),t=g1(t,e),Ro("xrange",t),t=m1(t,e),Ro("stars",t),t),vl=t=>!t||t.toLowerCase()==="x"||t==="*",f1=(t,e)=>t.trim().split(/\s+/).map(n=>d1(n,e)).join(" "),d1=(t,e)=>{let n=e.loose?lf[dl.TILDELOOSE]:lf[dl.TILDE];return t.replace(n,(r,s,v,h,D)=>{Ro("tilde",t,r,s,v,h,D);let E;return vl(s)?E="":vl(v)?E=`>=${s}.0.0 <${+s+1}.0.0-0`:vl(h)?E=`>=${s}.${v}.0 <${s}.${+v+1}.0-0`:D?(Ro("replaceTilde pr",D),E=`>=${s}.${v}.${h}-${D} <${s}.${+v+1}.0-0`):E=`>=${s}.${v}.${h} <${s}.${+v+1}.0-0`,Ro("tilde return",E),E})},v1=(t,e)=>t.trim().split(/\s+/).map(n=>p1(n,e)).join(" "),p1=(t,e)=>{Ro("caret",t,e);let n=e.loose?lf[dl.CARETLOOSE]:lf[dl.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(s,v,h,D,E)=>{Ro("caret",t,s,v,h,D,E);let I;return vl(v)?I="":vl(h)?I=`>=${v}.0.0${r} <${+v+1}.0.0-0`:vl(D)?v==="0"?I=`>=${v}.${h}.0${r} <${v}.${+h+1}.0-0`:I=`>=${v}.${h}.0${r} <${+v+1}.0.0-0`:E?(Ro("replaceCaret pr",E),v==="0"?h==="0"?I=`>=${v}.${h}.${D}-${E} <${v}.${h}.${+D+1}-0`:I=`>=${v}.${h}.${D}-${E} <${v}.${+h+1}.0-0`:I=`>=${v}.${h}.${D}-${E} <${+v+1}.0.0-0`):(Ro("no pr"),v==="0"?h==="0"?I=`>=${v}.${h}.${D}${r} <${v}.${h}.${+D+1}-0`:I=`>=${v}.${h}.${D}${r} <${v}.${+h+1}.0-0`:I=`>=${v}.${h}.${D} <${+v+1}.0.0-0`),Ro("caret return",I),I})},g1=(t,e)=>(Ro("replaceXRanges",t,e),t.split(/\s+/).map(n=>h1(n,e)).join(" ")),h1=(t,e)=>{t=t.trim();let n=e.loose?lf[dl.XRANGELOOSE]:lf[dl.XRANGE];return t.replace(n,(r,s,v,h,D,E)=>{Ro("xRange",t,r,s,v,h,D,E);let I=vl(v),M=I||vl(h),$=M||vl(D),W=$;return s==="="&&W&&(s=""),E=e.includePrerelease?"-0":"",I?s===">"||s==="<"?r="<0.0.0-0":r="*":s&&W?(M&&(h=0),D=0,s===">"?(s=">=",M?(v=+v+1,h=0,D=0):(h=+h+1,D=0)):s==="<="&&(s="<",M?v=+v+1:h=+h+1),s==="<"&&(E="-0"),r=`${s+v}.${h}.${D}${E}`):M?r=`>=${v}.0.0${E} <${+v+1}.0.0-0`:$&&(r=`>=${v}.${h}.0${E} <${v}.${+h+1}.0-0`),Ro("xRange return",r),r})},m1=(t,e)=>(Ro("replaceStars",t,e),t.trim().replace(lf[dl.STAR],"")),_1=(t,e)=>(Ro("replaceGTE0",t,e),t.trim().replace(lf[e.includePrerelease?dl.GTE0PRE:dl.GTE0],"")),y1=t=>(e,n,r,s,v,h,D,E,I,M,$,W)=>(vl(r)?n="":vl(s)?n=`>=${r}.0.0${t?"-0":""}`:vl(v)?n=`>=${r}.${s}.0${t?"-0":""}`:h?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,vl(I)?E="":vl(M)?E=`<${+I+1}.0.0-0`:vl($)?E=`<${I}.${+M+1}.0-0`:W?E=`<=${I}.${M}.${$}-${W}`:t?E=`<${I}.${M}.${+$+1}-0`:E=`<=${E}`,`${n} ${E}`.trim()),S1=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Ro(t[r].semver),t[r].semver!==ab.ANY&&t[r].semver.prerelease.length>0){let s=t[r].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var sk=Oe((E2,ok)=>{var D1=ob(),C1=(t,e,n)=>{try{e=new D1(e,n)}catch{return!1}return e.test(t)};ok.exports=C1});var uk=Oe(wd=>{"use strict";var T1=wd&&wd.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ub=wd&&wd.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&T1(e,t,n)};Object.defineProperty(wd,"__esModule",{value:!0});wd.DiagnosticPullMode=wd.vsdiag=void 0;ub(mr(),wd);ub(li(),wd);var ak=gE();Object.defineProperty(wd,"vsdiag",{enumerable:!0,get:function(){return ak.vsdiag}});Object.defineProperty(wd,"DiagnosticPullMode",{enumerable:!0,get:function(){return ak.DiagnosticPullMode}});ub(X0(),wd)});var gy=Oe(ff=>{"use strict";var E1=ff&&ff.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),fk=ff&&ff.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&E1(e,t,n)};Object.defineProperty(ff,"__esModule",{value:!0});ff.SettingMonitor=ff.LanguageClient=ff.TransportKind=void 0;var nh=require("child_process"),cb=require("fs"),lb=require("path"),Qh=require("vscode"),Wo=_v(),ck=X0(),b1=vO(),ns=J0(),w1=IO(),R1=sk();fk(J0(),ff);fk(uk(),ff);var lk="^1.82.0",rs;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(rs||(ff.TransportKind=rs={}));var Jh;(function(t){function e(n){let r=n;return r&&r.kind===rs.socket&&Wo.number(r.port)}t.isSocket=e})(Jh||(Jh={}));var fb;(function(t){function e(n){return Wo.string(n.command)}t.is=e})(fb||(fb={}));var db;(function(t){function e(n){return Wo.string(n.module)}t.is=e})(db||(db={}));var vb;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(vb||(vb={}));var pb;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(pb||(pb={}));var gb=class extends ck.BaseLanguageClient{constructor(e,n,r,s,v){let h,D,E,I,M;Wo.string(n)?(h=e,D=n,E=r,I=s,M=!!v):(h=e.toLowerCase(),D=e,E=n,I=r,M=s),M===void 0&&(M=!1),super(h,D,I),this._serverOptions=E,this._forceDebug=M,this._isInDebugMode=M;try{this.checkVersion()}catch($){throw Wo.string($.message)&&this.outputChannel.appendLine($.message),$}}checkVersion(){let e=w1(Qh.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Qh.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!R1(e,lk))throw new Error(`The language client requires VS Code version ${lk} but received version ${Qh.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,b1.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(M,$){if(!M&&!$)return;let W=Object.create(null);return Object.keys(process.env).forEach(ne=>W[ne]=process.env[ne]),$&&(W.ELECTRON_RUN_AS_NODE="1",W.ELECTRON_NO_ASAR="1"),M&&Object.keys(M).forEach(ne=>W[ne]=M[ne]),W}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],s=["--debug","--debug-brk","--inspect","--inspect-brk"];function v(){let M=process.execArgv;return M?M.some($=>r.some(W=>$.startsWith(W))||s.some(W=>$===W)):!1}function h(M){if(M.stdin===null||M.stdout===null||M.stderr===null)throw new Error("Process created without stdio streams")}let D=this._serverOptions;if(Wo.func(D))return D().then(M=>{if(ck.MessageTransports.is(M))return this._isDetached=!!M.detached,M;if(vb.is(M))return this._isDetached=!!M.detached,{reader:new ns.StreamMessageReader(M.reader),writer:new ns.StreamMessageWriter(M.writer)};{let $;return pb.is(M)?($=M.process,this._isDetached=M.detached):($=M,this._isDetached=!1),$.stderr.on("data",W=>this.outputChannel.append(Wo.string(W)?W:W.toString(e))),{reader:new ns.StreamMessageReader($.stdout),writer:new ns.StreamMessageWriter($.stdin)}}});let E,I=D;return I.run||I.debug?this._forceDebug||v()?(E=I.debug,this._isInDebugMode=!0):(E=I.run,this._isInDebugMode=!1):E=D,this._getServerWorkingDir(E.options).then(M=>{if(db.is(E)&&E.module){let $=E,W=$.transport||rs.stdio;if($.runtime){let ne=[],z=$.options??Object.create(null);z.execArgv&&z.execArgv.forEach(Me=>ne.push(Me)),ne.push($.module),$.args&&$.args.forEach(Me=>ne.push(Me));let _e=Object.create(null);_e.cwd=M,_e.env=n(z.env,!1);let ge=this._getRuntimePath($.runtime,M),Ae;if(W===rs.ipc?(_e.stdio=[null,null,null,"ipc"],ne.push("--node-ipc")):W===rs.stdio?ne.push("--stdio"):W===rs.pipe?(Ae=(0,ns.generateRandomPipeName)(),ne.push(`--pipe=${Ae}`)):Jh.isSocket(W)&&ne.push(`--socket=${W.port}`),ne.push(`--clientProcessId=${process.pid.toString()}`),W===rs.ipc||W===rs.stdio){let Me=nh.spawn(ge,ne,_e);return!Me||!Me.pid?T_(Me,`Launching server using runtime ${ge} failed.`):(this._serverProcess=Me,Me.stderr.on("data",ze=>this.outputChannel.append(Wo.string(ze)?ze:ze.toString(e))),W===rs.ipc?(Me.stdout.on("data",ze=>this.outputChannel.append(Wo.string(ze)?ze:ze.toString(e))),Promise.resolve({reader:new ns.IPCMessageReader(Me),writer:new ns.IPCMessageWriter(Me)})):Promise.resolve({reader:new ns.StreamMessageReader(Me.stdout),writer:new ns.StreamMessageWriter(Me.stdin)}))}else{if(W===rs.pipe)return(0,ns.createClientPipeTransport)(Ae).then(Me=>{let ze=nh.spawn(ge,ne,_e);return!ze||!ze.pid?T_(ze,`Launching server using runtime ${ge} failed.`):(this._serverProcess=ze,ze.stderr.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),ze.stdout.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),Me.onConnected().then(rt=>({reader:rt[0],writer:rt[1]})))});if(Jh.isSocket(W))return(0,ns.createClientSocketTransport)(W.port).then(Me=>{let ze=nh.spawn(ge,ne,_e);return!ze||!ze.pid?T_(ze,`Launching server using runtime ${ge} failed.`):(this._serverProcess=ze,ze.stderr.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),ze.stdout.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),Me.onConnected().then(rt=>({reader:rt[0],writer:rt[1]})))})}}else{let ne;return new Promise((z,_e)=>{let ge=($.args&&$.args.slice())??[];W===rs.ipc?ge.push("--node-ipc"):W===rs.stdio?ge.push("--stdio"):W===rs.pipe?(ne=(0,ns.generateRandomPipeName)(),ge.push(`--pipe=${ne}`)):Jh.isSocket(W)&&ge.push(`--socket=${W.port}`),ge.push(`--clientProcessId=${process.pid.toString()}`);let Ae=$.options??Object.create(null);if(Ae.env=n(Ae.env,!0),Ae.execArgv=Ae.execArgv||[],Ae.cwd=M,Ae.silent=!0,W===rs.ipc||W===rs.stdio){let Me=nh.fork($.module,ge||[],Ae);h(Me),this._serverProcess=Me,Me.stderr.on("data",ze=>this.outputChannel.append(Wo.string(ze)?ze:ze.toString(e))),W===rs.ipc?(Me.stdout.on("data",ze=>this.outputChannel.append(Wo.string(ze)?ze:ze.toString(e))),z({reader:new ns.IPCMessageReader(this._serverProcess),writer:new ns.IPCMessageWriter(this._serverProcess)})):z({reader:new ns.StreamMessageReader(Me.stdout),writer:new ns.StreamMessageWriter(Me.stdin)})}else W===rs.pipe?(0,ns.createClientPipeTransport)(ne).then(Me=>{let ze=nh.fork($.module,ge||[],Ae);h(ze),this._serverProcess=ze,ze.stderr.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),ze.stdout.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),Me.onConnected().then(rt=>{z({reader:rt[0],writer:rt[1]})},_e)},_e):Jh.isSocket(W)&&(0,ns.createClientSocketTransport)(W.port).then(Me=>{let ze=nh.fork($.module,ge||[],Ae);h(ze),this._serverProcess=ze,ze.stderr.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),ze.stdout.on("data",rt=>this.outputChannel.append(Wo.string(rt)?rt:rt.toString(e))),Me.onConnected().then(rt=>{z({reader:rt[0],writer:rt[1]})},_e)},_e)})}}else if(fb.is(E)&&E.command){let $=E,W=E.args!==void 0?E.args.slice(0):[],ne,z=E.transport;if(z===rs.stdio)W.push("--stdio");else if(z===rs.pipe)ne=(0,ns.generateRandomPipeName)(),W.push(`--pipe=${ne}`);else if(Jh.isSocket(z))W.push(`--socket=${z.port}`);else if(z===rs.ipc)throw new Error("Transport kind ipc is not support for command executable");let _e=Object.assign({},$.options);if(_e.cwd=_e.cwd||M,z===void 0||z===rs.stdio){let ge=nh.spawn($.command,W,_e);return!ge||!ge.pid?T_(ge,`Launching server using command ${$.command} failed.`):(ge.stderr.on("data",Ae=>this.outputChannel.append(Wo.string(Ae)?Ae:Ae.toString(e))),this._serverProcess=ge,this._isDetached=!!_e.detached,Promise.resolve({reader:new ns.StreamMessageReader(ge.stdout),writer:new ns.StreamMessageWriter(ge.stdin)}))}else{if(z===rs.pipe)return(0,ns.createClientPipeTransport)(ne).then(ge=>{let Ae=nh.spawn($.command,W,_e);return!Ae||!Ae.pid?T_(Ae,`Launching server using command ${$.command} failed.`):(this._serverProcess=Ae,this._isDetached=!!_e.detached,Ae.stderr.on("data",Me=>this.outputChannel.append(Wo.string(Me)?Me:Me.toString(e))),Ae.stdout.on("data",Me=>this.outputChannel.append(Wo.string(Me)?Me:Me.toString(e))),ge.onConnected().then(Me=>({reader:Me[0],writer:Me[1]})))});if(Jh.isSocket(z))return(0,ns.createClientSocketTransport)(z.port).then(ge=>{let Ae=nh.spawn($.command,W,_e);return!Ae||!Ae.pid?T_(Ae,`Launching server using command ${$.command} failed.`):(this._serverProcess=Ae,this._isDetached=!!_e.detached,Ae.stderr.on("data",Me=>this.outputChannel.append(Wo.string(Me)?Me:Me.toString(e))),Ae.stdout.on("data",Me=>this.outputChannel.append(Wo.string(Me)?Me:Me.toString(e))),ge.onConnected().then(Me=>({reader:Me[0],writer:Me[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(D,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(M,$)=>{M!==null&&this.error(`Server process exited with code ${M}.`,void 0,!1),$!==null&&this.error(`Server process exited with signal ${$}.`,void 0,!1)})})}_getRuntimePath(e,n){if(lb.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let s=lb.join(r,e);if(cb.existsSync(s))return s}if(n!==void 0){let s=lb.join(n,e);if(cb.existsSync(s))return s}return e}_mainGetRootPath(){let e=Qh.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{cb.lstat(n,(s,v)=>{r(!s&&v.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};ff.LanguageClient=gb;var hb=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Qh.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Qh.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,s=r?Qh.workspace.getConfiguration(n).get(r,!1):Qh.workspace.getConfiguration(n);s&&this._client.needsStart()?this._client.start().catch(v=>this._client.error("Start failed after configuration change",v,"force")):!s&&this._client.needsStop()&&this._client.stop().catch(v=>this._client.error("Stop failed after configuration change",v,"force"))}};ff.SettingMonitor=hb;function T_(t,e){return t===null?Promise.reject(e):new Promise((n,r)=>{t.on("error",s=>{r(`${e} ${s}`)}),setImmediate(()=>r(e))})}});var _b=Oe((O2,pk)=>{"use strict";pk.exports=gy()});var hk=Oe((_D,gk)=>{(function(t,e){typeof _D=="object"&&typeof gk<"u"?e(_D):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.oneDS=t.oneDS||{}))})(_D,function(t){"use strict";var e="function",n="object",r="undefined",s="prototype",v=Object,h=v[s];function D(i,u){return i||u}function E(i,u){return i[u]}var I=void 0,M=null,$="",W="function",ne="object",z="prototype",_e="__proto__",ge="undefined",Ae="constructor",Me="Symbol",ze="_polyfill",rt="length",Pt="name",on="call",we="toString",ke=D(Object),Qe=E(ke,z),dt=D(String),It=E(dt,z),yt=D(Math),Qt=D(Array),un=E(Qt,z),Nn=E(un,"slice");function tt(i,u){try{return{v:i.apply(this,u)}}catch(d){return{e:d}}}function Zr(i,u){var d=tt(i);return d.e?u:d.v}var Ze;function ut(i){return function(u){return typeof u===i}}function mn(i){var u="[object "+i+"]";return function(d){return!!(d&&Jt(d)===u)}}function Jt(i){return Qe[we].call(i)}function Ut(i,u){return typeof i===u}function et(i){return typeof i===ge||i===ge}function _r(i){return!fn(i)}function bt(i){return i===M||et(i)}function Po(i){return i===M||!fn(i)}function fn(i){return!!i||i!==I}function Yi(i){return!Ze&&(Ze=["string","number","boolean",ge,"symbol","bigint"]),i!==ne&&Ze.indexOf(i)!==-1}var nn=ut("string"),dn=ut(W);function ei(i){return!i&&bt(i)?!1:!!i&&typeof i===ne}var Xt=E(Qt,"isArray"),fi=mn("Date"),Kn=ut("number"),no=ut("boolean"),cn=mn("Error");function cr(i){return!!(i&&i.then&&dn(i.then))}function Hi(i){return!i||!Fr(i)}function Fr(i){return!(!i||Zr(function(){return!(i&&0+i)},!i))}var Bn=E(ke,"getOwnPropertyDescriptor");function pr(i,u){return!!i&&Qe.hasOwnProperty[on](i,u)}var Si=D(E(ke,"hasOwn"),Kr);function Kr(i,u){return pr(i,u)||!!Bn(i,u)}function tr(i,u,d){if(i&&ei(i)){for(var _ in i)if(Si(i,_)&&u[on](d||i,_,i[_])===-1)break}}var gn={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function En(i){var u={};if(u[gn.c]=!0,u[gn.e]=!0,i.l){u.get=function(){return i.l.v};var d=Bn(i.l,"v");d&&d.set&&(u.set=function(_){i.l.v=_})}return tr(i,function(_,T){u[gn[_]]=_r(T)?u[gn[_]]:T}),u}var gr=E(ke,"defineProperty");function mo(i,u,d,_,T,N){var A={e:N,c:T};return d&&(A.g=d),_&&(A.s=_),gr(i,u,En(A))}function Q(i,u,d){return gr(i,u,En(d))}function Fe(i,u,d,_,T){var N={};return tr(i,function(A,k){lt(N,A,u?k:A,T),lt(N,k,d?k:A,T)}),_?_(N):N}function lt(i,u,d,_){gr(i,u,{value:d,enumerable:!0,writable:!!_})}var it=D(dt),Xn="[object Error]";function Nt(i,u){var d=$,_=Qe[we][on](i);_===Xn&&(i={stack:it(i.stack),message:it(i.message),name:it(i.name)});try{d=JSON.stringify(i,M,u?typeof u=="number"?u:4:I),d=(d?d.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):M)||it(i)}catch(T){d=" - "+Nt(T,u)}return _+": "+d}function Un(i){throw new Error(i)}function nr(i){throw new TypeError(i)}var yn=E(ke,"freeze");function or(i){return i}function hr(i){return i[_e]||M}var Lr=E(ke,"assign"),Ur=E(ke,"keys");function di(i){return yn&&tr(i,function(u,d){(Xt(d)||ei(d))&&di(d)}),ro(i)}var ro=D(yn,or),Es=D(E(ke,"seal"),or),L=D(E(ke,"getPrototypeOf"),hr);function Ce(i){return Fe(i,1,0,ro)}function kt(i){return Fe(i,0,0,ro)}var lr=kt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),fe="__tsUtils$gblCfg",F;function te(){var i;return typeof globalThis!==ge&&(i=globalThis),!i&&typeof self!==ge&&(i=self),!i&&typeof window!==ge&&(i=window),!i&&typeof global!==ge&&(i=global),i}function ie(){if(!F){var i=tt(te).v||{};F=i[fe]=i[fe]||{}}return F}var K=O;function O(i,u,d){var _=u?u[i]:M;return function(T){var N=(T?T[i]:M)||_;if(N||d){var A=arguments;return(N||d).apply(T,N?Nn[on](A,1):A)}nr('"'+it(i)+'" not defined for '+Nt(T))}}function me(i){return function(u){return u[i]}}var Ue=E(yt,"max"),bn=K("slice",It),_n=K("substring",It),rr=O("substr",It,vi);function vi(i,u,d){return bt(i)&&nr("Invalid "+Nt(i)),d<0?$:(u=u||0,u<0&&(u=Ue(u+i[rt],0)),et(d)?bn(i,u):bn(i,u,u+d))}function Dr(i,u){return _n(i,0,u)}var Ii="_urid",xn;function oi(){if(!xn){var i=ie();xn=i.gblSym=i.gblSym||{k:{},s:{}}}return xn}var C;function oe(i){var u={description:it(i),toString:function(){return Me+"("+i+")"}};return u[ze]=!0,u}function qe(i){var u=oi();if(!Si(u.k,i)){var d=oe(i),_=Ur(u.s).length;d[Ii]=function(){return _+"_"+d[we]()},u.k[i]=d,u.s[d[Ii]()]=it(i)}return u.k[i]}function Rt(i){!C&&(C={});var u,d=lr[i];return d&&(u=C[d]=C[d]||oe(Me+"."+d)),u}var rn;function yr(){rn=ie()}function Rr(i){var u={};return!rn&&yr(),u.b=rn.lzy,gr(u,"v",{configurable:!0,get:function(){var d=i();return rn.lzy||gr(u,"v",{value:d}),u.b=rn.lzy,d}}),u}function Gr(i){return gr({toJSON:function(){return i}},"v",{value:i})}var fr="window",da;function bs(i,u){var d;return function(){return!rn&&yr(),(!d||rn.lzy)&&(d=Gr(tt(i,u).v)),d.v}}function Pc(i){return!rn&&yr(),(!da||i===!1||rn.lzy)&&(da=Gr(tt(te).v||M)),da.v}function Hr(i,u){var d;if(!da||u===!1?d=Pc(u):d=da.v,d&&d[i])return d[i];if(i===fr)try{return window}catch{}return M}function Ic(){return!!io()}var io=bs(Hr,["document"]);function wv(){return!!is()}var is=bs(Hr,[fr]);function Tp(){return!!os()}var os=bs(Hr,["navigator"]);function df(){return!!Ws()}var Ws=bs(Hr,["history"]),Rd=bs(function(){return!!tt(function(){return process&&(process.versions||{}).node}).v}),ir,Aa;function Pd(){return ir=Gr(tt(Hr,[Me]).v),ir}function Ko(i){var u=(rn.lzy?0:ir)||Pd();return u.v?u.v[i]:I}function gl(){return!!vn()}function vn(){return!rn&&yr(),((rn.lzy?0:ir)||Pd()).v}function ss(i,u){var d=lr[i];!rn&&yr();var _=(rn.lzy?0:ir)||Pd();return _.v?_.v[d||i]:u?I:Rt(i)}function Nc(i,u){!rn&&yr();var d=(rn.lzy?0:ir)||Pd();return d.v?d.v(i):u?M:oe(i)}function vf(i){return!rn&&yr(),Aa=(rn.lzy?0:Aa)||Gr(tt(Ko,["for"]).v),(Aa.v||qe)(i)}function mg(i){return!!i&&dn(i.next)}function ws(i){return!Po(i)&&dn(i[ss(3)])}var pf;function Rv(i,u,d){if(i&&(mg(i)||(!pf&&(pf=Gr(ss(3))),i=i[pf.v]?i[pf.v]():M),mg(i))){var _=I,T=I;try{for(var N=0;!(T=i.next()).done&&u[on](d||i,T.value,N,i)!==-1;)N++}catch(A){_={e:A},i.throw&&(T=M,i.throw(_))}finally{try{T&&!T.done&&i.return&&i.return(T)}finally{if(_)throw _.e}}}}function Bu(i,u,d){return i.apply(u,d)}function Rs(i,u){return!et(u)&&i&&(Xt(u)?Bu(i.push,i,u):mg(u)||ws(u)?Rv(u,function(d){i.push(d)}):i.push(u)),i}function Ht(i,u,d){if(i)for(var _=i[rt]>>>0,T=0;T<_&&!(T in i&&u[on](d||i,i[T],T,i)===-1);T++);}var oo=K("indexOf",un),Vu=K("map",un);function vu(i,u,d){return((i?i.slice:M)||Nn).apply(i,Nn[on](arguments,1))}function Pv(i,u,d){return oo(i,u,d)!==-1}var Iv=O("includes",un,Pv),Wi=K("reduce",un),as=D(E(ke,"create"),Nv);function Nv(i){if(!i)return{};var u=typeof i;u!==ne&&u!==W&&nr("Prototype must be an Object or function: "+Nt(i));function d(){}return d[z]=i,new d}var Ps;function zo(i,u){var d=ke.setPrototypeOf||function(_,T){var N;!Ps&&(Ps=Gr((N={},N[_e]=[],N instanceof Array))),Ps.v?_[_e]=T:tr(T,function(A,k){return _[A]=k})};return d(i,u)}function uh(i,u,d){tt(Q,[u,Pt,{v:i,c:!0,e:!1}]),u=zo(u,d);function _(){this[Ae]=u,tt(Q,[this,Pt,{v:i,c:!0,e:!1}])}return u[z]=d===M?as(d):(_[z]=d[z],new _),u}function _g(i,u){u&&(i[Pt]=u)}function Ep(i,u,d){var _=d||Error,T=_[z][Pt],N=Error.captureStackTrace;return uh(i,function(){var A=this,k=arguments;try{tt(_g,[_,i]);var U=Bu(_,A,Nn[on](k))||A;if(U!==A){var Y=L(A);Y!==L(U)&&zo(U,Y)}return N&&N(U,A[Ae]),u&&u(U,k),U}finally{tt(_g,[_,T])}},_)}function Xu(){return(Date.now||bp)()}function bp(){return new Date().getTime()}function tm(i){return function(d){return bt(d)&&nr("strTrim called ["+Nt(d)+"]"),d&&d.replace&&(d=d.replace(i,$)),d}}var Ov=tm(/^\s+|(?=\s)\s+$/g),Io=O("trim",It,Ov),gf,hf,Ks;function us(i){if(!i||typeof i!==ne)return!1;Ks||(Ks=wv()?is():!0);var u=!1;if(i!==Ks){hf||(gf=Function[z][we],hf=gf[on](ke));try{var d=L(i);u=!d,u||(pr(d,Ae)&&(d=d[Ae]),u=!!(d&&typeof d===W&&gf[on](d)===hf))}catch{}}return u}function Ju(i){return i.value&&Pp(i),!0}var wp=[Id,Pp,Rp,xv];function Is(i,u,d,_){var T;return Ht(i,function(N){if(N.k===u)return T=N,-1}),T||(T={k:u,v:u},i.push(T),_(T)),T.v}function kv(i,u,d,_){var T=d.handler,N=d.path?_?d.path.concat(_):d.path:[],A={handler:d.handler,src:d.src,path:N},k=typeof u,U=!1,Y=u===M;Y||(u&&k===ne?U=us(u):Y=Yi(k));var J={type:k,isPrim:Y,isPlain:U,value:u,result:u,path:N,origin:d.src,copy:function(ee,se){return kv(i,ee,se?A:d,se)},copyTo:function(ee,se){return Oc(i,ee,se,A)}};return J.isPrim?T&&T[on](d,J)?J.result:u:Is(i,u,N,function(ee){Q(J,"result",{g:function(){return ee.v},s:function(ce){ee.v=ce}});for(var se=0,de=T;!(de||(se<wp.length?wp[se++]:Ju))[on](d,J);)de=M})}function Oc(i,u,d,_){if(!bt(d))for(var T in d)u[T]=kv(i,d[T],_,T);return u}function hl(i,u,d){var _={handler:d,src:u,path:[]};return Oc([],i,u,_)}function mf(i,u){var d={handler:u,src:i};return kv([],i,d)}function Id(i){var u=i.value;if(Xt(u)){var d=i.result=[];return d.length=u.length,i.copyTo(d,u),!0}return!1}function xv(i){var u=i.value;return fi(u)?(i.result=new Date(u.getTime()),!0):!1}function Rp(i){return i.type===W}function Pp(i){var u=i.value;if(u&&i.isPlain){var d=i.result={};return i.copyTo(d,u),!0}return!1}function Qu(i,u){return Ht(u,function(d){hl(i,d)}),i}function Fv(i,u,d,_,T,N,A){return Qu(mf(i)||{},Nn[on](arguments))}var pu=me(rt),kc;function Ns(){return!rn&&yr(),(!kc||rn.lzy)&&(kc=Gr(tt(Hr,["performance"]).v)),kc.v}function _f(){var i=Ns();return i&&i.now?i.now():Xu()}var Nd=O("endsWith",It,ml);function ml(i,u,d){nn(i)||nr("'"+Nt(i)+"' is not a string");var _=nn(u)?u:it(u),T=!et(d)&&d<i[rt]?d:i[rt];return _n(i,T-_[rt],T)===_}var zs=K("indexOf",It),yg=O("startsWith",It,Ma);function Ma(i,u,d){nn(i)||nr("'"+Nt(i)+"' is not a string");var _=nn(u)?u:it(u),T=d>0?d:0;return _n(i,T,T+_[rt])===_}var va="ref",Gs="unref",Zu="hasRef",Od="enabled";function _l(i,u,d){var _=!0,T=i?u(M):M,N;function A(){return _=!1,T&&T[Gs]&&T[Gs](),N}function k(){T&&d(T),T=M}function U(){return T=u(T),_||A(),N}function Y(J){!J&&T&&k(),J&&!T&&U()}return N={cancel:k,refresh:U},N[Zu]=function(){return T&&T[Zu]?T[Zu]():_},N[va]=function(){return _=!0,T&&T[va]&&T[va](),N},N[Gs]=A,N=gr(N,Od,{get:function(){return!!T},set:Y}),{h:N,dn:function(){T=M}}}function yl(i,u,d){var _=Xt(u),T=_?u.length:0,N=(T>0?u[0]:_?I:u)||setTimeout,A=(T>1?u[1]:I)||clearTimeout,k=d[0];d[0]=function(){U.dn(),Bu(k,I,Nn[on](arguments))};var U=_l(i,function(Y){if(Y){if(Y.refresh)return Y.refresh(),Y;Bu(A,I,[Y])}return Bu(N,I,d)},function(Y){Bu(A,I,[Y])});return U.h}function xc(i,u){return yl(!0,I,Nn[on](arguments))}function kd(i,u){return yl(!1,I,Nn[on](arguments))}(Pc()||{}).Symbol,(Pc()||{}).Reflect;var yf="hasOwnProperty",xd=function(i,u){return xd=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var T in _)_[yf](T)&&(d[T]=_[T])},xd(i,u)};function Fc(i,u){typeof u!==e&&u!==null&&nr("Class extends value "+String(u)+" is not a constructor or null"),xd(i,u);function d(){this.constructor=i}i[s]=u===null?as(u):(d[s]=u[s],new d)}function Bs(i,u){for(var d=0,_=u.length,T=i.length;d<_;d++,T++)i[T]=u[d];return i}var Sl,pa="constructor",cs="prototype",qa="function",$r="_dynInstFuncs",gu="_isDynProxy",Vs="_dynClass",Dl="_dynCls$",Cl="_dynInstChk",Ua=Cl,Sf="_dfOpts",Ha="_unknown_",ec="__proto__",Go="_dyn"+ec,Lv="__dynProto$Gbl",Lc="_dynInstProto",No="useBaseInst",Fd="setInstFuncs",Av=Object,Df=Av.getPrototypeOf,Cf=Av.getOwnPropertyNames,Mv=Pc(),Sg=Mv[Lv]||(Mv[Lv]={o:(Sl={},Sl[Fd]=!0,Sl[No]=!0,Sl),n:1e3});function Ac(i){return i&&(i===Av[cs]||i===Array[cs])}function ga(i){return Ac(i)||i===Function[cs]}function Xs(i){var u;if(i){if(Df)return Df(i);var d=i[ec]||i[cs]||(i[pa]?i[pa][cs]:null);u=i[Go]||d,pr(i,Go)||(delete i[Lc],u=i[Go]=i[Lc]||i[Go],i[Lc]=d)}return u}function pi(i,u){var d=[];if(Cf)d=Cf(i);else for(var _ in i)typeof _=="string"&&pr(i,_)&&d.push(_);if(d&&d.length>0)for(var T=0;T<d.length;T++)u(d[T])}function Tf(i,u,d){return u!==pa&&typeof i[u]===qa&&(d||pr(i,u))&&u!==ec&&u!==cs}function Mc(i){nr("DynamicProto: "+i)}function qc(i){var u=as(null);return pi(i,function(d){!u[d]&&Tf(i,d,!1)&&(u[d]=i[d])}),u}function qv(i,u){for(var d=i.length-1;d>=0;d--)if(i[d]===u)return!0;return!1}function Os(i,u,d,_){function T(U,Y,J){var ee=Y[J];if(ee[gu]&&_){var se=U[$r]||{};se[Ua]!==!1&&(ee=(se[Y[Vs]]||{})[J]||ee)}return function(){return ee.apply(U,arguments)}}var N=as(null);pi(d,function(U){N[U]=T(u,d,U)});for(var A=Xs(i),k=[];A&&!ga(A)&&!qv(k,A);)pi(A,function(U){!N[U]&&Tf(A,U,!Df)&&(N[U]=T(u,A,U))}),k.push(A),A=Xs(A);return N}function tc(i,u,d,_){var T=null;if(i&&pr(d,Vs)){var N=i[$r]||as(null);if(T=(N[d[Vs]]||as(null))[u],T||Mc("Missing ["+u+"] "+qa),!T[Cl]&&N[Ua]!==!1){for(var A=!pr(i,u),k=Xs(i),U=[];A&&k&&!ga(k)&&!qv(U,k);){var Y=k[u];if(Y){A=Y===_;break}U.push(k),k=Xs(k)}try{A&&(i[u]=T),T[Cl]=1}catch{N[Ua]=!1}}}return T}function hu(i,u,d){var _=u[i];return _===d&&(_=Xs(u)[i]),typeof _!==qa&&Mc("["+i+"] is not a "+qa),_}function zn(i,u,d,_,T){function N(U,Y){var J=function(){var ee=tc(this,Y,U,J)||hu(Y,U,J);return ee.apply(this,arguments)};return J[gu]=1,J}if(!Ac(i)){var A=d[$r]=d[$r]||as(null);if(!Ac(A)){var k=A[u]=A[u]||as(null);A[Ua]!==!1&&(A[Ua]=!!T),Ac(k)||pi(d,function(U){Tf(d,U,!1)&&d[U]!==_[U]&&(k[U]=d[U],delete d[U],(!pr(i,U)||i[U]&&!i[U][gu])&&(i[U]=N(i,U)))})}}}function ha(i,u){if(Df){for(var d=[],_=Xs(u);_&&!ga(_)&&!qv(d,_);){if(_===i)return!0;d.push(_),_=Xs(_)}return!1}return!0}function ja(i,u){return pr(i,cs)?i.name||u||Ha:((i||{})[pa]||{}).name||u||Ha}function ks(i,u,d,_){pr(i,cs)||Mc("theClass is an invalid class definition.");var T=i[cs];ha(T,u)||Mc("["+ja(i)+"] not in hierarchy of ["+ja(u)+"]");var N=null;pr(T,Vs)?N=T[Vs]:(N=Dl+ja(i,"_")+"$"+Sg.n,Sg.n++,T[Vs]=N);var A=ks[Sf],k=!!A[No];k&&_&&_[No]!==void 0&&(k=!!_[No]);var U=qc(u),Y=Os(T,u,U,k);d(u,Y);var J=!!Df&&!!A[Fd];J&&_&&(J=!!_[Fd]),zn(T,N,u,U,J!==!1)}ks[Sf]=Sg.o;var Ld=100,xs=Ce,nc=xs({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),si=xs({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),Bo="toLowerCase",Nr="blkVal",jt="length",Uc="rdOnly",ma="notify",mu="warnToConsole",Js="throwInternal",rc="setDf",Fs="watch",Ar="logger",_a="apply",Or="push",ya="splice",Ad="hdlr",Sa="cancel",Ni="initialize",Qs="identifier",$a="removeNotificationListener",_o="addNotificationListener",Oo="isInitialized",Tl="instrumentationKey",Hc="INACTIVE",Md="value",_u="getNotifyMgr",Da="getPlugin",Ca="name",jc="iKey",Ta="time",xi="processNext",qd="getProcessTelContext",$c="pollInternalLogs",yu="enabled",ls="stopPollingInternalLogs",Ya="unload",Su="onComplete",Ls="version",El="loggingLevelConsole",ic="createNew",so="teardown",oc="messageId",Du="message",As="isAsync",Yc="diagLog",ai="_doTeardown",Ki="update",Ms="getNext",Wc="setNextPlugin",Wa="protocol",Uv="userAgent",fs="split",bl="nodeType",yo="replace",Ud="logInternalMessage",Vo="type",Ka="handler",za="status",Hv="getResponseHeader",Ef="getAllResponseHeaders",Hd="isChildEvt",bf="data",Ea="getCtx",Xo="setCtx",wl="complete",Dg="itemsReceived",Kc="urlString",zc="sendPOST",Ga="headers",wf="timeout",ch="setRequestHeader",jv="traceId",Rf="spanId",Gc="traceFlags",Ip;function Cg(i,u){Ip||(Ip=Ep("AggregationError",function(_,T){T[jt]>1&&(_.errors=T[1])}));var d=i||"One or more errors occurred.";throw Ht(u,function(_,T){d+=`
`.concat(T," > ").concat(Nt(_))}),new Ip(d,u||[])}var Bc="Promise",Tg="rejected";function Pf(i,u){return $v(i,function(d){return u?u({status:"fulfilled",rejected:!1,value:d}):d},function(d){return u?u({status:Tg,rejected:!0,reason:d}):d})}function $v(i,u,d,_){var T=i;try{if(cr(i))(u||d)&&(T=i.then(u,d));else try{u&&(T=u(i))}catch(N){if(d)T=d(N);else throw N}}finally{_&&Zs(T,_)}return T}function Zs(i,u){var d=i;return u&&(cr(i)?i.finally?d=i.finally(u):d=i.then(function(_){return u(),_},function(_){throw u(),_}):u()),d}var Np=["pending","resolving","resolved",Tg],lh="dispatchEvent",jd;function Op(i){var u;return i&&i.createEvent&&(u=i.createEvent("Event")),!!u&&u.initEvent}function Yv(i,u,d,_){var T=io();!jd&&(jd=Gr(!!tt(Op,[T]).v));var N=jd.v?T.createEvent("Event"):_?new Event(u):{};if(d&&d(N),jd.v&&N.initEvent(u,!1,!0),N&&i[lh])i[lh](N);else{var A=i["on"+u];if(A)A(N);else{var k=Hr("console");k&&(k.error||k.log)(u,Nt(N))}}}var Rl="unhandledRejection",$d=Rl.toLowerCase(),Vc=10,Cu;function Pl(i){return dn(i)?i.toString():Nt(i)}function Eg(i,u,d){var _=vu(arguments,3),T=0,N=!1,A,k=[],U=!1,Y=null,J;function ee(wt,Hn){try{U=!0,Y&&Y.cancel(),Y=null;var Wn=i(function(Li,ci){k.push(function(){try{var Ai=T===2?wt:Hn,Ys=et(Ai)?A:dn(Ai)?Ai(A):Ai;cr(Ys)?Ys.then(Li,ci):Ai?Li(Ys):T===3?ci(Ys):Li(Ys)}catch(ys){ci(ys)}}),N&&Ie()},_);return Wn}finally{}}function se(wt){return ee(void 0,wt)}function de(wt){var Hn=wt,Wn=wt;return dn(wt)&&(Hn=function(Li){return wt&&wt(),Li},Wn=function(Li){throw wt&&wt(),Li}),ee(Hn,Wn)}function ce(){return Np[T]}function Ie(){if(k.length>0){var wt=k.slice();k=[],U=!0,Y&&Y.cancel(),Y=null,u(wt)}}function xe(wt,Hn){return function(Wn){if(T===Hn){if(wt===2&&cr(Wn)){T=1,Wn.then(xe(2,1),xe(3,1));return}T=wt,N=!0,A=Wn,Ie(),!U&&wt===3&&!Y&&(Y=xc(ct,Vc))}}}function ct(){if(!U)if(U=!0,Rd())process.emit(Rl,A,J);else{var wt=is()||Pc();!Cu&&(Cu=Gr(tt(Hr,[Bc+"RejectionEvent"]).v)),Yv(wt,$d,function(Hn){return Q(Hn,"promise",{g:function(){return J}}),Hn.reason=A,Hn},!!Cu.v)}}J={then:ee,catch:se,finally:de},gr(J,"state",{get:ce}),gl()&&(J[ss(11)]="IPromise");function ht(){return"IPromise "+ce()+(N?" - "+Pl(A):"")}return J.toString=ht,function(){dn(d)||nr(Bc+": executor is not a function - "+Pl(d));var Hn=xe(3,0);try{d.call(J,xe(2,0),Hn)}catch(Wn){Hn(Wn)}}(),J}function Wv(i){return function(u){var d=vu(arguments,1);return i(function(_,T){try{var N=[],A=1;Rv(u,function(k,U){k&&(A++,$v(k,function(Y){N[U]=Y,--A===0&&_(N)},T))}),A--,A===0&&_(N)}catch(k){T(k)}},d)}}function Il(i){return Gr(function(u){var d=vu(arguments,1);return i(function(_,T){var N=[],A=1;function k(U,Y){A++,Pf(U,function(J){J.rejected?N[Y]={status:Tg,reason:J.reason}:N[Y]={status:"fulfilled",value:J.value},--A===0&&_(N)})}try{Xt(u)?Ht(u,k):ws(u)?Rv(u,k):nr("Input is not an iterable"),A--,A===0&&_(N)}catch(U){T(U)}},d)})}function Kv(i){Ht(i,function(u){try{u()}catch{}})}function Tu(i){var u=Kn(i)?i:0;return function(d){xc(function(){Kv(d)},u)}}function Mr(i,u){return Eg(Mr,Tu(u),i,u)}var Xc;function ao(i,u){!Xc&&(Xc=Gr(tt(Hr,[Bc]).v||null));var d=Xc.v;if(!d)return Mr(i);dn(i)||nr(Bc+": executor is not a function - "+Nt(i));var _=0;function T(){return Np[_]}var N=new d(function(A,k){function U(J){_=2,A(J)}function Y(J){_=3,k(J)}i(U,Y)});return gr(N,"state",{get:T}),N}var zv;function Yd(i){return Eg(Yd,Kv,i)}function Nl(i,u){return!zv&&(zv=Il(Yd)),zv.v(i,u)}var Jc;function Jo(i,u){return!Jc&&(Jc=Gr(ao)),Jc.v.call(this,i,u)}var Wd=Wv(Jo),zi=void 0,Jn="",Eu="channels",mi="core",Ba="createPerfMgr",Qc="disabled",Zc="extensionConfig",bu="extensions",ea="processTelemetry",If="priority",kp="eventsSent",Nf="eventsDiscarded",xp="eventsSendRequest",Of="perfEvent",Ol="offlineEventsStored",Gv="offlineBatchSent",ji="offlineBatchDrop",kl="getPerfMgr",uo="domain",sc="path",Bv="Not dynamic - ",Kd=/-([a-z])/g,co=/([^\w\d_$])/g,zd=/^(\d+[\w\d_$])/;function Vv(i){return!bt(i)}function wu(i){var u=i;return u&&nn(u)&&(u=u[yo](Kd,function(d,_){return _.toUpperCase()}),u=u[yo](co,"_"),u=u[yo](zd,function(d,_){return"_"+_})),u}function Zt(i,u){return i&&u?zs(i,u)!==-1:!1}function Va(i){return i&&i.toISOString()||""}function Xa(i){return cn(i)?i[Ca]:Jn}function ds(i,u,d,_,T){var N=d;return i&&(N=i[u],N!==d&&(!T||T(N))&&(!_||_(d))&&(N=d,i[u]=N)),N}function kf(i,u,d){var _;return i?(_=i[u],!_&&bt(_)&&(_=et(d)?{}:d,i[u]=_)):_=et(d)?{}:d,_}function xl(i,u){var d=null,_=null;return dn(i)?d=i:_=i,function(){var T=arguments;if(d&&(_=d()),_)return _[u][_a](_,T)}}function Ja(i,u,d){if(i&&u&&ei(i)&&ei(u)){var _=function(N){if(nn(N)){var A=u[N];dn(A)?(!d||d(N,!0,u,i))&&(i[N]=xl(u,N)):(!d||d(N,!1,u,i))&&(Si(i,N)&&delete i[N],Q(i,N,{g:function(){return u[N]},s:function(k){u[N]=k}}))}};for(var T in u)_(T)}return i}function qs(i,u,d,_,T){i&&u&&d&&(T!==!1||et(i[u]))&&(i[u]=xl(d,_))}function Fl(i,u,d,_){return i&&u&&ei(i)&&Xt(d)&&Ht(d,function(T){nn(T)&&qs(i,T,u,T,_)}),i}function Gd(i){return i&&Lr&&(i=v(Lr({},i))),i}function Ru(i){try{return i.responseText}catch{}return null}function xf(i,u){return i?"XDomainRequest,Response:"+Ru(i)||"":u}function Ll(i,u){return i?"XMLHttpRequest,Status:"+i[za]+",Response:"+Ru(i)||i.response||"":u}function Ff(i,u){return u&&(Kn(u)?i=[u].concat(i):Xt(u)&&(i=u.concat(i))),i}var Xv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Jv="withCredentials",Fp="timeout";function fh(i,u,d,_,T,N){_===void 0&&(_=!1),T===void 0&&(T=!1);function A(U,Y,J){try{U[Y]=J}catch{}}var k=new XMLHttpRequest;return _&&A(k,Xv,_),d&&A(k,Jv,d),k.open(i,u,!T),d&&A(k,Jv,d),!T&&N&&A(k,Fp,N),k}function Qa(i){var u={};if(nn(i)){var d=Io(i)[fs](/[\r\n]+/);Ht(d,function(_){if(_){var T=_.indexOf(": ");if(T!==-1){var N=Io(_.substring(0,T))[Bo](),A=Io(_.substring(T+1));u[N]=A}else u[Io(_)]=1}})}return u}function Pu(i,u,d){if(!i[d]&&u&&u[Hv]){var _=u[Hv](d);_&&(i[d]=Io(_))}return i}var Za="kill-duration",Us="kill-duration-seconds",Iu="time-delta-millis";function ac(i,u){var d={};return i[Ef]?d=Qa(i[Ef]()):u&&(d=Pu(d,i,Iu),d=Pu(d,i,Za),d=Pu(d,i,Us)),d}var vs="documentMode",Al="location",bg="console",el="JSON",Lp="crypto",Lf="msCrypto",Ml="ReactNative",Af="msie",Nu="trident/",Hs="XMLHttpRequest",ql=null,Mf=null,Bd=!1,lo=null,Ou=null;function fo(i,u){var d=!1;if(i){try{if(d=u in i,!d){var _=i[s];_&&(d=u in _)}}catch{}if(!d)try{var T=new i;d=!et(T[u])}catch{}}return d}function Vd(i){Bd=i}function uc(i){if(i&&Bd){var u=Hr("__mockLocation");if(u)return u}return typeof location===n&&location?location:Hr(Al)}function Xd(){return typeof console!==r?console:Hr(bg)}function ko(){return!!(typeof JSON===n&&JSON||Hr(el)!==null)}function vo(){return ko()?JSON||Hr(el):null}function Ap(){return Hr(Lp)}function qf(){return Hr(Lf)}function Uf(){var i=os();return i&&i.product?i.product===Ml:!1}function cc(){var i=os();if(i&&(i[Uv]!==Mf||ql===null)){Mf=i[Uv];var u=(Mf||Jn)[Bo]();ql=Zt(u,Af)||Zt(u,Nu)}return ql}function wg(i){if(i===void 0&&(i=null),!i){var u=os()||{};i=u?(u.userAgent||Jn)[Bo]():Jn}var d=(i||Jn)[Bo]();if(Zt(d,Af)){var _=io()||{};return Math.max(parseInt(d[fs](Af)[1]),_[vs]||0)}else if(Zt(d,Nu)){var T=parseInt(d[fs](Nu)[1]);if(T)return T+4}return null}function Rg(i){return(Ou===null||i===!1)&&(Ou=Tp()&&!!os().sendBeacon),Ou}function Hf(i){var u=!1;try{u=!!Hr("fetch");var d=Hr("Request");u&&i&&d&&(u=fo(d,"keepalive"))}catch{}return u}function Mp(){return lo===null&&(lo=typeof XDomainRequest!==r,lo&&jf()&&(lo=lo&&!fo(Hr(Hs),"withCredentials"))),lo}function jf(){var i=!1;try{var u=Hr(Hs);i=!!u}catch{}return i}function qp(i,u){if(i)for(var d=0;d<i[jt];d++){var _=i[d];if(_[Ca]&&_[Ca]===u)return _}return{}}function Pg(i){var u=io();return u&&i?qp(u.querySelectorAll("meta"),i).content:null}function $f(i){var u,d=Ns();if(d){var _=d.getEntriesByType("navigation")||[];u=qp((_[jt]>0?_[0]:{}).serverTiming,i).description}return u}var Ig=4294967296,lc=4294967295,Ul=123456789,Qv=987654321,eu=!1,Jd=Ul,Yf=Qv;function ba(i){i<0&&(i>>>=0),Jd=Ul+i&lc,Yf=Qv-i&lc,eu=!0}function Hl(){try{var i=Xu()&2147483647;ba((Math.random()*Ig^i)+i)}catch{}}function Ng(i){return i>0?Math.floor(jl()/lc*(i+1))>>>0:0}function jl(i){var u=0,d=Ap()||qf();return d&&d.getRandomValues&&(u=d.getRandomValues(new Uint32Array(1))[0]&lc),u===0&&cc()&&(eu||Hl(),u=dh()&lc),u===0&&(u=Math.floor(Ig*Math.random()|0)),i||(u>>>=0),u}function dh(i){Yf=36969*(Yf&65535)+(Yf>>16)&lc,Jd=18e3*(Jd&65535)+(Jd>>16)&lc;var u=(Yf<<16)+(Jd&65535)>>>0&lc|0;return i||(u>>>=0),u}function Wf(i){i===void 0&&(i=22);for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=jl()>>>0,_=0,T=Jn;T[jt]<i;)_++,T+=u.charAt(d&63),d>>>=6,_===5&&(d=(jl()<<2&4294967295|d&3)>>>0,_=0);return T}var Og="3.3.4",Up="."+Wf(6),fc=0;function dc(i){return i[bl]===1||i[bl]===9||!+i[bl]}function $l(i,u){var d=u[i.id];if(!d){d={};try{dc(u)&&Q(u,i.id,{e:!1,v:d})}catch{}}return d}function tu(i,u){return u===void 0&&(u=!1),wu(i+fc+++(u?"."+Og:Jn)+Up)}function ku(i){var u={id:tu("_aiData-"+(i||Jn)+"."+Og),accept:function(d){return dc(d)},get:function(d,_,T,N){var A=d[u.id];return A?A[wu(_)]:(N&&(A=$l(u,d),A[wu(_)]=T),T)},kill:function(d,_){if(d&&d[_])try{delete d[_]}catch{}}};return u}function Kf(i){return i&&ei(i)&&(i.isVal||i.fb||Si(i,"v")||Si(i,"mrg")||Si(i,"ref")||i.set)}function Qd(i,u,d){var _,T=d.dfVal||fn;if(u&&d.fb){var N=d.fb;Xt(N)||(N=[N]);for(var A=0;A<N[jt];A++){var k=N[A],U=u[k];if(T(U)?_=U:i&&(U=i.cfg[k],T(U)&&(_=U),i.set(i.cfg,it(k),U)),T(_))break}}return!T(_)&&T(d.v)&&(_=d.v),_}function Zd(i,u,d){var _=d;if(d&&Kf(d)&&(_=Qd(i,u,d)),_){Kf(_)&&(_=Zd(i,u,_));var T;Xt(_)?(T=[],T[jt]=_[jt]):us(_)&&(T={}),T&&(tr(_,function(N,A){A&&Kf(A)&&(A=Zd(i,u,A)),T[N]=A}),_=T)}return _}function zf(i,u,d,_){var T,N,A,k=_,U,Y,J,ee;Kf(k)?(T=k.isVal,N=k.set,J=k[Uc],ee=k[Nr],U=k.mrg,Y=k.ref,!Y&&et(Y)&&(Y=!!U),A=Qd(i,u,k)):A=_,ee&&i[Nr](u,d);var se,de=!0,ce=u[d];(ce||!bt(ce))&&(se=ce,de=!1,T&&se!==A&&!T(se)&&(se=A,de=!0),N&&(se=N(se,A,u),de=se===A)),de?A?se=Zd(i,u,A):se=A:(us(se)||Xt(A))&&U&&A&&(us(A)||Xt(A))&&tr(A,function(Ie,xe){zf(i,se,Ie,xe)}),i.set(u,d,se),Y&&i.ref(u,d),J&&i[Uc](u,d)}var ps=vf("[[ai_dynCfg_1]]"),Gf=vf("[[ai_blkDynCfg_1]]"),kg=vf("[[ai_frcDynCfg_1]]");function vh(i){if(i){var u;if(Xt(i)?(u=[],u[jt]=i[jt]):us(i)&&(u={}),u)return tr(i,function(d,_){u[d]=vh(_)}),u}return i}function Yl(i){if(i){var u=i[ps]||i;if(u.cfg&&(u.cfg===i||u.cfg[ps]===u))return u}return null}function ph(i){if(i&&(us(i)||Xt(i)))try{i[Gf]=!0}catch{}return i}function wa(i){if(i)try{i[kg]=!0}catch{}return i}function vc(i,u,d){var _=!1;return d&&!i[u.blkVal]&&(_=d[kg],!_&&!d[Gf]&&(_=us(d)||Xt(d))),_}function Wl(i){nr("InvalidAccess:"+i)}var xg=["push","pop","shift","unshift","splice"],Zv=function(i,u,d,_){i&&i[Js](3,108,"".concat(d," [").concat(u,"] failed - ")+Nt(_))};function Fg(i,u,d){Xt(u)&&Ht(xg,function(_){var T=u[_];u[_]=function(){for(var N=[],A=0;A<arguments.length;A++)N[A]=arguments[A];var k=T[_a](this,N);return tv(i,u,d,"Patching"),k}})}function Hp(i,u){var d=Bn(i,u);return d&&d.get}function ev(i,u,d,_){var T={n:d,h:[],trk:function(Y){Y&&Y.fn&&(oo(T.h,Y)===-1&&T.h[Or](Y),i.trk(Y,T))},clr:function(Y){var J=oo(T.h,Y);J!==-1&&T.h[ya](J,1)}},N=!0,A=!1;function k(){N&&(A=A||vc(k,i,_),_&&!_[ps]&&A&&(_=tv(i,_,d,"Converting")),N=!1);var Y=i.act;return Y&&T.trk(Y),_}k[i.prop]={chng:function(){i.add(T)}};function U(Y){if(_!==Y){k[i.ro]&&!i.upd&&Wl("["+d+"] is read-only:"+Nt(u)),N&&(A=A||vc(k,i,_),N=!1);var J=A&&k[i.rf];if(A)if(J){tr(_,function(se){_[se]=Y?Y[se]:zi});try{tr(Y,function(se,de){Kl(i,_,se,de)}),Y=_}catch(se){Zv((i.hdlr||{})[Ar],d,"Assigning",se),A=!1}}else _&&_[ps]&&tr(_,function(se){var de=Hp(_,se);if(de){var ce=de[i.prop];ce&&ce.chng()}});if(Y!==_){var ee=Y&&vc(k,i,Y);!J&&ee&&(Y=tv(i,Y,d,"Converting")),_=Y,A=ee}i.add(T)}}Q(u,T.n,{g:k,s:U})}function Kl(i,u,d,_){if(u){var T=Hp(u,d),N=T&&!!T[i.prop];N?u[d]=_:ev(i,u,d,_)}return u}function ta(i,u,d,_){if(u){var T=Hp(u,d),N=T&&!!T[i.prop],A=_&&_[0],k=_&&_[1],U=_&&_[2];if(!N){if(U)try{ph(u)}catch(Y){Zv((i.hdlr||{})[Ar],d,"Blocking",Y)}try{Kl(i,u,d,u[d]),T=Hp(u,d)}catch(Y){Zv((i.hdlr||{})[Ar],d,"State",Y)}}A&&(T[i.rf]=A),k&&(T[i.ro]=k),U&&(T[i.blkVal]=!0)}return u}function tv(i,u,d,_){try{tr(u,function(T,N){Kl(i,u,T,N)}),u[ps]||(gr(u,ps,{get:function(){return i[Ad]}}),Fg(i,u,d))}catch(T){Zv((i.hdlr||{})[Ar],d,_,T)}return u}var zl="[[ai_",xo="]]";function na(i){var u,d=Nc(zl+"get"+i.uid+xo),_=Nc(zl+"ro"+i.uid+xo),T=Nc(zl+"rf"+i.uid+xo),N=Nc(zl+"blkVal"+i.uid+xo),A=Nc(zl+"dtl"+i.uid+xo),k=null,U=null,Y;function J(ce,Ie){var xe=Y.act;try{Y.act=ce,ce&&ce[A]&&(Ht(ce[A],function(ht){ht.clr(ce)}),ce[A]=[]),Ie({cfg:i.cfg,set:i.set.bind(i),setDf:i[rc].bind(i),ref:i.ref.bind(i),rdOnly:i[Uc].bind(i)})}catch(ht){var ct=i[Ar];throw ct&&ct[Js](1,107,Nt(ht)),ht}finally{Y.act=xe||null}}function ee(){if(k){var ce=k;k=null,U&&U[Sa](),U=null;var Ie=[];if(Ht(ce,function(xe){if(xe&&(xe[A]&&(Ht(xe[A],function(ct){ct.clr(xe)}),xe[A]=null),xe.fn))try{J(xe,xe.fn)}catch(ct){Ie[Or](ct)}}),k)try{ee()}catch(xe){Ie[Or](xe)}Ie[jt]>0&&Cg("Watcher error(s): ",Ie)}}function se(ce){if(ce&&ce.h[jt]>0){k||(k=[]),U||(U=xc(function(){U=null,ee()},0));for(var Ie=0;Ie<ce.h[jt];Ie++){var xe=ce.h[Ie];xe&&oo(k,xe)===-1&&k[Or](xe)}}}function de(ce,Ie){if(ce){var xe=ce[A]=ce[A]||[];oo(xe,Ie)===-1&&xe[Or](Ie)}}return Y=(u={prop:d,ro:_,rf:T},u[Nr]=N,u[Ad]=i,u.add=se,u[ma]=ee,u.use=J,u.trk=de,u),Y}function Bf(i,u){var d={fn:u,rm:function(){d.fn=null,i=null,u=null}};return Q(d,"toJSON",{v:function(){return"WatcherHandler"+(d.fn?"":"[X]")}}),i.use(d,u),d}function Lg(i,u,d){var _,T=Yl(u);if(T)return T;var N=tu("dyncfg",!0),A=u&&d!==!1?u:vh(u),k;function U(){k[ma]()}function Y(ct,ht,wt){try{ct=Kl(k,ct,ht,wt)}catch(Hn){Zv(i,ht,"Setting value",Hn)}return ct[ht]}function J(ct){return Bf(k,ct)}function ee(ct,ht){k.use(null,function(wt){var Hn=k.upd;try{et(ht)||(k.upd=ht),ct(wt)}finally{k.upd=Hn}})}function se(ct,ht){var wt;return ta(k,ct,ht,(wt={},wt[0]=!0,wt))[ht]}function de(ct,ht){var wt;return ta(k,ct,ht,(wt={},wt[1]=!0,wt))[ht]}function ce(ct,ht){var wt;return ta(k,ct,ht,(wt={},wt[2]=!0,wt))[ht]}function Ie(ct,ht){return ht&&tr(ht,function(wt,Hn){zf(xe,ct,wt,Hn)}),ct}var xe=(_={uid:null,cfg:A},_[Ar]=i,_[ma]=U,_.set=Y,_[rc]=Ie,_[Fs]=J,_.ref=se,_[Uc]=de,_[Nr]=ce,_._block=ee,_);return Q(xe,"uid",{c:!1,e:!1,w:!1,v:N}),k=na(xe),tv(k,A,"config","Creating"),xe}function Ag(i,u){i?(i[mu](u),i[Js](2,108,u)):Wl(u)}function po(i,u,d,_){var T=Lg(d,i||{},_);return u&&T[rc](T.cfg,u),T}function Gl(i,u,d){var _=i[ps]||i;return _.cfg&&(_.cfg===i||_.cfg[ps]===_)?_[Fs](u):(Ag(d,Bv+Nt(i)),po(i,null,d)[Fs](u))}function Vf(i,u){if(i&&i[Ya])return i[Ya](u)}function gh(i,u,d){var _;return d||(_=Jo(function(T){d=T})),i&&pu(i)>0?Pf(Vf(i[0],u),function(){gh(vu(i,1),u,d)}):d(),_}var Mg=500,Xf="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Fo(i){return{mrg:!0,v:i}}var ep=[kp,Nf,xp,Of],tl=null,Bl;function xu(i,u){return function(){var d=arguments,_=tp(u);if(_){var T=_.listener;T&&T[i]&&T[i][_a](T,d)}}}function Jf(){var i=Hr("Microsoft");return i&&(tl=i.ApplicationInsights),tl}function tp(i){var u=tl;return!u&&i.disableDbgExt!==!0&&(u=tl||Jf()),u?u.ChromeDbgExt:null}function Gt(i){if(!Bl){Bl={};for(var u=0;u<ep[jt];u++)Bl[ep[u]]=xu(ep[u],i)}return Bl}var pc,Ra="warnToConsole",Qf="AI (Internal): ",hh="AI: ",Zf="AITR_",nv={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Pa=(pc={},pc[0]=null,pc[1]="errorToConsole",pc[2]=Ra,pc[3]="debugToConsole",pc);function qg(i){return i?'"'+i[yo](/\"/g,Jn)+'"':Jn}function np(i,u){var d=Xd();if(d){var _="log";d[i]&&(_=i),dn(d[_])&&d[_](u)}}var rp=function(){function i(u,d,_,T){_===void 0&&(_=!1);var N=this;N[oc]=u,N[Du]=(_?hh:Qf)+u;var A=Jn;ko()&&(A=vo().stringify(T));var k=(d?" message:"+qg(d):Jn)+(T?" props:"+qg(A):Jn);N[Du]+=k}return i.dataType="MessageData",i}();function ed(i,u){return(i||{})[Ar]||new nl(u)}var nl=function(){function i(u){this.identifier="DiagnosticLogger",this.queue=[];var d=0,_={},T,N,A,k,U;ks(i,this,function(Y){U=ee(u||{}),Y.consoleLoggingLevel=function(){return T},Y[Js]=function(ce,Ie,xe,ct,ht){ht===void 0&&(ht=!1);var wt=new rp(Ie,xe,ht,ct);if(k)throw Nt(wt);var Hn=Pa[ce]||Ra;if(et(wt[Du]))de("throw"+(ce===1?"Critical":"Warning"),wt);else{if(ht){var Wn=+wt[oc];!_[Wn]&&T>=ce&&(Y[Hn](wt[Du]),_[Wn]=!0)}else T>=ce&&Y[Hn](wt[Du]);J(ce,wt)}},Y.debugToConsole=function(ce){np("debug",ce),de("warning",ce)},Y[mu]=function(ce){np("warn",ce),de("warning",ce)},Y.errorToConsole=function(ce){np("error",ce),de("error",ce)},Y.resetInternalMessageCount=function(){d=0,_={}},Y[Ud]=J,Y[Ya]=function(ce){U&&U.rm(),U=null};function J(ce,Ie){if(!se()){var xe=!0,ct=Zf+Ie[oc];if(_[ct]?xe=!1:_[ct]=!0,xe&&(ce<=N&&(Y.queue[Or](Ie),d++,de(ce===1?"error":"warn",Ie)),d===A)){var ht="Internal events throttle limit per PageView reached for this app.",wt=new rp(23,ht,!1);Y.queue[Or](wt),ce===1?Y.errorToConsole(ht):Y[mu](ht)}}}function ee(ce){return Gl(po(ce,nv,Y).cfg,function(Ie){var xe=Ie.cfg;T=xe[El],N=xe.loggingLevelTelemetry,A=xe.maxMessageLimit,k=xe.enableDebug})}function se(){return d>=A}function de(ce,Ie){var xe=tp(u||{});xe&&xe[Yc]&&xe[Yc](ce,Ie)}})}return i.__ieDyn=1,i}();function jp(i){return i||new nl}function jr(i,u,d,_,T,N){N===void 0&&(N=!1),jp(i)[Js](u,d,_,T,N)}function Fu(i,u){jp(i)[mu](u)}function $p(i,u,d){jp(i)[Ud](u,d)}var gc,ra,Fi="toGMTString",rv="toUTCString",rl="cookie",Vl="expires",nu="isCookieUseDisabled",ia="disableCookiesUsage",Ia="_ckMgr",iv=null,ip=null,Yp=null,ru,Wp={},ov={},Kp=(gc={cookieCfg:Fo((ra={},ra[uo]={fb:"cookieDomain",dfVal:Vv},ra.path={fb:"cookiePath",dfVal:Vv},ra.enabled=zi,ra.ignoreCookies=zi,ra.blockedCookies=zi,ra)),cookieDomain:zi,cookiePath:zi},gc[ia]=zi,gc);function iu(){!ru&&(ru=Rr(function(){return io()}))}function mh(i,u){var d=R[Ia]||ov[Ia];return d||(d=R[Ia]=R(i,u),ov[Ia]=d),d}function hc(i){return i?i.isEnabled():!0}function zp(i,u){return u&&i&&Xt(i.ignoreCookies)?oo(i.ignoreCookies,u)!==-1:!1}function l(i,u){return u&&i&&Xt(i.blockedCookies)&&oo(i.blockedCookies,u)!==-1?!0:zp(i,u)}function g(i,u){var d=u[yu];if(bt(d)){var _=void 0;et(i[nu])||(_=!i[nu]),et(i[ia])||(_=!i[ia]),d=_}return d}function y(i,u){var d;if(i)d=i.getCookieMgr();else if(u){var _=u.cookieCfg;_&&_[Ia]?d=_[Ia]:d=R(u)}return d||(d=mh(u,(i||{})[Ar])),d}function R(i,u){var d,_,T,N,A,k,U,Y,J;i=po(i||ov,null,u).cfg,A=Gl(i,function(se){se[rc](se.cfg,Kp),_=se.ref(se.cfg,"cookieCfg"),T=_[sc]||"/",N=_[uo],k=g(i,_)!==!1,U=_.getCookie||ve,Y=_.setCookie||Ne,J=_.delCookie||Ne},u);var ee=(d={isEnabled:function(){var se=g(i,_)!==!1&&k&&j(u),de=ov[Ia];return se&&de&&ee!==de&&(se=hc(de)),se},setEnabled:function(se){k=se!==!1,_[yu]=se},set:function(se,de,ce,Ie,xe){var ct=!1;if(hc(ee)&&!l(_,se)){var ht={},wt=Io(de||Jn),Hn=zs(wt,";");if(Hn!==-1&&(wt=Io(Dr(de,Hn)),ht=re(_n(de,Hn+1))),ds(ht,uo,Ie||N,Fr,et),!bt(ce)){var Wn=cc();if(et(ht[Vl])){var Li=Xu(),ci=Li+ce*1e3;if(ci>0){var Ai=new Date;Ai.setTime(ci),ds(ht,Vl,ue(Ai,Wn?Fi:rv)||ue(Ai,Wn?Fi:rv)||Jn,Fr)}}Wn||ds(ht,"max-age",Jn+ce,null,et)}var Ys=uc();Ys&&Ys[Wa]==="https:"&&(ds(ht,"secure",null,null,et),ip===null&&(ip=!Ot((os()||{})[Uv])),ip&&ds(ht,"SameSite","None",null,et)),ds(ht,sc,xe||T,null,et),Y(se,pe(wt,ht)),ct=!0}return ct},get:function(se){var de=Jn;return hc(ee)&&!zp(_,se)&&(de=U(se)),de},del:function(se,de){var ce=!1;return hc(ee)&&(ce=ee.purge(se,de)),ce},purge:function(se,de){var ce,Ie=!1;if(j(u)){var xe=(ce={},ce[sc]=de||"/",ce[Vl]="Thu, 01 Jan 1970 00:00:01 GMT",ce);cc()||(xe["max-age"]="0"),J(se,pe(Jn,xe)),Ie=!0}return Ie}},d[Ya]=function(se){A&&A.rm(),A=null},d);return ee[Ia]=ee,ee}function j(i){if(iv===null){iv=!1,!ru&&iu();try{var u=ru.v||{};iv=u[rl]!==void 0}catch(d){jr(i,2,68,"Cannot access document.cookie - "+Xa(d),{exception:Nt(d)})}}return iv}function re(i){var u={};if(i&&i[jt]){var d=Io(i)[fs](";");Ht(d,function(_){if(_=Io(_||Jn),_){var T=zs(_,"=");T===-1?u[_]=null:u[Io(Dr(_,T))]=Io(_n(_,T+1))}})}return u}function ue(i,u){return dn(i[u])?i[u]():null}function pe(i,u){var d=i||Jn;return tr(u,function(_,T){d+="; "+_+(bt(T)?Jn:"="+T)}),d}function ve(i){var u=Jn;if(!ru&&iu(),ru.v){var d=ru.v[rl]||Jn;Yp!==d&&(Wp=re(d),Yp=d),u=Io(Wp[i]||Jn)}return u}function Ne(i,u){!ru&&iu(),ru.v&&(ru.v[rl]=i+"="+u)}function Ot(i){return nn(i)?!!(Zt(i,"CPU iPhone OS 12")||Zt(i,"iPad; CPU OS 12")||Zt(i,"Macintosh; Intel Mac OS X 10_14")&&Zt(i,"Version/")&&Zt(i,"Safari")||Zt(i,"Macintosh; Intel Mac OS X 10_14")&&Nd(i,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Zt(i,"Chrome/5")||Zt(i,"Chrome/6")||Zt(i,"UnrealEngine")&&!Zt(i,"Chrome")||Zt(i,"UCBrowser/12")||Zt(i,"UCBrowser/11")):!1}var en={perfEvtsSendAll:!1};function Fn(i){i.h=null;var u=i.cb;i.cb=[],Ht(u,function(d){tt(d.fn,[d.arg])})}function Ft(i,u,d,_){Ht(i,function(T){T&&T[u]&&(d?(d.cb[Or]({fn:_,arg:T}),d.h=d.h||xc(Fn,0,d)):tt(_,[T]))})}var Mt=function(){function i(u){this.listeners=[];var d,_,T=[],N={h:null,cb:[]},A=po(u,en);_=A[Fs](function(k){d=!!k.cfg.perfEvtsSendAll}),ks(i,this,function(k){Q(k,"listeners",{g:function(){return T}}),k[_o]=function(U){T[Or](U)},k[$a]=function(U){for(var Y=oo(T,U);Y>-1;)T[ya](Y,1),Y=oo(T,U)},k[kp]=function(U){Ft(T,kp,N,function(Y){Y[kp](U)})},k[Nf]=function(U,Y){Ft(T,Nf,N,function(J){J[Nf](U,Y)})},k[xp]=function(U,Y){Ft(T,xp,Y?N:null,function(J){J[xp](U,Y)})},k[Of]=function(U){U&&(d||!U[Hd]())&&Ft(T,Of,null,function(Y){U[As]?xc(function(){return Y[Of](U)},0):Y[Of](U)})},k[Ol]=function(U){U&&U[jt]&&Ft(T,Ol,N,function(Y){Y[Ol](U)})},k[Gv]=function(U){U&&U[bf]&&Ft(T,Gv,N,function(Y){Y[Gv](U)})},k[ji]=function(U,Y){if(U>0){var J=Y||0;Ft(T,ji,N,function(ee){ee[ji](U,J)})}},k[Ya]=function(U){var Y=function(){_&&_.rm(),_=null,T=[],N.h&&N.h[Sa](),N.h=null,N.cb=[]},J;if(Ft(T,"unload",null,function(ee){var se=ee[Ya](U);se&&(J||(J=[]),J[Or](se))}),J)return Jo(function(ee){return Pf(Wd(J),function(){Y(),ee()})});Y()}})}return i.__ieDyn=1,i}(),$n="ctx",Sn="ParentContextKey",sr="ChildrenContextKey",dr=null,pn=function(){function i(u,d,_){var T=this;if(T.start=Xu(),T[Ca]=u,T[As]=_,T[Hd]=function(){return!1},dn(d)){var N;Q(T,"payload",{g:function(){return!N&&dn(d)&&(N=d(),d=null),N}})}T[Ea]=function(A){return A?A===i[Sn]||A===i[sr]?T[A]:(T[$n]||{})[A]:null},T[Xo]=function(A,k){if(A)if(A===i[Sn])T[A]||(T[Hd]=function(){return!0}),T[A]=k;else if(A===i[sr])T[A]=k;else{var U=T[$n]=T[$n]||{};U[A]=k}},T[wl]=function(){var A=0,k=T[Ea](i[sr]);if(Xt(k))for(var U=0;U<k[jt];U++){var Y=k[U];Y&&(A+=Y[Ta])}T[Ta]=Xu()-T.start,T.exTime=T[Ta]-A,T[wl]=function(){}}}return i.ParentContextKey="parent",i.ChildrenContextKey="childEvts",i}(),Di=function(){function i(u){this.ctx={},ks(i,this,function(d){d.create=function(_,T,N){return new pn(_,T,N)},d.fire=function(_){_&&(_[wl](),u&&dn(u[Of])&&u[Of](_))},d[Xo]=function(_,T){if(_){var N=d[$n]=d[$n]||{};N[_]=T}},d[Ea]=function(_){return(d[$n]||{})[_]}})}return i.__ieDyn=1,i}(),il="CoreUtils.doPerf";function Lu(i,u,d,_,T){if(i){var N=i;if(N[kl]&&(N=N[kl]()),N){var A=void 0,k=N[Ea](il);try{if(A=N.create(u(),_,T),A){if(k&&A[Xo]&&(A[Xo](pn[Sn],k),k[Ea]&&k[Xo])){var U=k[Ea](pn[sr]);U||(U=[],k[Xo](pn[sr],U)),U[Or](A)}return N[Xo](il,A),d(A)}}catch(Y){A&&A[Xo]&&A[Xo]("exception",Y)}finally{A&&N.fire(A),N[Xo](il,k)}}}return d()}function Xl(){return dr}function td(){var i=sv();return _n(i,0,8)+"-"+_n(i,8,12)+"-"+_n(i,12,16)+"-"+_n(i,16,20)+"-"+_n(i,20)}function sv(){for(var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],u=Jn,d,_=0;_<4;_++)d=jl(),u+=i[d&15]+i[d>>4&15]+i[d>>8&15]+i[d>>12&15]+i[d>>16&15]+i[d>>20&15]+i[d>>24&15]+i[d>>28&15];var T=i[8+(jl()&3)|0];return rr(u,0,8)+rr(u,9,4)+"4"+rr(u,13,3)+T+rr(u,16,3)+rr(u,19,12)}var nd=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,rd="00",av="ff",id="00000000000000000000000000000000",Je="0000000000000000",$t=1;function wn(i,u,d){return i&&i[jt]===u&&i!==d?!!i.match(/^[\da-f]*$/i):!1}function ti(i,u,d){return wn(i,u)?i:d}function So(i){(isNaN(i)||i<0||i>255)&&(i=1);for(var u=i.toString(16);u[jt]<2;)u="0"+u;return u}function Do(i,u,d,_){var T;return T={},T[Ls]=wn(_,2,av)?_:rd,T[jv]=gs(i)?i:sv(),T[Rf]=ou(u)?u:Dr(sv(),16),T.traceFlags=d>=0&&d<=255?d:1,T}function Gi(i,u){var d;if(!i||(Xt(i)&&(i=i[0]||""),!i||!nn(i)||i[jt]>8192))return null;if(i.indexOf(",")!==-1){var _=i[fs](",");i=_[u>0&&_[jt]>u?u:0]}var T=nd.exec(Io(i));return!T||T[1]===av||T[2]===id||T[3]===Je?null:(d={version:(T[1]||Jn)[Bo](),traceId:(T[2]||Jn)[Bo](),spanId:(T[3]||Jn)[Bo]()},d[Gc]=parseInt(T[4],16),d)}function gs(i){return wn(i,32,id)}function ou(i){return wn(i,16,Je)}function Jl(i){return!(!i||!wn(i[Ls],2,av)||!wn(i[jv],32,id)||!wn(i[Rf],16,Je)||!wn(So(i[Gc]),2))}function Ug(i){return Jl(i)?(i[Gc]&$t)===$t:!1}function mc(i){if(i){var u=So(i[Gc]);wn(u,2)||(u="01");var d=i[Ls]||rd;return d!=="00"&&d!=="ff"&&(d=rd),"".concat(d.toLowerCase(),"-").concat(ti(i.traceId,32,id).toLowerCase(),"-").concat(ti(i.spanId,16,Je).toLowerCase(),"-").concat(u.toLowerCase())}return""}function uv(i){var u="traceparent",d=Gi(Pg(u),i);return d||(d=Gi($f(u),i)),d}var _h=ku("plugin");function Bi(i){return _h.get(i,"state",{},!0)}function su(i,u){for(var d=[],_=null,T=i[Ms](),N;T;){var A=T[Da]();if(A){_&&_[Wc]&&A[ea]&&_[Wc](A),N=Bi(A);var k=!!N[Oo];A[Oo]&&(k=A[Oo]()),k||d[Or](A),_=A,T=T[Ms]()}}Ht(d,function(U){var Y=i[mi]();U[Ni](i.getCfg(),Y,u,i[Ms]()),N=Bi(U),!U[mi]&&!N[mi]&&(N[mi]=Y),N[Oo]=!0,delete N[so]})}function Hg(i){return i.sort(function(u,d){var _=0;if(d){var T=d[ea];u[ea]?_=T?u[If]-d[If]:1:T&&(_=-1)}else _=u?1:-1;return _})}function yh(i){var u={};return{getName:function(){return u[Ca]},setName:function(d){i&&i.setName(d),u[Ca]=d},getTraceId:function(){return u[jv]},setTraceId:function(d){i&&i.setTraceId(d),gs(d)&&(u[jv]=d)},getSpanId:function(){return u[Rf]},setSpanId:function(d){i&&i.setSpanId(d),ou(d)&&(u[Rf]=d)},getTraceFlags:function(){return u[Gc]},setTraceFlags:function(d){i&&i.setTraceFlags(d),u[Gc]=d}}}var Gp="TelemetryPluginChain",Sh="_hasRun",Dh="_getTelCtx",Nm=0;function Ch(i,u,d){for(;i;){if(i[Da]()===d)return i;i=i[Ms]()}return Zl([d],u.config||{},u)}function Th(i,u,d,_){var T=null,N=[];u||(u=po({},null,d[Ar])),_!==null&&(T=_?Ch(i,d,_):i);var A={_next:U,ctx:{core:function(){return d},diagLog:function(){return ed(d,u.cfg)},getCfg:function(){return u.cfg},getExtCfg:J,getConfig:ee,hasNext:function(){return!!T},getNext:function(){return T},setNext:function(de){T=de},iterate:se,onComplete:k}};function k(de,ce){for(var Ie=[],xe=2;xe<arguments.length;xe++)Ie[xe-2]=arguments[xe];de&&N[Or]({func:de,self:et(ce)?A.ctx:ce,args:Ie})}function U(){var de=T;if(T=de?de[Ms]():null,!de){var ce=N;ce&&ce[jt]>0&&(Ht(ce,function(Ie){try{Ie.func.call(Ie.self,Ie.args)}catch(xe){jr(d[Ar],2,73,"Unexpected Exception during onComplete - "+Nt(xe))}}),N=[])}return de}function Y(de,ce){var Ie=null,xe=u.cfg;if(xe&&de){var ct=xe[Zc];!ct&&ce&&(ct={}),xe[Zc]=ct,ct=u.ref(xe,Zc),ct&&(Ie=ct[de],!Ie&&ce&&(Ie={}),ct[de]=Ie,Ie=u.ref(ct,de))}return Ie}function J(de,ce){var Ie=Y(de,!0);return ce&&tr(ce,function(xe,ct){if(bt(Ie[xe])){var ht=u.cfg[xe];(ht||!bt(ht))&&(Ie[xe]=ht)}zf(u,Ie,xe,ct)}),u[rc](Ie,ce)}function ee(de,ce,Ie){Ie===void 0&&(Ie=!1);var xe,ct=Y(de,!1),ht=u.cfg;return ct&&(ct[ce]||!bt(ct[ce]))?xe=ct[ce]:(ht[ce]||!bt(ht[ce]))&&(xe=ht[ce]),xe||!bt(xe)?xe:Ie}function se(de){for(var ce;ce=A._next();){var Ie=ce[Da]();Ie&&de(Ie)}}return A}function Ql(i,u,d,_){var T=po(u),N=Th(i,T,d,_),A=N.ctx;function k(Y){var J=N._next();return J&&J[ea](Y,A),!J}function U(Y,J){return Y===void 0&&(Y=null),Xt(Y)&&(Y=Zl(Y,T.cfg,d,J)),Ql(Y||A[Ms](),T.cfg,d,J)}return A[xi]=k,A[ic]=U,A}function od(i,u,d){var _=po(u.config),T=Th(i,_,u,d),N=T.ctx;function A(U){var Y=T._next();return Y&&Y[Ya](N,U),!Y}function k(U,Y){return U===void 0&&(U=null),Xt(U)&&(U=Zl(U,_.cfg,u,Y)),od(U||N[Ms](),u,Y)}return N[xi]=A,N[ic]=k,N}function Au(i,u,d){var _=po(u.config),T=Th(i,_,u,d),N=T.ctx;function A(U){return N.iterate(function(Y){dn(Y[Ki])&&Y[Ki](N,U)})}function k(U,Y){return U===void 0&&(U=null),Xt(U)&&(U=Zl(U,_.cfg,u,Y)),Au(U||N[Ms](),u,Y)}return N[xi]=A,N[ic]=k,N}function Zl(i,u,d,_){var T=null,N=!_;if(Xt(i)&&i[jt]>0){var A=null;Ht(i,function(k){if(!N&&_===k&&(N=!0),N&&k&&dn(k[ea])){var U=Eh(k,u,d);T||(T=U),A&&A._setNext(U),A=U}})}return _&&!T?Zl([_],u,d):T}function Eh(i,u,d){var _=null,T=dn(i[ea]),N=dn(i[Wc]),A;i?A=i[Qs]+"-"+i[If]+"-"+Nm++:A="Unknown-0-"+Nm++;var k={getPlugin:function(){return i},getNext:function(){return _},processTelemetry:J,unload:ee,update:se,_id:A,_setNext:function(de){_=de}};function U(){var de;return i&&dn(i[Dh])&&(de=i[Dh]()),de||(de=Ql(k,u,d)),de}function Y(de,ce,Ie,xe,ct){var ht=!1,wt=i?i[Qs]:Gp,Hn=de[Sh];return Hn||(Hn=de[Sh]={}),de.setNext(_),i&&Lu(de[mi](),function(){return wt+":"+Ie},function(){Hn[A]=!0;try{var Wn=_?_._id:Jn;Wn&&(Hn[Wn]=!1),ht=ce(de)}catch(ci){var Li=_?Hn[_._id]:!0;Li&&(ht=!0),(!_||!Li)&&jr(de[Yc](),1,73,"Plugin ["+wt+"] failed during "+Ie+" - "+Nt(ci)+", run flags: "+Nt(Hn))}},xe,ct),ht}function J(de,ce){ce=ce||U();function Ie(xe){if(!i||!T)return!1;var ct=Bi(i);return ct[so]||ct[Qc]?!1:(N&&i[Wc](_),i[ea](de,xe),!0)}Y(ce,Ie,"processTelemetry",function(){return{item:de}},!de.sync)||ce[xi](de)}function ee(de,ce){function Ie(){var xe=!1;if(i){var ct=Bi(i),ht=i[mi]||ct[mi];i&&(!ht||ht===de.core())&&!ct[so]&&(ct[mi]=null,ct[so]=!0,ct[Oo]=!1,i[so]&&i[so](de,ce)===!0&&(xe=!0))}return xe}Y(de,Ie,"unload",function(){},ce[As])||de[xi](ce)}function se(de,ce){function Ie(){var xe=!1;if(i){var ct=Bi(i),ht=i[mi]||ct[mi];i&&(!ht||ht===de.core())&&!ct[so]&&i[Ki]&&i[Ki](de,ce)===!0&&(xe=!0)}return xe}Y(de,Ie,"update",function(){},!1)||de[xi](ce)}return ro(k)}var jg=function(){function i(u,d,_,T){var N=this,A=Ql(u,d,_,T);Fl(N,A,Ur(A))}return i}();function Bp(){var i=[];function u(_){_&&i[Or](_)}function d(_,T){Ht(i,function(N){try{N(_,T)}catch(A){jr(_[Yc](),2,73,"Unexpected error calling unload handler - "+Nt(A))}}),i=[]}return{add:u,run:d}}var Vp,cv;function nm(i,u){Vp=i,cv=u}function bh(){var i=[];function u(_){var T=i;i=[],Ht(T,function(N){try{(N.rm||N.remove).call(N)}catch(A){jr(_,2,73,"Unloading:"+Nt(A))}}),Vp&&T[jt]>Vp&&(cv?cv("doUnload",T):jr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}function d(_){_&&(Rs(i,_),Vp&&i[jt]>Vp&&(cv?cv("Add",i):jr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return{run:u,add:d}}var op,ef="getPlugin",w_=(op={},op[Zc]={isVal:Vv,v:{}},op),rm=function(){function i(){var u=this,d,_,T,N,A;Y(),ks(i,u,function(J){J[Ni]=function(ee,se,de,ce){U(ee,se,ce),d=!0},J[so]=function(ee,se){var de,ce=J[mi];if(!ce||ee&&ce!==ee[mi]())return;var Ie,xe=!1,ct=ee||od(null,ce,T&&T[ef]?T[ef]():T),ht=se||(de={reason:0},de[As]=!1,de);function wt(){xe||(xe=!0,N.run(ct,se),A.run(ct[Yc]()),Ie===!0&&ct[xi](ht),Y())}return!J[ai]||J[ai](ct,ht,wt)!==!0?wt():Ie=!0,Ie},J[Ki]=function(ee,se){var de=J[mi];if(!de||ee&&de!==ee[mi]())return;var ce,Ie=!1,xe=ee||Au(null,de,T&&T[ef]?T[ef]():T),ct=se||{reason:0};function ht(){Ie||(Ie=!0,U(xe.getCfg(),xe.core(),xe[Ms]()))}return!J._doUpdate||J._doUpdate(xe,ct,ht)!==!0?ht():ce=!0,ce},qs(J,"_addUnloadCb",function(){return N},"add"),qs(J,"_addHook",function(){return A},"add"),Q(J,"_unloadHooks",{g:function(){return A}})}),u[Yc]=function(J){return k(J)[Yc]()},u[Oo]=function(){return d},u.setInitialized=function(J){d=J},u[Wc]=function(J){T=J},u[xi]=function(J,ee){ee?ee[xi](J):T&&dn(T[ea])&&T[ea](J,null)},u._getTelCtx=k;function k(J){J===void 0&&(J=null);var ee=J;if(!ee){var se=_||Ql(null,{},u[mi]);T&&T[ef]?ee=se[ic](null,T[ef]):ee=se[ic](null,T)}return ee}function U(J,ee,se){po(J,w_,ed(ee)),!se&&ee&&(se=ee[qd]()[Ms]());var de=T;T&&T[ef]&&(de=T[ef]()),u[mi]=ee,_=Ql(se,J,ee,de)}function Y(){d=!1,u[mi]=null,_=null,T=null,A=bh(),N=Bp()}}return i.__ieDyn=1,i}();function Om(i,u,d){var _={id:u,fn:d};Rs(i,_);var T={remove:function(){Ht(i,function(N,A){if(N.id===_.id)return i[ya](A,1),-1})}};return T}function wh(i,u,d){for(var _=!1,T=i[jt],N=0;N<T;++N){var A=i[N];if(A)try{if(A.fn[_a](null,[u])===!1){_=!0;break}}catch(k){jr(d,2,64,"Telemetry initializer failed: "+Xa(k),{exception:Nt(k)},!0)}}return!_}var R_=function(i){Fc(u,i);function u(){var d=i.call(this)||this;d.identifier="TelemetryInitializerPlugin",d.priority=199;var _,T;N(),ks(u,d,function(A,k){A.addTelemetryInitializer=function(U){return Om(T,_++,U)},A[ea]=function(U,Y){wh(T,U,Y?Y[Yc]():A[Yc]())&&A[xi](U,Y)},A[ai]=function(){N()}});function N(){_=0,T=[]}return d}return u.__ieDyn=1,u}(rm),sd,Xp="Plugins must provide initialize method",$g="_notificationManager",ad="SDK is still unloading...",Jp="SDK is not initialized",im=100,km=5e4,lv=di((sd={cookieCfg:{}},sd[bu]={rdOnly:!0,ref:!0,v:[]},sd[Eu]={rdOnly:!0,ref:!0,v:[]},sd[Zc]={ref:!0,v:{}},sd[Ba]=zi,sd.loggingLevelConsole=0,sd.diagnosticLogInterval=zi,sd));function xm(i,u){return new Di(u)}function P_(i,u,d){var _,T=[],N=[],A={};return Ht(d,function(k){(bt(k)||bt(k[Ni]))&&Un(Xp);var U=k[If],Y=k[Qs];k&&U&&(bt(A[U])?A[U]=Y:Fu(i,"Two extensions have same priority #"+U+" - "+A[U]+", "+Y)),!U||U<u?T[Or](k):N[Or](k)}),_={},_[mi]=T,_[Eu]=N,_}function om(i,u){var d=!1;return Ht(u,function(_){if(_===i)return d=!0,-1}),d}function Yg(i,u,d,_){d&&tr(d,function(T,N){_&&us(N)&&us(u[T])&&Yg(i,u[T],N,_),_&&us(N)&&us(u[T])?Yg(i,u[T],N,_):i.set(u,T,N)})}function sm(i,u){var d=null,_=-1;return Ht(i,function(T,N){if(T.w===u)return d=T,_=N,-1}),{i:_,l:d}}function Rh(i,u){var d=sm(i,u).l;return d||(d={w:u,rm:function(){var _=sm(i,u);_.i!==-1&&i[ya](_.i,1)}},i[Or](d)),d}function Qp(i,u,d){Ht(u,function(_){var T=Gl(i,_.w,d);delete _.w,_.rm=function(){T.rm()}})}function fv(i,u,d,_){return u.add(i[Fs](function(T){var N=T.cfg.disableDbgExt;N===!0&&_&&(d[$a](_),_=null),d&&!_&&N!==!0&&(_=Gt(T.cfg),d[_o](_))})),_}function am(i){return Q({rm:function(){i.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(i)+">"}})}var Wg=function(){function i(){var u,d,_,T,N,A,k,U,Y,J,ee,se,de,ce,Ie,xe,ct,ht,wt,Hn,Wn,Li,ci,Ai,Ys,ys,hd,Gg,md,Et,Dn,Ei;ks(i,this,function(nt){Ir(),nt._getDbgPlgTargets=function(){return[ci,T]},nt[Oo]=function(){return d},nt.activeStatus=function(){return ys},nt._setPendingStatus=function(){ys=3},nt[Ni]=function(je,Yt,On,hn){de&&Un(ad),nt[Oo]()&&Un("Core cannot be initialized more than once"),u=po(je,lv,On||nt[Ar],!1),je=u.cfg,aa(u[Fs](function(gi){var To=gi.cfg,ua=ys===3;if(!ua){Gg=To.initInMemoMaxSize||im;var xa=To[Tl],Sd=To.endpointUrl;if(bt(xa)){Wn=null,ys=si[Hc];var ag="Please provide instrumentation key";d?(jr(_,1,100,ag),Qi()):Un(ag);return}var lm=[];if(cr(xa)?(lm[Or](xa),Wn=null):Wn=xa,cr(Sd)?(lm[Or](Sd),hd=null):hd=Sd,lm[jt]){md=!1,ys=3;var yy=Vv(To.initTimeOut)?To.initTimeOut:km,AD=Nl(lm);xc(function(){md||an()},yy),Pf(AD,function(Mi){try{if(md)return;if(!Mi.rejected){var Mo=Mi[Md];if(Mo&&Mo[jt]){var I_=Mo[0];if(Wn=I_&&I_[Md],Mo[jt]>1){var qo=Mo[1];hd=qo&&qo[Md]}}Wn&&(je[Tl]=Wn,je.endpointUrl=hd)}an()}catch{md||an()}})}else an();var qm=gi.ref(gi.cfg,Zc);tr(qm,function(Mi){gi.ref(qm,Mi)})}})),N=hn,wt=fv(u,ht,N&&nt[_u](),wt),yd(),nt[Ar]=On;var kn=je[bu];if(J=[],J[Or].apply(J,Bs(Bs([],Yt,!1),kn)),ee=je[Eu],Qo(null),(!se||se[jt]===0)&&Un("No "+Eu+" available"),ee&&ee[jt]>1){var Oi=nt[Da]("TeeChannelController");(!Oi||!Oi.plugin)&&jr(_,1,28,"TeeChannel required")}Qp(je,Li,_),Li=null,d=!0,ys===si.ACTIVE&&Qi()},nt.getChannels=function(){var je=[];return se&&Ht(se,function(Yt){je[Or](Yt)}),ro(je)},nt.track=function(je){Lu(nt[kl](),function(){return"AppInsightsCore:track"},function(){je===null&&(Co(je),Un("Invalid telemetry item")),!je[Ca]&&bt(je[Ca])&&(Co(je),Un("telemetry name required")),je[jc]=je[jc]||Wn,je[Ta]=je[Ta]||Va(new Date),je.ver=je.ver||"4.0",!de&&nt[Oo]()&&ys===si.ACTIVE?Ss()[xi](je):ys!==si[Hc]&&T[jt]<=Gg&&T[Or](je)},function(){return{item:je}},!je.sync)},nt[qd]=Ss,nt[_u]=function(){return N||(N=new Mt(u.cfg),nt[$g]=N),N},nt[_o]=function(je){nt.getNotifyMgr()[_o](je)},nt[$a]=function(je){N&&N[$a](je)},nt.getCookieMgr=function(){return U||(U=R(u.cfg,nt[Ar])),U},nt.setCookieMgr=function(je){U!==je&&(Vf(U,!1),U=je)},nt[kl]=function(){return A||k||Xl()},nt.setPerfMgr=function(je){A=je},nt.eventCnt=function(){return T[jt]},nt.releaseQueue=function(){if(d&&T[jt]>0){var je=T;T=[],ys===2?Ht(je,function(Yt){Yt[jc]=Yt[jc]||Wn,Ss()[xi](Yt)}):jr(_,2,20,"core init status is not active")}},nt[$c]=function(je){return Ie=je||null,Ei=!1,Et&&Et[Sa](),oa(!0)};function an(){md=!0,bt(Wn)?(ys=si[Hc],jr(_,1,112,"ikey can't be resolved from promises")):ys=si.ACTIVE,Qi()}function Qi(){d&&(nt.releaseQueue(),nt[$c]())}function oa(je){if((!Et||!Et[yu])&&!Ei){var Yt=je||_&&_.queue[jt]>0;Yt&&(Dn||(Dn=!0,aa(u[Fs](function(On){var hn=On.cfg.diagnosticLogInterval;(!hn||!(hn>0))&&(hn=1e4);var kn=!1;Et&&(kn=Et[yu],Et[Sa]()),Et=kd(og,hn),Et.unref(),Et[yu]=kn}))),Et[yu]=!0)}return Et}nt[ls]=function(){Ei=!0,Et&&Et[Sa](),og()},Fl(nt,function(){return ce},["addTelemetryInitializer"]),nt[Ya]=function(je,Yt,On){var hn;je===void 0&&(je=!0),d||Un(Jp),de&&Un(ad);var kn=(hn={reason:50},hn[As]=je,hn.flushComplete=!1,hn),Oi;je&&!Yt&&(Oi=Jo(function(ua){Yt=ua}));var gi=od(_d(),nt);gi[Su](function(){ht.run(nt[Ar]),gh([U,N,_],je,function(){Ir(),Yt&&Yt(kn)})},nt);function To(ua){kn.flushComplete=ua,de=!0,ct.run(gi,kn),nt[ls](),gi[xi](kn)}return og(),gv(je,To,6,On),Oi},nt[Da]=sa,nt.addPlugin=function(je,Yt,On,hn){if(!je){hn&&hn(!1),Ih(Xp);return}var kn=sa(je[Qs]);if(kn&&!Yt){hn&&hn(!1),Ih("Plugin ["+je[Qs]+"] is already loaded!");return}var Oi={reason:16};function gi(xa){J[Or](je),Oi.added=[je],Qo(Oi),hn&&hn(!0)}if(kn){var To=[kn.plugin],ua={reason:2,isAsync:!!On};Dc(To,ua,function(xa){xa?(Oi.removed=To,Oi.reason|=32,gi()):hn&&hn(!1)})}else gi()},nt.updateCfg=function(je,Yt){Yt===void 0&&(Yt=!0);var On;if(nt[Oo]()){On={reason:1,cfg:u.cfg,oldCfg:Fv({},u.cfg),newConfig:Fv({},je),merge:Yt},je=On.newConfig;var hn=u.cfg;je[bu]=hn[bu],je[Eu]=hn[Eu]}u._block(function(kn){var Oi=kn.cfg;Yg(kn,Oi,je,Yt),Yt||tr(Oi,function(gi){Si(je,gi)||kn.set(Oi,gi,zi)}),kn[rc](Oi,lv)},!0),u[ma](),On&&sg(On)},nt.evtNamespace=function(){return xe},nt.flush=gv,nt.getTraceCtx=function(je){return Hn||(Hn=yh()),Hn},nt.setTraceCtx=function(je){Hn=je||null},nt.addUnloadHook=aa,qs(nt,"addUnloadCb",function(){return ct},"add"),nt.onCfgChange=function(je){var Yt;return d?Yt=Gl(u.cfg,je,nt[Ar]):Yt=Rh(Li,je),am(Yt)},nt.getWParam=function(){return Ic()||u.cfg.enableWParam?0:-1};function ka(){var je={};Ai=[];var Yt=function(On){On&&Ht(On,function(hn){if(hn[Qs]&&hn[Ls]&&!je[hn.identifier]){var kn=hn[Qs]+"="+hn[Ls];Ai[Or](kn),je[hn.identifier]=hn}})};Yt(se),ee&&Ht(ee,function(On){Yt(On)}),Yt(J)}function Ir(){d=!1,u=po({},lv,nt[Ar]),u.cfg[El]=1,Q(nt,"config",{g:function(){return u.cfg},s:function(Yt){nt.updateCfg(Yt,!1)}}),Q(nt,"pluginVersionStringArr",{g:function(){return Ai||ka(),Ai}}),Q(nt,"pluginVersionString",{g:function(){return Ys||(Ai||ka(),Ys=Ai.join(";")),Ys||Jn}}),Q(nt,"logger",{g:function(){return _||(_=new nl(u.cfg),u[Ar]=_),_},s:function(Yt){u[Ar]=Yt,_!==Yt&&(Vf(_,!1),_=Yt)}}),nt[Ar]=new nl(u.cfg),ci=[];var je=nt.config[bu]||[];je.splice(0,je[jt]),Rs(je,ci),ce=new R_,T=[],Vf(N,!1),N=null,A=null,k=null,Vf(U,!1),U=null,Y=null,J=[],ee=null,se=null,de=!1,Ie=null,xe=tu("AIBaseCore",!0),ct=Bp(),Hn=null,Wn=null,ht=bh(),Li=[],Ys=null,Ai=null,Ei=!1,Et=null,Dn=!1,ys=0,hd=null,Gg=null,md=!1}function Ss(){var je=Ql(_d(),u.cfg,nt);return je[Su](oa),je}function Qo(je){var Yt=P_(nt[Ar],Mg,J);Y=null,Ys=null,Ai=null,se=(ee||[])[0]||[],se=Hg(Rs(se,Yt[Eu]));var On=Rs(Hg(Yt[mi]),se);ci=ro(On);var hn=nt.config[bu]||[];hn.splice(0,hn[jt]),Rs(hn,ci);var kn=Ss();se&&se[jt]>0&&su(kn[ic](se),On),su(kn,On),je&&sg(je)}function sa(je){var Yt=null,On=null,hn=[];return Ht(ci,function(kn){if(kn[Qs]===je&&kn!==ce)return On=kn,-1;kn.getChannel&&hn[Or](kn)}),!On&&hn[jt]>0&&Ht(hn,function(kn){if(On=kn.getChannel(je),!On)return-1}),On&&(Yt={plugin:On,setEnabled:function(kn){Bi(On)[Qc]=!kn},isEnabled:function(){var kn=Bi(On);return!kn[so]&&!kn[Qc]},remove:function(kn,Oi){var gi;kn===void 0&&(kn=!0);var To=[On],ua=(gi={reason:1},gi[As]=kn,gi);Dc(To,ua,function(xa){xa&&Qo({reason:32,removed:To}),Oi&&Oi(xa)})}}),Yt}function _d(){if(!Y){var je=(ci||[]).slice();oo(je,ce)===-1&&je[Or](ce),Y=Zl(Hg(je),u.cfg,nt)}return Y}function Dc(je,Yt,On){if(je&&je[jt]>0){var hn=Zl(je,u.cfg,nt),kn=od(hn,nt);kn[Su](function(){var Oi=!1,gi=[];Ht(J,function(ua,xa){om(ua,je)?Oi=!0:gi[Or](ua)}),J=gi,Ys=null,Ai=null;var To=[];ee&&(Ht(ee,function(ua,xa){var Sd=[];Ht(ua,function(ag){om(ag,je)?Oi=!0:Sd[Or](ag)}),To[Or](Sd)}),ee=To),On&&On(Oi),oa()}),kn[xi](Yt)}else On(!1)}function og(){if(_&&_.queue){var je=_.queue.slice(0);_.queue[jt]=0,Ht(je,function(Yt){var On,hn=(On={},On[Ca]=Ie||"InternalMessageId: "+Yt[oc],On[jc]=Wn,On[Ta]=Va(new Date),On.baseType=rp.dataType,On.baseData={message:Yt[Du]},On);nt.track(hn)})}}function gv(je,Yt,On,hn){var kn=1,Oi=!1,gi=null;hn=hn||5e3;function To(){kn--,Oi&&kn===0&&(gi&&gi[Sa](),gi=null,Yt&&Yt(Oi),Yt=null)}if(se&&se[jt]>0){var ua=Ss()[ic](se);ua.iterate(function(xa){if(xa.flush){kn++;var Sd=!1;xa.flush(je,function(){Sd=!0,To()},On)||Sd||(je&&gi==null?gi=xc(function(){gi=null,To()},hn):To())}})}return Oi=!0,To(),!0}function yd(){var je;aa(u[Fs](function(Yt){var On=Yt.cfg.enablePerfMgr;if(On){var hn=Yt.cfg[Ba];(je!==hn||!je)&&(hn||(hn=xm),kf(Yt.cfg,Ba,hn),je=hn,k=null),!A&&!k&&dn(hn)&&(k=hn(nt,nt[_u]()))}else k=null,je=null}))}function sg(je){var Yt=Au(_d(),nt);Yt[Su](oa),(!nt._updateHook||nt._updateHook(Yt,je)!==!0)&&Yt[xi](je)}function Ih(je){var Yt=nt[Ar];Yt?(jr(Yt,2,73,je),oa()):Un(je)}function Co(je){var Yt=nt[_u]();Yt&&Yt[Nf]([je],2)}function aa(je){ht.add(je)}})}return i.__ieDyn=1,i}();function Yr(i,u){try{if(i&&i!==""){var d=vo().parse(i);if(d&&d[Dg]&&d[Dg]>=d.itemsAccepted&&d.itemsReceived-d.itemsAccepted===d.errors[jt])return d}}catch(_){jr(u,1,43,"Cannot parse the response. "+(_[Ca]||Nt(_)),{response:i})}return null}var Mu="",dv="NoResponseBody",sp="&"+dv+"=true",Zp="POST",Kg=function(){function i(){var u=0,d,_,T,N,A,k,U,Y,J,ee,se,de,ce,Ie;ks(i,this,function(xe,ct){var ht=!0;md(),xe[Ni]=function(Et,Dn){T=Dn,_&&jr(T,1,28,"Sender is already initialized"),xe.SetConfig(Et),_=!0},xe._getDbgPlgTargets=function(){return[_,N,k,d]},xe.SetConfig=function(Et){try{if(A=Et.senderOnCompleteCallBack||{},k=!!Et.disableCredentials,U=Et.fetchCredentials,N=!!Et.isOneDs,d=!!Et.enableSendPromise,J=!!Et.disableXhr,ee=!!Et.disableBeacon,se=!!Et.disableBeaconSync,Ie=Et.timeWrapper,ce=!!Et.addNoResponse,de=!!Et.disableFetchKeepAlive,Y={sendPOST:ys},N||(ht=!1),k){var Dn=uc();Dn&&Dn.protocol&&Dn.protocol[Bo]()==="file:"&&(ht=!1)}return!0}catch{}return!1},xe.getSyncFetchPayload=function(){return u},xe.getSenderInst=function(Et,Dn){return Et&&Et[jt]?Li(Et,Dn):null},xe.getFallbackInst=function(){return Y},xe[ai]=function(Et,Dn){md()};function wt(Et,Dn){ci(Dn,200,{},Et)}function Hn(Et,Dn){jr(T,2,26,"Failed to send telemetry.",{message:Et}),ci(Dn,400,{})}function Wn(Et){Hn("No endpoint url is provided for the batch",Et)}function Li(Et,Dn){for(var Ei,nt=0,an=null,Qi=0;an==null&&Qi<Et[jt];)nt=Et[Qi],!J&&nt===1?Mp()?an=Gg:jf()&&(an=ys):nt===2&&Hf(Dn)&&(!Dn||!de)?an=hd:nt===3&&Rg()&&(Dn?!se:!ee)&&(an=Ys),Qi++;return an?(Ei={_transport:nt,_isSync:Dn},Ei[zc]=an,Ei):null}function ci(Et,Dn,Ei,nt){try{Et&&Et(Dn,Ei,nt)}catch{}}function Ai(Et,Dn){var Ei=os(),nt=Et[Kc];if(!nt)return Wn(Dn),!0;nt=Et[Kc]+(ce?sp:Mu);var an=Et[bf],Qi=N?an:new Blob([an],{type:"text/plain;charset=UTF-8"}),oa=Ei.sendBeacon(nt,Qi);return oa}function Ys(Et,Dn,Ei){var nt=Et[bf];try{if(nt)if(Ai(Et,Dn))wt(Mu,Dn);else{var an=A&&A.beaconOnRetry;an&&dn(an)?an(Et,Dn,Ai):(Y&&Y[zc](Et,Dn,!0),jr(T,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Qi){N&&Fu(T,"Failed to send telemetry using sendBeacon API. Ex:"+Nt(Qi)),ci(Dn,N?0:400,{},Mu)}}function ys(Et,Dn,Ei){var nt,an,Qi,oa=Et[Ga]||{};!Ei&&d&&(nt=Jo(function(Qo,sa){an=Qo,Qi=sa})),N&&Ei&&Et.disableXhrSync&&(Ei=!1);var ka=Et[Kc];if(!ka){Wn(Dn),an&&an(!1);return}var Ir=fh(Zp,ka,ht,!0,Ei,Et[wf]);N||Ir[ch]("Content-type","application/json"),Ht(Ur(oa),function(Qo){Ir[ch](Qo,oa[Qo])}),Ir.onreadystatechange=function(){N||(Ss(Ir),Ir.readyState===4&&an&&an(!0))},Ir.onload=function(){N&&Ss(Ir)};function Ss(Qo){var sa=A&&A.xhrOnComplete,_d=sa&&dn(sa);if(_d)sa(Qo,Dn,Et);else{var Dc=Ru(Qo);ci(Dn,Qo[za],ac(Qo,N),Dc)}}return Ir.onerror=function(Qo){ci(Dn,N?Ir[za]:400,ac(Ir,N),N?Mu:Ll(Ir)),Qi&&Qi(Qo)},Ir.ontimeout=function(){ci(Dn,N?Ir[za]:500,ac(Ir,N),N?Mu:Ll(Ir)),an&&an(!1)},Ir.send(Et[bf]),nt}function hd(Et,Dn,Ei){var nt,an=Et[Kc],Qi=Et[bf],oa=N?Qi:new Blob([Qi],{type:"application/json"}),ka,Ir,Ss,Qo=new Headers,sa=Qi[jt],_d=!1,Dc=!1,og=Et[Ga]||{},gv=(nt={method:Zp,body:oa},nt[Xf]=!0,nt);Et.headers&&Ur(Et.headers)[jt]>0&&(Ht(Ur(og),function(Co){Qo.append(Co,og[Co])}),gv[Ga]=Qo),U?gv.credentials=U:ht&&N&&(gv.credentials="include"),Ei&&(gv.keepalive=!0,u+=sa,N?Et._sendReason===2&&(_d=!0,ce&&(an+=sp)):_d=!0);var yd=new Request(an,gv);try{yd[Xf]=!0}catch{}if(!Ei&&d&&(ka=Jo(function(Co,aa){Ir=Co,Ss=aa})),!an){Wn(Dn),Ir&&Ir(!1);return}function sg(Co){ci(Dn,N?0:400,{},N?Mu:Co)}function Ih(Co,aa,je){var Yt=Co[za],On=A.fetchOnComplete;On&&dn(On)?On(Co,Dn,je||Mu,aa):ci(Dn,Yt,{},je||Mu)}try{Pf(fetch(N?an:yd,N?gv:null),function(Co){if(Ei&&(u-=sa,sa=0),!Dc)if(Dc=!0,Co.rejected)sg(Co.reason&&Co.reason[Du]),Ss&&Ss(Co.reason);else{var aa=Co[Md];try{!N&&!aa.ok?(sg(aa.statusText),Ir&&Ir(!1)):N&&!aa.body?(Ih(aa,null,Mu),Ir&&Ir(!0)):Pf(aa.text(),function(je){Ih(aa,Et,je[Md]),Ir&&Ir(!0)})}catch(je){sg(Nt(je)),Ss&&Ss(je)}}})}catch(Co){Dc||(sg(Nt(Co)),Ss&&Ss(Co))}return _d&&!Dc&&(Dc=!0,ci(Dn,200,{}),Ir&&Ir(!0)),N&&!Dc&&Et[wf]>0&&Ie&&Ie.set(function(){Dc||(Dc=!0,ci(Dn,500,{}),Ir&&Ir(!0))},Et[wf]),ka}function Gg(Et,Dn,Ei){var nt=is(),an=new XDomainRequest,Qi=Et[bf];an.onload=function(){var Qo=Ru(an),sa=A&&A.xdrOnComplete;sa&&dn(sa)?sa(an,Dn,Et):ci(Dn,200,{},Qo)},an.onerror=function(){ci(Dn,400,{},N?Mu:xf(an))},an.ontimeout=function(){ci(Dn,500,{})},an.onprogress=function(){};var oa=nt&&nt.location&&nt.location[Wa]||"",ka=Et[Kc];if(!ka){Wn(Dn);return}if(!N&&ka.lastIndexOf(oa,0)!==0){var Ir="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";jr(T,2,40,". "+Ir),Hn(Ir,Dn);return}var Ss=N?ka:ka[yo](/^(https?:)/,"");an.open(Zp,Ss),Et[wf]&&(an[wf]=Et[wf]),an.send(Qi),N&&Ei?Ie&&Ie.set(function(){an.send(Qi)},0):an.send(Qi)}function md(){u=0,_=!1,d=!1,T=null,N=null,A=null,k=null,U=null,Y=null,J=!1,ee=!1,se=!1,de=!1,ce=!1,Ie=null}})}return i.__ieDyn=1,i}(),ud="on",vv="attachEvent",Fm="addEventListener",ap="detachEvent",tf="removeEventListener",ol="events",Na="visibilitychange",qu="pagehide",nf="pageshow",cd="unload",_c="beforeunload",yc=tu("aiEvtPageHide"),up=tu("aiEvtPageShow"),pv=/\.[\.]+/g,Lm=/[\.]+$/,eg=1,sl=ku("events"),Ph=/^([^.]*)(?:\.(.+)|)/;function tg(i){return i&&i[yo]?i[yo](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Jn):i}function ld(i,u){var d;if(u){var _=Jn;Xt(u)?(_=Jn,Ht(u,function(N){N=tg(N),N&&(N[0]!=="."&&(N="."+N),_+=N)})):_=tg(u),_&&(_[0]!=="."&&(_="."+_),i=(i||Jn)+_)}var T=Ph.exec(i||Jn)||[];return d={},d[Vo]=T[1],d.ns=(T[2]||Jn).replace(pv,".").replace(Lm,Jn)[fs](".").sort().join("."),d}function ng(i,u,d){var _=[],T=sl.get(i,ol,{},!1),N=ld(u,d);return tr(T,function(A,k){Ht(k,function(U){var Y;(!N[Vo]||N[Vo]===U.evtName[Vo])&&(!N.ns||N.ns===N.ns)&&_[Or]((Y={},Y[Ca]=U.evtName[Vo]+(U.evtName.ns?"."+U.evtName.ns:Jn),Y.handler=U[Ka],Y))})}),_}function rg(i,u,d){d===void 0&&(d=!0);var _=sl.get(i,ol,{},d),T=_[u];return T||(T=_[u]=[]),T}function um(i,u,d,_){i&&u&&u[Vo]&&(i[tf]?i[tf](u[Vo],d,_):i[ap]&&i[ap](ud+u[Vo],d))}function cm(i,u,d,_){var T=!1;return i&&u&&u[Vo]&&d&&(i[Fm]?(i[Fm](u[Vo],d,_),T=!0):i[vv]&&(i[vv](ud+u[Vo],d),T=!0)),T}function Am(i,u,d,_){for(var T=u[jt];T--;){var N=u[T];N&&(!d.ns||d.ns===N.evtName.ns)&&(!_||_(N))&&(um(i,N.evtName,N[Ka],N.capture),u[ya](T,1))}}function hs(i,u,d){if(u[Vo])Am(i,rg(i,u[Vo]),u,d);else{var _=sl.get(i,ol,{});tr(_,function(T,N){Am(i,N,u,d)}),Ur(_)[jt]===0&&sl.kill(i,ol)}}function Uu(i,u){var d;return u?(Xt(u)?d=[i].concat(u):d=[i,u],d=ld("xx",d).ns[fs](".")):d=i,d}function cp(i,u,d,_,T){var N;T===void 0&&(T=!1);var A=!1;if(i)try{var k=ld(u,_);if(A=cm(i,k,d,T),A&&sl.accept(i)){var U=(N={guid:eg++,evtName:k},N[Ka]=d,N.capture=T,N);rg(i,k.type)[Or](U)}}catch{}return A}function $i(i,u,d,_,T){if(T===void 0&&(T=!1),i)try{var N=ld(u,_),A=!1;hs(i,N,function(k){return N.ns&&!d||k[Ka]===d?(A=!0,!0):!1}),A||um(i,N,d,T)}catch{}}function lp(i,u,d,_){return _===void 0&&(_=!1),cp(i,u,d,null,_)}function fp(i,u,d,_){_===void 0&&(_=!1),$i(i,u,d,null,_)}function Mm(i,u,d){var _=!1,T=is();T&&(_=cp(T,i,u,d),_=cp(T.body,i,u,d)||_);var N=io();return N&&(_=cp(N,i,u,d)||_),_}function f(i,u,d){var _=is();_&&($i(_,i,u,d),$i(_.body,i,u,d));var T=io();T&&$i(T,i,u,d)}function m(i,u,d,_){var T=!1;return u&&i&&i[jt]>0&&Ht(i,function(N){N&&(!d||oo(d,N)===-1)&&(T=Mm(N,u,_)||T)}),T}function b(i,u,d,_){var T=!1;return u&&i&&Xt(i)&&(T=m(i,u,d,_),!T&&d&&d[jt]>0&&(T=m(i,u,null,_))),T}function P(i,u,d){i&&Xt(i)&&Ht(i,function(_){_&&f(_,u,d)})}function q(i,u,d){return b([_c,cd,qu],i,u,d)}function B(i,u){P([_c,cd,qu],i,u)}function V(i,u,d){function _(A){var k=io();i&&k&&k.visibilityState==="hidden"&&i(A)}var T=Uu(yc,d),N=m([qu],i,u,T);return(!u||oo(u,Na)===-1)&&(N=m([Na],_,u,T)||N),!N&&u&&(N=V(i,null,d)),N}function ae(i,u){var d=Uu(yc,u);P([qu],i,d),P([Na],null,d)}function ye(i,u,d){function _(A){var k=io();i&&k&&k.visibilityState==="visible"&&i(A)}var T=Uu(up,d),N=m([nf],i,u,T);return N=m([Na],_,u,T)||N,!N&&u&&(N=ye(i,null,d)),N}function Se(i,u){var d=Uu(up,u);P([nf],i,d),P([Na],null,d)}var Be=xs({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),pt="",vt="https://browser.events.data.microsoft.com/OneCollector/1.0/",Ge="version",Re="properties",ft="initialize",Ye="logger",St="indexOf",Ve="timings",We="pollInternalLogs",gt="value",Rn="kind",Ln="length",Yn="processTelemetryStart",Cr="handleField",kr="rmSanitizer",ui="rmFieldSanitizer",ni="canHandle",An,Vi="4.3.4",Tt="1DS-Web-JS-"+Vi,qt=h.hasOwnProperty,ar="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Gn="withCredentials",tn="timeout",Pr=(An={},An[0]=0,An[2]=6,An[1]=1,An[3]=7,An[4098]=6,An[4097]=1,An[4099]=7,An),sn=null,Lo=Ic(),Lt=wv();function Ci(i){return!(i===pt||bt(i))}function Ti(i){if(i){var u=zs(i,"-");if(u>-1)return Dr(i,u)}return pt}function ms(){return sn===null&&(sn=!et(Uint8Array)&&!Ao()&&!Uf()),sn}function al(i){return!!(i&&Kn(i)&&i>=1&&i<=4)}function js(i,u,d){if(!u&&!Ci(u)||typeof i!="string")return null;var _=typeof u;if(_==="string"||_==="number"||_==="boolean"||Xt(u))u={value:u};else if(_==="object"&&!qt.call(u,"value"))u={value:d?JSON.stringify(u):u};else if(bt(u[gt])||u[gt]===pt||!nn(u[gt])&&!Kn(u[gt])&&!no(u[gt])&&!Xt(u[gt]))return null;if(Xt(u[gt])&&!ju(u[gt]))return null;if(!bt(u[Rn])){if(Xt(u[gt])||!Br(u[Rn]))return null;u[gt]=u[gt].toString()}return u}function fd(i,u,d){var _=-1;if(!et(i))if(u>0&&(u===32?_=8192:u<=13&&(_=u<<5)),Ji(d))_===-1&&(_=0),_|=d;else{var T=Pr[$s(i)]||-1;_!==-1&&T!==-1?_|=T:T===6&&(_=T)}return _}function au(i,u,d){d===void 0&&(d=!0);var _;return i&&(_=i.get(u),d&&_&&decodeURIComponent&&(_=decodeURIComponent(_))),_||pt}function Oa(i){i===void 0&&(i="D");var u=td();return i==="B"?u="{"+u+"}":i==="P"?u="("+u+")":i==="N"&&(u=u.replace(/-/g,pt)),u}function Hu(i,u,d,_,T){var N={},A=!1,k=0,U=arguments[Ln],Y=arguments;for(no(Y[0])&&(A=Y[0],k++);k<U;k++){var i=Y[k];tr(i,function(ee,se){A&&se&&ei(se)?Xt(se)?(N[ee]=N[ee]||[],Ht(se,function(de,ce){de&&ei(de)?N[ee][ce]=Hu(!0,N[ee][ce],de):N[ee][ce]=de})):N[ee]=Hu(!0,N[ee],se):N[ee]=se})}return N}var Xi=_f;function Br(i){return i===0||i>0&&i<=13||i===32}function Ji(i){return i>=0&&i<=9}function Ao(){var i=os();if(!et(i)&&i.userAgent){var u=i.userAgent.toLowerCase();if((u[St]("safari")>=0||u[St]("firefox")>=0)&&u[St]("chrome")<0)return!0}return!1}function ju(i){return i[Ln]>0}function ul(i,u){var d=i;d[Ve]=d[Ve]||{},d[Ve][Yn]=d[Ve][Yn]||{},d[Ve][Yn][u]=Xi()}function $s(i){var u=0;if(i!=null){var d=typeof i;d==="string"?u=1:d==="number"?u=2:d==="boolean"?u=3:d===n&&(u=4,Xt(i)?(u=4096,i[Ln]>0&&(u|=$s(i[0]))):qt.call(i,"value")&&(u=8192|$s(i[gt])))}return u}function dd(){return!!Hr("chrome")}function $u(i,u,d,_,T,N){_===void 0&&(_=!1),T===void 0&&(T=!1);function A(U,Y,J){try{U[Y]=J}catch{}}var k=new XMLHttpRequest;return _&&A(k,ar,_),d&&A(k,Gn,d),k.open(i,u,!T),d&&A(k,Gn,d),!T&&N&&A(k,tn,N),k}function zg(i){return i>0}var cl=di({endpointUrl:vt,propertyStorageOverride:{isVal:vd}});function vd(i){return i&&(!i.getProperty||!i.setProperty)&&Un("Invalid property storage override passed."),!0}var go=function(i){Fc(u,i);function u(){var d=i.call(this)||this;return ks(u,d,function(_,T){_[ft]=function(N,A,k,U){Lu(_,function(){return"AppInsightsCore.initialize"},function(){try{T[ft](po(N,cl,k||_[Ye],!1).cfg,A,k,U)}catch(ee){var Y=_[Ye],J=Nt(ee);J[St]("channels")!==-1&&(J+=`
 - Channels must be provided through config.channels only!`),jr(Y,1,514,"SDK Initialization Failed - no telemetry will be sent: "+J)}},function(){return{config:N,extensions:A,logger:k,notificationManager:U}})},_.track=function(N){Lu(_,function(){return"AppInsightsCore.track"},function(){var A=N;if(A){A[Ve]=A[Ve]||{},A[Ve].trackStart=Xi(),al(A.latency)||(A.latency=1);var k=A.ext=A.ext||{};k.sdk=k.sdk||{},k.sdk.ver=Tt;var U=A.baseData=A.baseData||{};U[Re]=U[Re]||{};var Y=U[Re];Y[Ge]=Y[Ge]||_.pluginVersionString||pt}T.track(A)},function(){return{item:N}},!N.sync)},_[We]=function(N){return T[We](N||"InternalLog")}}),d}return u.__ieDyn=1,u}(Wg),dp=xs({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),pd=xs({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),ig=xs({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Sc=xs({Normal:1,Critical:2}),_s=xs({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),gd=function(){function i(u){var d=this,_={},T=[],N=[];u&&N.push(u);function A(J,ee){var se,de=_[J];if(de&&(se=de[ee]),!se&&se!==null){if(nn(J)&&nn(ee))if(N[Ln]>0){for(var ce=0;ce<N[Ln];ce++)if(N[ce][Cr](J,ee)){se={canHandle:!0,fieldHandler:N[ce]};break}}else T[Ln]===0&&(se={canHandle:!0});if(!se&&se!==null){se=null;for(var ce=0;ce<T[Ln];ce++)if(T[ce][Cr](J,ee)){se={canHandle:!0,handler:T[ce],fieldHandler:null};break}}de||(de=_[J]={}),de[ee]=se}return se}d.clearCache=function(){_={}},d.addSanitizer=function(J){J&&(Iv(T,J)||T.push(J),_={})},d.addFieldSanitizer=function(J){J&&(Iv(N,J)||N.push(J),_={})},d[kr]=function(J){if(J){var ee=oo(T,J);ee!==-1&&(T.splice(ee,1),_={}),Ht(T,function(se){se&&se[kr]&&se[kr](J)})}},d[ui]=function(J){if(J){var ee=oo(N,J);ee!==-1&&(N.splice(ee,1),_={}),Ht(T,function(se){se&&se[ui]&&se[ui](J)})}},d.isEmpty=function(){return pu(T)+pu(N)===0},d[Cr]=function(J,ee){var se=A(J,ee);return se?se[ni]:!1},d[gt]=function(J,ee,se,de){var ce=A(J,ee);if(ce&&ce[ni]){if(!ce||!ce[ni])return null;if(ce.handler)return ce.handler[gt](J,ee,se,de);if(!nn(ee)||bt(se)||se===pt)return null;var Ie=null,xe=$s(se);if((xe&8192)===8192){var ct=xe&-8193;if(Ie=se,!Ci(Ie[gt])||ct!==1&&ct!==2&&ct!==3&&(ct&4096)!==4096)return null}else xe===1||xe===2||xe===3||(xe&4096)===4096?Ie=U(J,ee,se):xe===4&&(Ie=U(J,ee,de?JSON.stringify(se):se));if(Ie)return k(ce,J,ee,xe,Ie,de)}return null},d.property=function(J,ee,se,de){var ce=A(J,ee);if(!ce||!ce[ni]||!nn(ee)||bt(se)||!Ci(se[gt]))return null;var Ie=$s(se[gt]);return Ie===0?null:k(ce,J,ee,Ie,se,de)};function k(J,ee,se,de,ce,Ie){if(J.handler)return J.handler.property(ee,se,ce,Ie);if(!bt(ce[Rn])){if((de&4096)===4096||!Br(ce[Rn]))return null;ce[gt]=ce[gt].toString()}return Y(J.fieldHandler,ee,se,de,ce)}function U(J,ee,se){return Ci(se)?{value:se}:null}function Y(J,ee,se,de,ce){if(ce&&J){var Ie=J.getSanitizer(ee,se,de,ce[Rn],ce.propertyType);if(Ie)if(de===4){var xe={},ct=ce[gt];tr(ct,function(wt,Hn){var Wn=ee+"."+se;if(Ci(Hn)){var Li=U(Wn,wt,Hn);Li=Y(J,Wn,wt,$s(Hn),Li),Li&&(xe[wt]=Li[gt])}}),ce[gt]=xe}else{var ht={path:ee,name:se,type:de,prop:ce,sanitizer:d};ce=Ie.call(d,ht)}}return ce}}return i.getFieldType=$s,i}();t.ActiveStatus=si,t.AppInsightsCore=go,t.BaseTelemetryPlugin=rm,t.DiagnosticLogger=nl,t.EventLatency=pd,t.EventPersistence=Sc,t.EventPropertyType=ig,t.EventsDiscardedReason=nc,t.FullVersionString=Tt,t.InternalAppInsightsCore=Wg,t.LoggingSeverity=Be,t.MinChannelPriorty=Ld,t.NotificationManager=Mt,t.PerfEvent=pn,t.PerfManager=Di,t.ProcessTelemetryContext=jg,t.SenderPostManager=Kg,t.TraceLevel=_s,t.Undefined=r,t.ValueKind=dp,t.ValueSanitizer=gd,t.Version=Vi,t._InternalLogMessage=rp,t.__getRegisteredEvents=ng,t._appendHeader=Pu,t._getAllResponseHeaders=ac,t._logInternalMessage=$p,t._testHookMaxUnloadHooksCb=nm,t._throwInternal=jr,t._warnToConsole=Fu,t.addEventHandler=Mm,t.addEventListeners=b,t.addPageHideEventListener=V,t.addPageShowEventListener=ye,t.addPageUnloadEventListener=q,t.areCookiesSupported=j,t.arrForEach=Ht,t.arrIndexOf=oo,t.arrMap=Vu,t.arrReduce=Wi,t.attachEvent=lp,t.blockDynamicConversion=ph,t.convertAllHeadersToMap=Qa,t.cookieAvailable=j,t.createCookieMgr=R,t.createDynamicConfig=po,t.createEnumStyle=xs,t.createGuid=Oa,t.createProcessTelemetryContext=Ql,t.createTraceParent=Do,t.createUniqueNamespace=tu,t.createUnloadHandlerContainer=Bp,t.dateNow=Xu,t.detachEvent=fp,t.disallowsSameSiteNone=Ot,t.doPerf=Lu,t.dumpObj=Nt,t.eventOff=$i,t.eventOn=cp,t.extend=Hu,t.findW3cTraceParent=uv,t.forceDynamicConversion=wa,t.formatErrorMessageXdr=xf,t.formatErrorMessageXhr=Ll,t.formatTraceParent=mc,t.generateW3CId=sv,t.getCommonSchemaMetaData=fd,t.getConsole=Xd,t.getCookieValue=au,t.getCrypto=Ap,t.getDocument=io,t.getDynamicConfigHandler=Yl,t.getExceptionName=Xa,t.getFieldValueType=$s,t.getGlobal=Pc,t.getGlobalInst=Hr,t.getHistory=Ws,t.getIEVersion=wg,t.getISOString=Va,t.getJSON=vo,t.getLocation=uc,t.getMsCrypto=qf,t.getNavigator=os,t.getPerformance=Ns,t.getResponseText=Ru,t.getSetValue=kf,t.getTenantId=Ti,t.getTime=Xi,t.getWindow=is,t.hasDocument=Ic,t.hasHistory=df,t.hasJSON=ko,t.hasNavigator=Tp,t.hasOwnProperty=pr,t.hasWindow=wv,t.isArray=Xt,t.isArrayValid=ju,t.isBeaconsSupported=Rg,t.isBoolean=no,t.isChromium=dd,t.isDate=fi,t.isDocumentObjectAvailable=Lo,t.isError=cn,t.isFetchSupported=Hf,t.isFunction=dn,t.isGreaterThanZero=zg,t.isIE=cc,t.isLatency=al,t.isNotTruthy=Hi,t.isNullOrUndefined=bt,t.isNumber=Kn,t.isObject=ei,t.isReactNative=Uf,t.isSampledFlag=Ug,t.isString=nn,t.isTruthy=Fr,t.isTypeof=Ut,t.isUint8ArrayAvailable=ms,t.isUndefined=et,t.isValidSpanId=ou,t.isValidTraceId=gs,t.isValidTraceParent=Jl,t.isValueAssigned=Ci,t.isValueKind=Br,t.isWindowObjectAvailable=Lt,t.isXhrSupported=jf,t.mergeEvtNamespace=Uu,t.newGuid=td,t.newId=Wf,t.normalizeJsName=wu,t.objDefineAccessors=mo,t.objForEachKey=tr,t.objFreeze=ro,t.objKeys=Ur,t.objSeal=Es,t.onConfigChange=Gl,t.openXhr=$u,t.optimizeObject=Gd,t.parseResponse=Yr,t.parseTraceParent=Gi,t.perfNow=_f,t.prependTransports=Ff,t.proxyAssign=Ja,t.proxyFunctionAs=qs,t.proxyFunctions=Fl,t.random32=jl,t.randomValue=Ng,t.removeEventHandler=f,t.removeEventListeners=P,t.removePageHideEventListener=ae,t.removePageShowEventListener=Se,t.removePageUnloadEventListener=B,t.safeGetCookieMgr=y,t.safeGetLogger=ed,t.sanitizeProperty=js,t.setEnableEnvMocks=Vd,t.setProcessTelemetryTimings=ul,t.setValue=ds,t.strContains=Zt,t.strEndsWith=Nd,t.strFunction=e,t.strObject=n,t.strPrototype=s,t.strStartsWith=yg,t.strTrim=Io,t.strUndefined=r,t.throwError=Un,t.toISOString=Va,t.useXDomainRequest=Mp})});var _k=Oe((yD,mk)=>{(function(t,e){typeof yD=="object"&&typeof mk<"u"?e(yD):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.oneDS=t.oneDS||{}))})(yD,function(t){"use strict";var e="REAL_TIME",n="NEAR_REAL_TIME",r="BEST_EFFORT",s="function",v="object",h="undefined",D="prototype",E=Object,I=E[D];function M(f,m){return f||m}function $(f,m){return f[m]}var W=void 0,ne=null,z="",_e="function",ge="object",Ae="prototype",Me="__proto__",ze="undefined",rt="constructor",Pt="Symbol",on="_polyfill",we="length",ke="name",Qe="call",dt="toString",It=M(Object),yt=$(It,Ae),Qt=M(String),un=$(Qt,Ae),Nn=M(Math),tt=M(Array),Zr=$(tt,Ae),Ze=$(Zr,"slice");function ut(f,m){try{return{v:f.apply(this,m)}}catch(b){return{e:b}}}function mn(f){return function(m){return typeof m===f}}function Jt(f){return typeof f===ze||f===ze}function Ut(f){return!bt(f)}function et(f){return f===ne||Jt(f)}function _r(f){return f===ne||!bt(f)}function bt(f){return!!f||f!==W}var Po=mn("string"),fn=mn(_e);function Yi(f){return!f&&et(f)?!1:!!f&&typeof f===ge}var nn=$(tt,"isArray"),dn=mn("number"),ei=mn("boolean");function Xt(f){return!!(f&&f.then&&fn(f.then))}var fi=$(It,"getOwnPropertyDescriptor");function Kn(f,m){return!!f&&yt.hasOwnProperty[Qe](f,m)}var no=M($(It,"hasOwn"),cn);function cn(f,m){return Kn(f,m)||!!fi(f,m)}function cr(f,m,b){if(f&&Yi(f)){for(var P in f)if(no(f,P)&&m[Qe](b||f,P,f[P])===-1)break}}var Hi={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Fr(f){var m={};if(m[Hi.c]=!0,m[Hi.e]=!0,f.l){m.get=function(){return f.l.v};var b=fi(f.l,"v");b&&b.set&&(m.set=function(P){f.l.v=P})}return cr(f,function(P,q){m[Hi[P]]=Ut(q)?m[Hi[P]]:q}),m}var Bn=$(It,"defineProperty");function pr(f,m,b){return Bn(f,m,Fr(b))}function Si(f,m,b,P,q){var B={};return cr(f,function(V,ae){Kr(B,V,m?ae:V,q),Kr(B,ae,b?ae:V,q)}),P?P(B):B}function Kr(f,m,b,P){Bn(f,m,{value:b,enumerable:!0,writable:!!P})}var tr=M(Qt),gn="[object Error]";function En(f,m){var b=z,P=yt[dt][Qe](f);P===gn&&(f={stack:tr(f.stack),message:tr(f.message),name:tr(f.name)});try{b=JSON.stringify(f,ne,m?typeof m=="number"?m:4:W),b=(b?b.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):ne)||tr(f)}catch(q){b=" - "+En(q,m)}return P+": "+b}function gr(f){throw new TypeError(f)}var mo=$(It,"freeze");function Q(f){return f}function Fe(f){return f[Me]||ne}var lt=$(It,"assign"),it=$(It,"keys");function Xn(f){return mo&&cr(f,function(m,b){(nn(b)||Yi(b))&&Xn(b)}),Nt(f)}var Nt=M(mo,Q),Un=M($(It,"getPrototypeOf"),Fe);function nr(f){return Si(f,1,0,Nt)}function yn(f){return Si(f,0,0,Nt)}var or=yn({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),hr="__tsUtils$gblCfg",Lr;function Ur(){var f;return typeof globalThis!==ze&&(f=globalThis),!f&&typeof self!==ze&&(f=self),!f&&typeof window!==ze&&(f=window),!f&&typeof global!==ze&&(f=global),f}function di(){if(!Lr){var f=ut(Ur).v||{};Lr=f[hr]=f[hr]||{}}return Lr}var ro=Es;function Es(f,m,b){var P=m?m[f]:ne;return function(q){var B=(q?q[f]:ne)||P;if(B||b){var V=arguments;return(B||b).apply(q,B?Ze[Qe](V,1):V)}gr('"'+tr(f)+'" not defined for '+En(q))}}var L=$(Nn,"max"),Ce=ro("slice",un),kt=ro("substring",un),lr=Es("substr",un,fe);function fe(f,m,b){return et(f)&&gr("Invalid "+En(f)),b<0?z:(m=m||0,m<0&&(m=L(m+f[we],0)),Jt(b)?Ce(f,m):Ce(f,m,m+b))}function F(f,m){return kt(f,0,m)}var te="_urid",ie;function K(){if(!ie){var f=di();ie=f.gblSym=f.gblSym||{k:{},s:{}}}return ie}var O;function me(f){var m={description:tr(f),toString:function(){return Pt+"("+f+")"}};return m[on]=!0,m}function Ue(f){var m=K();if(!no(m.k,f)){var b=me(f),P=it(m.s).length;b[te]=function(){return P+"_"+b[dt]()},m.k[f]=b,m.s[b[te]()]=tr(f)}return m.k[f]}function bn(f){!O&&(O={});var m,b=or[f];return b&&(m=O[b]=O[b]||me(Pt+"."+b)),m}var _n;function rr(){_n=di()}function vi(f){return Bn({toJSON:function(){return f}},"v",{value:f})}var Dr="window",Ii;function xn(f,m){var b;return function(){return!_n&&rr(),(!b||_n.lzy)&&(b=vi(ut(f,m).v)),b.v}}function oi(f){return!_n&&rr(),(!Ii||f===!1||_n.lzy)&&(Ii=vi(ut(Ur).v||ne)),Ii.v}function C(f,m){var b;if(!Ii||m===!1?b=oi(m):b=Ii.v,b&&b[f])return b[f];if(f===Dr)try{return window}catch{}return ne}var oe=xn(C,["document"]);function qe(){return!!Rt()}var Rt=xn(C,[Dr]);function rn(){return!!yr()}var yr=xn(C,["navigator"]),Rr=xn(function(){return!!ut(function(){return process&&(process.versions||{}).node}).v}),Gr,fr;function da(){return Gr=vi(ut(C,[Pt]).v),Gr}function bs(f){var m=(_n.lzy?0:Gr)||da();return m.v?m.v[f]:W}function Pc(){return!!Hr()}function Hr(){return!_n&&rr(),((_n.lzy?0:Gr)||da()).v}function Ic(f,m){var b=or[f];!_n&&rr();var P=(_n.lzy?0:Gr)||da();return P.v?P.v[b||f]:m?W:bn(f)}function io(f,m){!_n&&rr();var b=(_n.lzy?0:Gr)||da();return b.v?b.v(f):m?ne:me(f)}function wv(f){return!_n&&rr(),fr=(_n.lzy?0:fr)||vi(ut(bs,["for"]).v),(fr.v||Ue)(f)}function is(f){return!!f&&fn(f.next)}function Tp(f){return!_r(f)&&fn(f[Ic(3)])}var os;function df(f,m,b){if(f&&(is(f)||(!os&&(os=vi(Ic(3))),f=f[os.v]?f[os.v]():ne),is(f))){var P=W,q=W;try{for(var B=0;!(q=f.next()).done&&m[Qe](b||f,q.value,B,f)!==-1;)B++}catch(V){P={e:V},f.throw&&(q=ne,f.throw(P))}finally{try{q&&!q.done&&f.return&&f.return(q)}finally{if(P)throw P.e}}}}function Ws(f,m,b){return f.apply(m,b)}function Rd(f,m){return!Jt(m)&&f&&(nn(m)?Ws(f.push,f,m):is(m)||Tp(m)?df(m,function(b){f.push(b)}):f.push(m)),f}function ir(f,m,b){if(f)for(var P=f[we]>>>0,q=0;q<P&&!(q in f&&m[Qe](b||f,f[q],q,f)===-1);q++);}var Aa=ro("indexOf",Zr);function Pd(f,m,b){return((f?f.slice:ne)||Ze).apply(f,Ze[Qe](arguments,1))}var Ko=M($(It,"create"),gl);function gl(f){if(!f)return{};var m=typeof f;m!==ge&&m!==_e&&gr("Prototype must be an Object or function: "+En(f));function b(){}return b[Ae]=f,new b}var vn;function ss(f,m){var b=It.setPrototypeOf||function(P,q){var B;!vn&&(vn=vi((B={},B[Me]=[],B instanceof Array))),vn.v?P[Me]=q:cr(q,function(V,ae){return P[V]=ae})};return b(f,m)}function Nc(f,m,b){ut(pr,[m,ke,{v:f,c:!0,e:!1}]),m=ss(m,b);function P(){this[rt]=m,ut(pr,[this,ke,{v:f,c:!0,e:!1}])}return m[Ae]=b===ne?Ko(b):(P[Ae]=b[Ae],new P),m}function vf(f,m){m&&(f[ke]=m)}function mg(f,m,b){var P=b||Error,q=P[Ae][ke],B=Error.captureStackTrace;return Nc(f,function(){var V=this,ae=arguments;try{ut(vf,[P,f]);var ye=Ws(P,V,Ze[Qe](ae))||V;if(ye!==V){var Se=Un(V);Se!==Un(ye)&&ss(ye,Se)}return B&&B(ye,V[rt]),m&&m(ye,ae),ye}finally{ut(vf,[P,q])}},P)}function ws(){return(Date.now||pf)()}function pf(){return new Date().getTime()}function Rv(f){return function(b){return et(b)&&gr("strTrim called ["+En(b)+"]"),b&&b.replace&&(b=b.replace(f,z)),b}}var Bu=Rv(/^\s+|(?=\s)\s+$/g),Rs=Es("trim",un,Bu),Ht,oo,Vu;function vu(f){if(!f||typeof f!==ge)return!1;Vu||(Vu=qe()?Rt():!0);var m=!1;if(f!==Vu){oo||(Ht=Function[Ae][dt],oo=Ht[Qe](It));try{var b=Un(f);m=!b,m||(Kn(b,rt)&&(b=b[rt]),m=!!(b&&typeof b===_e&&Ht[Qe](b)===oo))}catch{}}return m}function Pv(){return ws()}var Iv=ro("indexOf",un),Wi=Es("startsWith",un,as);function as(f,m,b){Po(f)||gr("'"+En(f)+"' is not a string");var P=Po(m)?m:tr(m),q=b>0?b:0;return kt(f,q,q+P[we])===P}var Nv="ref",Ps="unref",zo="hasRef",uh="enabled";function _g(f,m,b){var P=!0,q=f?m(ne):ne,B;function V(){return P=!1,q&&q[Ps]&&q[Ps](),B}function ae(){q&&b(q),q=ne}function ye(){return q=m(q),P||V(),B}function Se(Be){!Be&&q&&ae(),Be&&!q&&ye()}return B={cancel:ae,refresh:ye},B[zo]=function(){return q&&q[zo]?q[zo]():P},B[Nv]=function(){return P=!0,q&&q[Nv]&&q[Nv](),B},B[Ps]=V,B=Bn(B,uh,{get:function(){return!!q},set:Se}),{h:B,dn:function(){q=ne}}}function Ep(f,m,b){var P=nn(m),q=P?m.length:0,B=(q>0?m[0]:P?W:m)||setTimeout,V=(q>1?m[1]:W)||clearTimeout,ae=b[0];b[0]=function(){ye.dn(),Ws(ae,W,Ze[Qe](arguments))};var ye=_g(f,function(Se){if(Se){if(Se.refresh)return Se.refresh(),Se;Ws(V,W,[Se])}return Ws(B,W,b)},function(Se){Ws(V,W,[Se])});return ye.h}function Xu(f,m){return Ep(!0,W,Ze[Qe](arguments))}function bp(f,m,b){return Ep(!0,f,Ze[Qe](arguments,1))}(oi()||{}).Symbol,(oi()||{}).Reflect;var tm="hasOwnProperty",Ov=function(f,m){return Ov=E.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,P){b.__proto__=P}||function(b,P){for(var q in P)P[tm](q)&&(b[q]=P[q])},Ov(f,m)};function Io(f,m){typeof m!==s&&m!==null&&gr("Class extends value "+String(m)+" is not a constructor or null"),Ov(f,m);function b(){this.constructor=f}f[D]=m===null?Ko(m):(b[D]=m[D],new b)}var gf,hf="constructor",Ks="prototype",us="function",Ju="_dynInstFuncs",wp="_isDynProxy",Is="_dynClass",kv="_dynCls$",Oc="_dynInstChk",hl=Oc,mf="_dfOpts",Id="_unknown_",xv="__proto__",Rp="_dyn"+xv,Pp="__dynProto$Gbl",Qu="_dynInstProto",Fv="useBaseInst",pu="setInstFuncs",kc=Object,Ns=kc.getPrototypeOf,_f=kc.getOwnPropertyNames,Nd=oi(),ml=Nd[Pp]||(Nd[Pp]={o:(gf={},gf[pu]=!0,gf[Fv]=!0,gf),n:1e3});function zs(f){return f&&(f===kc[Ks]||f===Array[Ks])}function yg(f){return zs(f)||f===Function[Ks]}function Ma(f){var m;if(f){if(Ns)return Ns(f);var b=f[xv]||f[Ks]||(f[hf]?f[hf][Ks]:null);m=f[Rp]||b,Kn(f,Rp)||(delete f[Qu],m=f[Rp]=f[Qu]||f[Rp],f[Qu]=b)}return m}function va(f,m){var b=[];if(_f)b=_f(f);else for(var P in f)typeof P=="string"&&Kn(f,P)&&b.push(P);if(b&&b.length>0)for(var q=0;q<b.length;q++)m(b[q])}function Gs(f,m,b){return m!==hf&&typeof f[m]===us&&(b||Kn(f,m))&&m!==xv&&m!==Ks}function Zu(f){gr("DynamicProto: "+f)}function Od(f){var m=Ko(null);return va(f,function(b){!m[b]&&Gs(f,b,!1)&&(m[b]=f[b])}),m}function _l(f,m){for(var b=f.length-1;b>=0;b--)if(f[b]===m)return!0;return!1}function yl(f,m,b,P){function q(ye,Se,Be){var pt=Se[Be];if(pt[wp]&&P){var vt=ye[Ju]||{};vt[hl]!==!1&&(pt=(vt[Se[Is]]||{})[Be]||pt)}return function(){return pt.apply(ye,arguments)}}var B=Ko(null);va(b,function(ye){B[ye]=q(m,b,ye)});for(var V=Ma(f),ae=[];V&&!yg(V)&&!_l(ae,V);)va(V,function(ye){!B[ye]&&Gs(V,ye,!Ns)&&(B[ye]=q(m,V,ye))}),ae.push(V),V=Ma(V);return B}function xc(f,m,b,P){var q=null;if(f&&Kn(b,Is)){var B=f[Ju]||Ko(null);if(q=(B[b[Is]]||Ko(null))[m],q||Zu("Missing ["+m+"] "+us),!q[Oc]&&B[hl]!==!1){for(var V=!Kn(f,m),ae=Ma(f),ye=[];V&&ae&&!yg(ae)&&!_l(ye,ae);){var Se=ae[m];if(Se){V=Se===P;break}ye.push(ae),ae=Ma(ae)}try{V&&(f[m]=q),q[Oc]=1}catch{B[hl]=!1}}}return q}function kd(f,m,b){var P=m[f];return P===b&&(P=Ma(m)[f]),typeof P!==us&&Zu("["+f+"] is not a "+us),P}function yf(f,m,b,P,q){function B(ye,Se){var Be=function(){var pt=xc(this,Se,ye,Be)||kd(Se,ye,Be);return pt.apply(this,arguments)};return Be[wp]=1,Be}if(!zs(f)){var V=b[Ju]=b[Ju]||Ko(null);if(!zs(V)){var ae=V[m]=V[m]||Ko(null);V[hl]!==!1&&(V[hl]=!!q),zs(ae)||va(b,function(ye){Gs(b,ye,!1)&&b[ye]!==P[ye]&&(ae[ye]=b[ye],delete b[ye],(!Kn(f,ye)||f[ye]&&!f[ye][wp])&&(f[ye]=B(f,ye)))})}}}function xd(f,m){if(Ns){for(var b=[],P=Ma(m);P&&!yg(P)&&!_l(b,P);){if(P===f)return!0;b.push(P),P=Ma(P)}return!1}return!0}function Fc(f,m){return Kn(f,Ks)?f.name||m||Id:((f||{})[hf]||{}).name||m||Id}function Bs(f,m,b,P){Kn(f,Ks)||Zu("theClass is an invalid class definition.");var q=f[Ks];xd(q,m)||Zu("["+Fc(f)+"] not in hierarchy of ["+Fc(m)+"]");var B=null;Kn(q,Is)?B=q[Is]:(B=kv+Fc(f,"_")+"$"+ml.n,ml.n++,q[Is]=B);var V=Bs[mf],ae=!!V[Fv];ae&&P&&P[Fv]!==void 0&&(ae=!!P[Fv]);var ye=Od(m),Se=yl(q,m,ye,ae);b(m,Se);var Be=!!Ns&&!!V[pu];Be&&P&&(Be=!!P[pu]),yf(q,B,m,ye,Be!==!1)}Bs[mf]=ml.o;var Sl=nr,pa=Sl({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),cs="toLowerCase",qa="blkVal",$r="length",gu="rdOnly",Vs="notify",Dl="warnToConsole",Cl="throwInternal",Ua="setDf",Sf="watch",Ha="logger",ec="apply",Go="push",Lv="splice",Lc="hdlr",No="cancel",Fd="initialize",Av="identifier",Df="isInitialized",Cf="value",Mv="getPlugin",Sg="name",Ac="time",ga="processNext",Xs="getProcessTelContext",pi="unload",Tf="loggingLevelConsole",Mc="createNew",qc="teardown",qv="messageId",Os="message",tc="isAsync",hu="diagLog",zn="_doTeardown",ha="update",ja="getNext",ks="setNextPlugin",Ld="protocol",xs="userAgent",nc="split",si="nodeType",Bo="replace",Nr="logInternalMessage",jt="type",Uc="handler",ma="status",mu="getResponseHeader",Js="getAllResponseHeaders",rc="isChildEvt",Fs="data",Ar="getCtx",_a="setCtx",Or="complete",ya="urlString",Ad="sendPOST",Sa="headers",Ni="timeout",Qs="setRequestHeader",$a;function _o(f,m){$a||($a=mg("AggregationError",function(P,q){q[$r]>1&&(P.errors=q[1])}));var b=f||"One or more errors occurred.";throw ir(m,function(P,q){b+=`
`.concat(q," > ").concat(En(P))}),new $a(b,m||[])}var Oo="Promise",Tl="rejected";function Hc(f,m){return Md(f,function(b){return m?m({status:"fulfilled",rejected:!1,value:b}):b},function(b){return m?m({status:Tl,rejected:!0,reason:b}):b})}function Md(f,m,b,P){var q=f;try{if(Xt(f))(m||b)&&(q=f.then(m,b));else try{m&&(q=m(f))}catch(B){if(b)q=b(B);else throw B}}finally{P&&_u(q,P)}return q}function _u(f,m){var b=f;return m&&(Xt(f)?f.finally?b=f.finally(m):b=f.then(function(P){return m(),P},function(P){throw m(),P}):m()),b}var Da=["pending","resolving","resolved",Tl],Ca="dispatchEvent",jc;function Ta(f){var m;return f&&f.createEvent&&(m=f.createEvent("Event")),!!m&&m.initEvent}function xi(f,m,b,P){var q=oe();!jc&&(jc=vi(!!ut(Ta,[q]).v));var B=jc.v?q.createEvent("Event"):P?new Event(m):{};if(b&&b(B),jc.v&&B.initEvent(m,!1,!0),B&&f[Ca])f[Ca](B);else{var V=f["on"+m];if(V)V(B);else{var ae=C("console");ae&&(ae.error||ae.log)(m,En(B))}}}var qd="unhandledRejection",$c=qd.toLowerCase(),yu=10,ls;function Ya(f){return fn(f)?f.toString():En(f)}function Su(f,m,b){var P=Pd(arguments,3),q=0,B=!1,V,ae=[],ye=!1,Se=null,Be;function pt(We,gt){try{ye=!0,Se&&Se.cancel(),Se=null;var Rn=f(function(Ln,Yn){ae.push(function(){try{var Cr=q===2?We:gt,kr=Jt(Cr)?V:fn(Cr)?Cr(V):Cr;Xt(kr)?kr.then(Ln,Yn):Cr?Ln(kr):q===3?Yn(kr):Ln(kr)}catch(ui){Yn(ui)}}),B&&ft()},P);return Rn}finally{}}function vt(We){return pt(void 0,We)}function Ge(We){var gt=We,Rn=We;return fn(We)&&(gt=function(Ln){return We&&We(),Ln},Rn=function(Ln){throw We&&We(),Ln}),pt(gt,Rn)}function Re(){return Da[q]}function ft(){if(ae.length>0){var We=ae.slice();ae=[],ye=!0,Se&&Se.cancel(),Se=null,m(We)}}function Ye(We,gt){return function(Rn){if(q===gt){if(We===2&&Xt(Rn)){q=1,Rn.then(Ye(2,1),Ye(3,1));return}q=We,B=!0,V=Rn,ft(),!ye&&We===3&&!Se&&(Se=Xu(St,yu))}}}function St(){if(!ye)if(ye=!0,Rr())process.emit(qd,V,Be);else{var We=Rt()||oi();!ls&&(ls=vi(ut(C,[Oo+"RejectionEvent"]).v)),xi(We,$c,function(gt){return pr(gt,"promise",{g:function(){return Be}}),gt.reason=V,gt},!!ls.v)}}Be={then:pt,catch:vt,finally:Ge},Bn(Be,"state",{get:Re}),Pc()&&(Be[Ic(11)]="IPromise");function Ve(){return"IPromise "+Re()+(B?" - "+Ya(V):"")}return Be.toString=Ve,function(){fn(b)||gr(Oo+": executor is not a function - "+Ya(b));var gt=Ye(3,0);try{b.call(Be,Ye(2,0),gt)}catch(Rn){gt(Rn)}}(),Be}function Ls(f){ir(f,function(m){try{m()}catch{}})}function El(f){var m=dn(f)?f:0;return function(b){Xu(function(){Ls(b)},m)}}function ic(f,m){return Su(ic,El(m),f,m)}var so;function oc(f,m){!so&&(so=vi(ut(C,[Oo]).v||null));var b=so.v;if(!b)return ic(f);fn(f)||gr(Oo+": executor is not a function - "+En(f));var P=0;function q(){return Da[P]}var B=new b(function(V,ae){function ye(Be){P=2,V(Be)}function Se(Be){P=3,ae(Be)}f(ye,Se)});return Bn(B,"state",{get:q}),B}var Du;function As(f,m){return!Du&&(Du=vi(oc)),Du.v.call(this,f,m)}var Yc=void 0,ai="",Ki="core",Ms="disabled",Wc="extensionConfig",Wa="processTelemetry",Uv="priority",fs="getPerfMgr",bl="Not dynamic - ",yo=/-([a-z])/g,Ud=/([^\w\d_$])/g,Vo=/^(\d+[\w\d_$])/;function Ka(f){return!et(f)}function za(f){var m=f;return m&&Po(m)&&(m=m[Bo](yo,function(b,P){return P.toUpperCase()}),m=m[Bo](Ud,"_"),m=m[Bo](Vo,function(b,P){return"_"+P})),m}function Hv(f,m){return f&&m?Iv(f,m)!==-1:!1}function Ef(f,m){var b=null,P=null;return fn(f)?b=f:P=f,function(){var q=arguments;if(b&&(P=b()),P)return P[m][ec](P,q)}}function Hd(f,m,b,P,q){f&&m&&b&&(q!==!1||Jt(f[m]))&&(f[m]=Ef(b,P))}function bf(f,m,b,P){return f&&m&&Yi(f)&&nn(b)&&ir(b,function(q){Po(q)&&Hd(f,q,m,q,P)}),f}function Ea(f){return f&&lt&&(f=E(lt({},f))),f}function Xo(f){try{return f.responseText}catch{}return null}function wl(f,m){return f?"XDomainRequest,Response:"+Xo(f)||"":m}function Dg(f,m){return f?"XMLHttpRequest,Status:"+f[ma]+",Response:"+Xo(f)||f.response||"":m}function Kc(f,m){return m&&(dn(m)?f=[m].concat(f):nn(m)&&(f=m.concat(f))),f}var zc="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ga="withCredentials",wf="timeout";function ch(f,m,b,P,q,B){P===void 0&&(P=!1),q===void 0&&(q=!1);function V(ye,Se,Be){try{ye[Se]=Be}catch{}}var ae=new XMLHttpRequest;return P&&V(ae,zc,P),b&&V(ae,Ga,b),ae.open(f,m,!q),b&&V(ae,Ga,b),!q&&B&&V(ae,wf,B),ae}function jv(f){var m={};if(Po(f)){var b=Rs(f)[nc](/[\r\n]+/);ir(b,function(P){if(P){var q=P.indexOf(": ");if(q!==-1){var B=Rs(P.substring(0,q))[cs](),V=Rs(P.substring(q+1));m[B]=V}else m[Rs(P)]=1}})}return m}function Rf(f,m,b){if(!f[b]&&m&&m[mu]){var P=m[mu](b);P&&(f[b]=Rs(P))}return f}var Gc="kill-duration",Ip="kill-duration-seconds",Cg="time-delta-millis";function Bc(f,m){var b={};return f[Js]?b=jv(f[Js]()):m&&(b=Rf(b,f,Cg),b=Rf(b,f,Gc),b=Rf(b,f,Ip)),b}var Tg="location",Pf="console",$v="JSON",Zs="crypto",Np="msCrypto",lh="ReactNative",jd="msie",Op="trident/",Yv="XMLHttpRequest",Rl=null,$d=null,Vc=!1,Cu=null,Pl=null;function Eg(f,m){var b=!1;if(f){try{if(b=m in f,!b){var P=f[D];P&&(b=m in P)}}catch{}if(!b)try{var q=new f;b=!Jt(q[m])}catch{}}return b}function Wv(f){if(f&&Vc){var m=C("__mockLocation");if(m)return m}return typeof location===v&&location?location:C(Tg)}function Il(){return typeof console!==h?console:C(Pf)}function Kv(){return!!(typeof JSON===v&&JSON||C($v)!==null)}function Tu(){return Kv()?JSON||C($v):null}function Mr(){return C(Zs)}function Xc(){return C(Np)}function ao(){var f=yr();return f&&f.product?f.product===lh:!1}function zv(){var f=yr();if(f&&(f[xs]!==$d||Rl===null)){$d=f[xs];var m=($d||ai)[cs]();Rl=Hv(m,jd)||Hv(m,Op)}return Rl}function Yd(f){return(Pl===null||f===!1)&&(Pl=rn()&&!!yr().sendBeacon),Pl}function Nl(f){var m=!1;try{m=!!C("fetch");var b=C("Request");m&&f&&b&&(m=Eg(b,"keepalive"))}catch{}return m}function Jc(){return Cu===null&&(Cu=typeof XDomainRequest!==h,Cu&&Jo()&&(Cu=Cu&&!Eg(C(Yv),"withCredentials"))),Cu}function Jo(){var f=!1;try{var m=C(Yv);f=!!m}catch{}return f}var Wd=4294967296,zi=4294967295,Jn=123456789,Eu=987654321,mi=!1,Ba=Jn,Qc=Eu;function Zc(f){f<0&&(f>>>=0),Ba=Jn+f&zi,Qc=Eu-f&zi,mi=!0}function bu(){try{var f=ws()&2147483647;Zc((Math.random()*Wd^f)+f)}catch{}}function ea(f){var m=0,b=Mr()||Xc();return b&&b.getRandomValues&&(m=b.getRandomValues(new Uint32Array(1))[0]&zi),m===0&&zv()&&(mi||bu(),m=If()&zi),m===0&&(m=Math.floor(Wd*Math.random()|0)),f||(m>>>=0),m}function If(f){Qc=36969*(Qc&65535)+(Qc>>16)&zi,Ba=18e3*(Ba&65535)+(Ba>>16)&zi;var m=(Qc<<16)+(Ba&65535)>>>0&zi|0;return f||(m>>>=0),m}function kp(f){f===void 0&&(f=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=ea()>>>0,P=0,q=ai;q[$r]<f;)P++,q+=m.charAt(b&63),b>>>=6,P===5&&(b=(ea()<<2&4294967295|b&3)>>>0,P=0);return q}var Nf="3.3.4",xp="."+kp(6),Of=0;function Ol(f){return f[si]===1||f[si]===9||!+f[si]}function Gv(f,m){var b=m[f.id];if(!b){b={};try{Ol(m)&&pr(m,f.id,{e:!1,v:b})}catch{}}return b}function ji(f,m){return m===void 0&&(m=!1),za(f+Of+++(m?"."+Nf:ai)+xp)}function kl(f){var m={id:ji("_aiData-"+(f||ai)+"."+Nf),accept:function(b){return Ol(b)},get:function(b,P,q,B){var V=b[m.id];return V?V[za(P)]:(B&&(V=Gv(m,b),V[za(P)]=q),q)},kill:function(b,P){if(b&&b[P])try{delete b[P]}catch{}}};return m}function uo(f){return f&&Yi(f)&&(f.isVal||f.fb||no(f,"v")||no(f,"mrg")||no(f,"ref")||f.set)}function sc(f,m,b){var P,q=b.dfVal||bt;if(m&&b.fb){var B=b.fb;nn(B)||(B=[B]);for(var V=0;V<B[$r];V++){var ae=B[V],ye=m[ae];if(q(ye)?P=ye:f&&(ye=f.cfg[ae],q(ye)&&(P=ye),f.set(f.cfg,tr(ae),ye)),q(P))break}}return!q(P)&&q(b.v)&&(P=b.v),P}function Bv(f,m,b){var P=b;if(b&&uo(b)&&(P=sc(f,m,b)),P){uo(P)&&(P=Bv(f,m,P));var q;nn(P)?(q=[],q[$r]=P[$r]):vu(P)&&(q={}),q&&(cr(P,function(B,V){V&&uo(V)&&(V=Bv(f,m,V)),q[B]=V}),P=q)}return P}function Kd(f,m,b,P){var q,B,V,ae=P,ye,Se,Be,pt;uo(ae)?(q=ae.isVal,B=ae.set,Be=ae[gu],pt=ae[qa],ye=ae.mrg,Se=ae.ref,!Se&&Jt(Se)&&(Se=!!ye),V=sc(f,m,ae)):V=P,pt&&f[qa](m,b);var vt,Ge=!0,Re=m[b];(Re||!et(Re))&&(vt=Re,Ge=!1,q&&vt!==V&&!q(vt)&&(vt=V,Ge=!0),B&&(vt=B(vt,V,m),Ge=vt===V)),Ge?V?vt=Bv(f,m,V):vt=V:(vu(vt)||nn(V))&&ye&&V&&(vu(V)||nn(V))&&cr(V,function(ft,Ye){Kd(f,vt,ft,Ye)}),f.set(m,b,vt),Se&&f.ref(m,b),Be&&f[gu](m,b)}var co=wv("[[ai_dynCfg_1]]"),zd=wv("[[ai_blkDynCfg_1]]"),Vv=wv("[[ai_frcDynCfg_1]]");function wu(f){if(f){var m;if(nn(f)?(m=[],m[$r]=f[$r]):vu(f)&&(m={}),m)return cr(f,function(b,P){m[b]=wu(P)}),m}return f}function Zt(f){if(f){var m=f[co]||f;if(m.cfg&&(m.cfg===f||m.cfg[co]===m))return m}return null}function Va(f){if(f&&(vu(f)||nn(f)))try{f[zd]=!0}catch{}return f}function Xa(f,m,b){var P=!1;return b&&!f[m.blkVal]&&(P=b[Vv],!P&&!b[zd]&&(P=vu(b)||nn(b))),P}function ds(f){gr("InvalidAccess:"+f)}var kf=["push","pop","shift","unshift","splice"],xl=function(f,m,b,P){f&&f[Cl](3,108,"".concat(b," [").concat(m,"] failed - ")+En(P))};function Ja(f,m,b){nn(m)&&ir(kf,function(P){var q=m[P];m[P]=function(){for(var B=[],V=0;V<arguments.length;V++)B[V]=arguments[V];var ae=q[ec](this,B);return xf(f,m,b,"Patching"),ae}})}function qs(f,m){var b=fi(f,m);return b&&b.get}function Fl(f,m,b,P){var q={n:b,h:[],trk:function(Se){Se&&Se.fn&&(Aa(q.h,Se)===-1&&q.h[Go](Se),f.trk(Se,q))},clr:function(Se){var Be=Aa(q.h,Se);Be!==-1&&q.h[Lv](Be,1)}},B=!0,V=!1;function ae(){B&&(V=V||Xa(ae,f,P),P&&!P[co]&&V&&(P=xf(f,P,b,"Converting")),B=!1);var Se=f.act;return Se&&q.trk(Se),P}ae[f.prop]={chng:function(){f.add(q)}};function ye(Se){if(P!==Se){ae[f.ro]&&!f.upd&&ds("["+b+"] is read-only:"+En(m)),B&&(V=V||Xa(ae,f,P),B=!1);var Be=V&&ae[f.rf];if(V)if(Be){cr(P,function(vt){P[vt]=Se?Se[vt]:Yc});try{cr(Se,function(vt,Ge){Gd(f,P,vt,Ge)}),Se=P}catch(vt){xl((f.hdlr||{})[Ha],b,"Assigning",vt),V=!1}}else P&&P[co]&&cr(P,function(vt){var Ge=qs(P,vt);if(Ge){var Re=Ge[f.prop];Re&&Re.chng()}});if(Se!==P){var pt=Se&&Xa(ae,f,Se);!Be&&pt&&(Se=xf(f,Se,b,"Converting")),P=Se,V=pt}f.add(q)}}pr(m,q.n,{g:ae,s:ye})}function Gd(f,m,b,P){if(m){var q=qs(m,b),B=q&&!!q[f.prop];B?m[b]=P:Fl(f,m,b,P)}return m}function Ru(f,m,b,P){if(m){var q=qs(m,b),B=q&&!!q[f.prop],V=P&&P[0],ae=P&&P[1],ye=P&&P[2];if(!B){if(ye)try{Va(m)}catch(Se){xl((f.hdlr||{})[Ha],b,"Blocking",Se)}try{Gd(f,m,b,m[b]),q=qs(m,b)}catch(Se){xl((f.hdlr||{})[Ha],b,"State",Se)}}V&&(q[f.rf]=V),ae&&(q[f.ro]=ae),ye&&(q[f.blkVal]=!0)}return m}function xf(f,m,b,P){try{cr(m,function(q,B){Gd(f,m,q,B)}),m[co]||(Bn(m,co,{get:function(){return f[Lc]}}),Ja(f,m,b))}catch(q){xl((f.hdlr||{})[Ha],b,P,q)}return m}var Ll="[[ai_",Ff="]]";function Xv(f){var m,b=io(Ll+"get"+f.uid+Ff),P=io(Ll+"ro"+f.uid+Ff),q=io(Ll+"rf"+f.uid+Ff),B=io(Ll+"blkVal"+f.uid+Ff),V=io(Ll+"dtl"+f.uid+Ff),ae=null,ye=null,Se;function Be(Re,ft){var Ye=Se.act;try{Se.act=Re,Re&&Re[V]&&(ir(Re[V],function(Ve){Ve.clr(Re)}),Re[V]=[]),ft({cfg:f.cfg,set:f.set.bind(f),setDf:f[Ua].bind(f),ref:f.ref.bind(f),rdOnly:f[gu].bind(f)})}catch(Ve){var St=f[Ha];throw St&&St[Cl](1,107,En(Ve)),Ve}finally{Se.act=Ye||null}}function pt(){if(ae){var Re=ae;ae=null,ye&&ye[No](),ye=null;var ft=[];if(ir(Re,function(Ye){if(Ye&&(Ye[V]&&(ir(Ye[V],function(St){St.clr(Ye)}),Ye[V]=null),Ye.fn))try{Be(Ye,Ye.fn)}catch(St){ft[Go](St)}}),ae)try{pt()}catch(Ye){ft[Go](Ye)}ft[$r]>0&&_o("Watcher error(s): ",ft)}}function vt(Re){if(Re&&Re.h[$r]>0){ae||(ae=[]),ye||(ye=Xu(function(){ye=null,pt()},0));for(var ft=0;ft<Re.h[$r];ft++){var Ye=Re.h[ft];Ye&&Aa(ae,Ye)===-1&&ae[Go](Ye)}}}function Ge(Re,ft){if(Re){var Ye=Re[V]=Re[V]||[];Aa(Ye,ft)===-1&&Ye[Go](ft)}}return Se=(m={prop:b,ro:P,rf:q},m[qa]=B,m[Lc]=f,m.add=vt,m[Vs]=pt,m.use=Be,m.trk=Ge,m),Se}function Jv(f,m){var b={fn:m,rm:function(){b.fn=null,f=null,m=null}};return pr(b,"toJSON",{v:function(){return"WatcherHandler"+(b.fn?"":"[X]")}}),f.use(b,m),b}function Fp(f,m,b){var P,q=Zt(m);if(q)return q;var B=ji("dyncfg",!0),V=m&&b!==!1?m:wu(m),ae;function ye(){ae[Vs]()}function Se(St,Ve,We){try{St=Gd(ae,St,Ve,We)}catch(gt){xl(f,Ve,"Setting value",gt)}return St[Ve]}function Be(St){return Jv(ae,St)}function pt(St,Ve){ae.use(null,function(We){var gt=ae.upd;try{Jt(Ve)||(ae.upd=Ve),St(We)}finally{ae.upd=gt}})}function vt(St,Ve){var We;return Ru(ae,St,Ve,(We={},We[0]=!0,We))[Ve]}function Ge(St,Ve){var We;return Ru(ae,St,Ve,(We={},We[1]=!0,We))[Ve]}function Re(St,Ve){var We;return Ru(ae,St,Ve,(We={},We[2]=!0,We))[Ve]}function ft(St,Ve){return Ve&&cr(Ve,function(We,gt){Kd(Ye,St,We,gt)}),St}var Ye=(P={uid:null,cfg:V},P[Ha]=f,P[Vs]=ye,P.set=Se,P[Ua]=ft,P[Sf]=Be,P.ref=vt,P[gu]=Ge,P[qa]=Re,P._block=pt,P);return pr(Ye,"uid",{c:!1,e:!1,w:!1,v:B}),ae=Xv(Ye),xf(ae,V,"config","Creating"),Ye}function fh(f,m){f?(f[Dl](m),f[Cl](2,108,m)):ds(m)}function Qa(f,m,b,P){var q=Fp(b,f||{},P);return m&&q[Ua](q.cfg,m),q}function Pu(f,m,b){var P=f[co]||f;return P.cfg&&(P.cfg===f||P.cfg[co]===P)?P[Sf](m):(fh(b,bl+En(f)),Qa(f,null,b)[Sf](m))}var Za="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Us=null;function Iu(){var f=C("Microsoft");return f&&(Us=f.ApplicationInsights),Us}function ac(f){var m=Us;return!m&&f.disableDbgExt!==!0&&(m=Us||Iu()),m?m.ChromeDbgExt:null}var vs,Al="warnToConsole",bg="AI (Internal): ",el="AI: ",Lp="AITR_",Lf={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Ml=(vs={},vs[0]=null,vs[1]="errorToConsole",vs[2]=Al,vs[3]="debugToConsole",vs);function Af(f){return f?'"'+f[Bo](/\"/g,ai)+'"':ai}function Nu(f,m){var b=Il();if(b){var P="log";b[f]&&(P=f),fn(b[P])&&b[P](m)}}var Hs=function(){function f(m,b,P,q){P===void 0&&(P=!1);var B=this;B[qv]=m,B[Os]=(P?el:bg)+m;var V=ai;Kv()&&(V=Tu().stringify(q));var ae=(b?" message:"+Af(b):ai)+(q?" props:"+Af(V):ai);B[Os]+=ae}return f.dataType="MessageData",f}();function ql(f,m){return(f||{})[Ha]||new Mf(m)}var Mf=function(){function f(m){this.identifier="DiagnosticLogger",this.queue=[];var b=0,P={},q,B,V,ae,ye;Bs(f,this,function(Se){ye=pt(m||{}),Se.consoleLoggingLevel=function(){return q},Se[Cl]=function(Re,ft,Ye,St,Ve){Ve===void 0&&(Ve=!1);var We=new Hs(ft,Ye,Ve,St);if(ae)throw En(We);var gt=Ml[Re]||Al;if(Jt(We[Os]))Ge("throw"+(Re===1?"Critical":"Warning"),We);else{if(Ve){var Rn=+We[qv];!P[Rn]&&q>=Re&&(Se[gt](We[Os]),P[Rn]=!0)}else q>=Re&&Se[gt](We[Os]);Be(Re,We)}},Se.debugToConsole=function(Re){Nu("debug",Re),Ge("warning",Re)},Se[Dl]=function(Re){Nu("warn",Re),Ge("warning",Re)},Se.errorToConsole=function(Re){Nu("error",Re),Ge("error",Re)},Se.resetInternalMessageCount=function(){b=0,P={}},Se[Nr]=Be,Se[pi]=function(Re){ye&&ye.rm(),ye=null};function Be(Re,ft){if(!vt()){var Ye=!0,St=Lp+ft[qv];if(P[St]?Ye=!1:P[St]=!0,Ye&&(Re<=B&&(Se.queue[Go](ft),b++,Ge(Re===1?"error":"warn",ft)),b===V)){var Ve="Internal events throttle limit per PageView reached for this app.",We=new Hs(23,Ve,!1);Se.queue[Go](We),Re===1?Se.errorToConsole(Ve):Se[Dl](Ve)}}}function pt(Re){return Pu(Qa(Re,Lf,Se).cfg,function(ft){var Ye=ft.cfg;q=Ye[Tf],B=Ye.loggingLevelTelemetry,V=Ye.maxMessageLimit,ae=Ye.enableDebug})}function vt(){return b>=V}function Ge(Re,ft){var Ye=ac(m||{});Ye&&Ye[hu]&&Ye[hu](Re,ft)}})}return f.__ieDyn=1,f}();function Bd(f){return f||new Mf}function lo(f,m,b,P,q,B){B===void 0&&(B=!1),Bd(f)[Cl](m,b,P,q,B)}function Ou(f,m){Bd(f)[Dl](m)}var fo="ctx",Vd="ParentContextKey",uc="ChildrenContextKey",Xd=function(){function f(m,b,P){var q=this;if(q.start=ws(),q[Sg]=m,q[tc]=P,q[rc]=function(){return!1},fn(b)){var B;pr(q,"payload",{g:function(){return!B&&fn(b)&&(B=b(),b=null),B}})}q[Ar]=function(V){return V?V===f[Vd]||V===f[uc]?q[V]:(q[fo]||{})[V]:null},q[_a]=function(V,ae){if(V)if(V===f[Vd])q[V]||(q[rc]=function(){return!0}),q[V]=ae;else if(V===f[uc])q[V]=ae;else{var ye=q[fo]=q[fo]||{};ye[V]=ae}},q[Or]=function(){var V=0,ae=q[Ar](f[uc]);if(nn(ae))for(var ye=0;ye<ae[$r];ye++){var Se=ae[ye];Se&&(V+=Se[Ac])}q[Ac]=ws()-q.start,q.exTime=q[Ac]-V,q[Or]=function(){}}}return f.ParentContextKey="parent",f.ChildrenContextKey="childEvts",f}(),ko="CoreUtils.doPerf";function vo(f,m,b,P,q){if(f){var B=f;if(B[fs]&&(B=B[fs]()),B){var V=void 0,ae=B[Ar](ko);try{if(V=B.create(m(),P,q),V){if(ae&&V[_a]&&(V[_a](Xd[Vd],ae),ae[Ar]&&ae[_a])){var ye=ae[Ar](Xd[uc]);ye||(ye=[],ae[_a](Xd[uc],ye)),ye[Go](V)}return B[_a](ko,V),b(V)}}catch(Se){V&&V[_a]&&V[_a]("exception",Se)}finally{V&&B.fire(V),B[_a](ko,ae)}}}return b()}var Ap=kl("plugin");function qf(f){return Ap.get(f,"state",{},!0)}var Uf="TelemetryPluginChain",cc="_hasRun",wg="_getTelCtx",Rg=0;function Hf(f,m,b){for(;f;){if(f[Mv]()===b)return f;f=f[ja]()}return $f([b],m.config||{},m)}function Mp(f,m,b,P){var q=null,B=[];m||(m=Qa({},null,b[Ha])),P!==null&&(q=P?Hf(f,b,P):f);var V={_next:ye,ctx:{core:function(){return b},diagLog:function(){return ql(b,m.cfg)},getCfg:function(){return m.cfg},getExtCfg:Be,getConfig:pt,hasNext:function(){return!!q},getNext:function(){return q},setNext:function(Ge){q=Ge},iterate:vt,onComplete:ae}};function ae(Ge,Re){for(var ft=[],Ye=2;Ye<arguments.length;Ye++)ft[Ye-2]=arguments[Ye];Ge&&B[Go]({func:Ge,self:Jt(Re)?V.ctx:Re,args:ft})}function ye(){var Ge=q;if(q=Ge?Ge[ja]():null,!Ge){var Re=B;Re&&Re[$r]>0&&(ir(Re,function(ft){try{ft.func.call(ft.self,ft.args)}catch(Ye){lo(b[Ha],2,73,"Unexpected Exception during onComplete - "+En(Ye))}}),B=[])}return Ge}function Se(Ge,Re){var ft=null,Ye=m.cfg;if(Ye&&Ge){var St=Ye[Wc];!St&&Re&&(St={}),Ye[Wc]=St,St=m.ref(Ye,Wc),St&&(ft=St[Ge],!ft&&Re&&(ft={}),St[Ge]=ft,ft=m.ref(St,Ge))}return ft}function Be(Ge,Re){var ft=Se(Ge,!0);return Re&&cr(Re,function(Ye,St){if(et(ft[Ye])){var Ve=m.cfg[Ye];(Ve||!et(Ve))&&(ft[Ye]=Ve)}Kd(m,ft,Ye,St)}),m[Ua](ft,Re)}function pt(Ge,Re,ft){ft===void 0&&(ft=!1);var Ye,St=Se(Ge,!1),Ve=m.cfg;return St&&(St[Re]||!et(St[Re]))?Ye=St[Re]:(Ve[Re]||!et(Ve[Re]))&&(Ye=Ve[Re]),Ye||!et(Ye)?Ye:ft}function vt(Ge){for(var Re;Re=V._next();){var ft=Re[Mv]();ft&&Ge(ft)}}return V}function jf(f,m,b,P){var q=Qa(m),B=Mp(f,q,b,P),V=B.ctx;function ae(Se){var Be=B._next();return Be&&Be[Wa](Se,V),!Be}function ye(Se,Be){return Se===void 0&&(Se=null),nn(Se)&&(Se=$f(Se,q.cfg,b,Be)),jf(Se||V[ja](),q.cfg,b,Be)}return V[ga]=ae,V[Mc]=ye,V}function qp(f,m,b){var P=Qa(m.config),q=Mp(f,P,m,b),B=q.ctx;function V(ye){var Se=q._next();return Se&&Se[pi](B,ye),!Se}function ae(ye,Se){return ye===void 0&&(ye=null),nn(ye)&&(ye=$f(ye,P.cfg,m,Se)),qp(ye||B[ja](),m,Se)}return B[ga]=V,B[Mc]=ae,B}function Pg(f,m,b){var P=Qa(m.config),q=Mp(f,P,m,b),B=q.ctx;function V(ye){return B.iterate(function(Se){fn(Se[ha])&&Se[ha](B,ye)})}function ae(ye,Se){return ye===void 0&&(ye=null),nn(ye)&&(ye=$f(ye,P.cfg,m,Se)),Pg(ye||B[ja](),m,Se)}return B[ga]=V,B[Mc]=ae,B}function $f(f,m,b,P){var q=null,B=!P;if(nn(f)&&f[$r]>0){var V=null;ir(f,function(ae){if(!B&&P===ae&&(B=!0),B&&ae&&fn(ae[Wa])){var ye=Ig(ae,m,b);q||(q=ye),V&&V._setNext(ye),V=ye}})}return P&&!q?$f([P],m,b):q}function Ig(f,m,b){var P=null,q=fn(f[Wa]),B=fn(f[ks]),V;f?V=f[Av]+"-"+f[Uv]+"-"+Rg++:V="Unknown-0-"+Rg++;var ae={getPlugin:function(){return f},getNext:function(){return P},processTelemetry:Be,unload:pt,update:vt,_id:V,_setNext:function(Ge){P=Ge}};function ye(){var Ge;return f&&fn(f[wg])&&(Ge=f[wg]()),Ge||(Ge=jf(ae,m,b)),Ge}function Se(Ge,Re,ft,Ye,St){var Ve=!1,We=f?f[Av]:Uf,gt=Ge[cc];return gt||(gt=Ge[cc]={}),Ge.setNext(P),f&&vo(Ge[Ki](),function(){return We+":"+ft},function(){gt[V]=!0;try{var Rn=P?P._id:ai;Rn&&(gt[Rn]=!1),Ve=Re(Ge)}catch(Yn){var Ln=P?gt[P._id]:!0;Ln&&(Ve=!0),(!P||!Ln)&&lo(Ge[hu](),1,73,"Plugin ["+We+"] failed during "+ft+" - "+En(Yn)+", run flags: "+En(gt))}},Ye,St),Ve}function Be(Ge,Re){Re=Re||ye();function ft(Ye){if(!f||!q)return!1;var St=qf(f);return St[qc]||St[Ms]?!1:(B&&f[ks](P),f[Wa](Ge,Ye),!0)}Se(Re,ft,"processTelemetry",function(){return{item:Ge}},!Ge.sync)||Re[ga](Ge)}function pt(Ge,Re){function ft(){var Ye=!1;if(f){var St=qf(f),Ve=f[Ki]||St[Ki];f&&(!Ve||Ve===Ge.core())&&!St[qc]&&(St[Ki]=null,St[qc]=!0,St[Df]=!1,f[qc]&&f[qc](Ge,Re)===!0&&(Ye=!0))}return Ye}Se(Ge,ft,"unload",function(){},Re[tc])||Ge[ga](Re)}function vt(Ge,Re){function ft(){var Ye=!1;if(f){var St=qf(f),Ve=f[Ki]||St[Ki];f&&(!Ve||Ve===Ge.core())&&!St[qc]&&f[ha]&&f[ha](Ge,Re)===!0&&(Ye=!0)}return Ye}Se(Ge,ft,"update",function(){},!1)||Ge[ga](Re)}return Nt(ae)}function lc(){var f=[];function m(P){P&&f[Go](P)}function b(P,q){ir(f,function(B){try{B(P,q)}catch(V){lo(P[hu](),2,73,"Unexpected error calling unload handler - "+En(V))}}),f=[]}return{add:m,run:b}}function Ul(){var f=[];function m(P){var q=f;f=[],ir(q,function(B){try{(B.rm||B.remove).call(B)}catch(V){lo(P,2,73,"Unloading:"+En(V))}})}function b(P){P&&Rd(f,P)}return{run:m,add:b}}var Qv,eu="getPlugin",Jd=(Qv={},Qv[Wc]={isVal:Ka,v:{}},Qv),Yf=function(){function f(){var m=this,b,P,q,B,V;Se(),Bs(f,m,function(Be){Be[Fd]=function(pt,vt,Ge,Re){ye(pt,vt,Re),b=!0},Be[qc]=function(pt,vt){var Ge,Re=Be[Ki];if(!Re||pt&&Re!==pt[Ki]())return;var ft,Ye=!1,St=pt||qp(null,Re,q&&q[eu]?q[eu]():q),Ve=vt||(Ge={reason:0},Ge[tc]=!1,Ge);function We(){Ye||(Ye=!0,B.run(St,vt),V.run(St[hu]()),ft===!0&&St[ga](Ve),Se())}return!Be[zn]||Be[zn](St,Ve,We)!==!0?We():ft=!0,ft},Be[ha]=function(pt,vt){var Ge=Be[Ki];if(!Ge||pt&&Ge!==pt[Ki]())return;var Re,ft=!1,Ye=pt||Pg(null,Ge,q&&q[eu]?q[eu]():q),St=vt||{reason:0};function Ve(){ft||(ft=!0,ye(Ye.getCfg(),Ye.core(),Ye[ja]()))}return!Be._doUpdate||Be._doUpdate(Ye,St,Ve)!==!0?Ve():Re=!0,Re},Hd(Be,"_addUnloadCb",function(){return B},"add"),Hd(Be,"_addHook",function(){return V},"add"),pr(Be,"_unloadHooks",{g:function(){return V}})}),m[hu]=function(Be){return ae(Be)[hu]()},m[Df]=function(){return b},m.setInitialized=function(Be){b=Be},m[ks]=function(Be){q=Be},m[ga]=function(Be,pt){pt?pt[ga](Be):q&&fn(q[Wa])&&q[Wa](Be,null)},m._getTelCtx=ae;function ae(Be){Be===void 0&&(Be=null);var pt=Be;if(!pt){var vt=P||jf(null,{},m[Ki]);q&&q[eu]?pt=vt[Mc](null,q[eu]):pt=vt[Mc](null,q)}return pt}function ye(Be,pt,vt){Qa(Be,Jd,ql(pt)),!vt&&pt&&(vt=pt[Xs]()[ja]());var Ge=q;q&&q[eu]&&(Ge=q[eu]()),m[Ki]=pt,P=jf(vt,Be,pt,Ge)}function Se(){b=!1,m[Ki]=null,P=null,q=null,V=Ul(),B=lc()}}return f.__ieDyn=1,f}(),ba="",Hl="NoResponseBody",Ng="&"+Hl+"=true",jl="POST",dh=function(){function f(){var m=0,b,P,q,B,V,ae,ye,Se,Be,pt,vt,Ge,Re,ft;Bs(f,this,function(Ye,St){var Ve=!0;Vi(),Ye[Fd]=function(Tt,qt){q=qt,P&&lo(q,1,28,"Sender is already initialized"),Ye.SetConfig(Tt),P=!0},Ye._getDbgPlgTargets=function(){return[P,B,ae,b]},Ye.SetConfig=function(Tt){try{if(V=Tt.senderOnCompleteCallBack||{},ae=!!Tt.disableCredentials,ye=Tt.fetchCredentials,B=!!Tt.isOneDs,b=!!Tt.enableSendPromise,Be=!!Tt.disableXhr,pt=!!Tt.disableBeacon,vt=!!Tt.disableBeaconSync,ft=Tt.timeWrapper,Re=!!Tt.addNoResponse,Ge=!!Tt.disableFetchKeepAlive,Se={sendPOST:ui},B||(Ve=!1),ae){var qt=Wv();qt&&qt.protocol&&qt.protocol[cs]()==="file:"&&(Ve=!1)}return!0}catch{}return!1},Ye.getSyncFetchPayload=function(){return m},Ye.getSenderInst=function(Tt,qt){return Tt&&Tt[$r]?Ln(Tt,qt):null},Ye.getFallbackInst=function(){return Se},Ye[zn]=function(Tt,qt){Vi()};function We(Tt,qt){Yn(qt,200,{},Tt)}function gt(Tt,qt){lo(q,2,26,"Failed to send telemetry.",{message:Tt}),Yn(qt,400,{})}function Rn(Tt){gt("No endpoint url is provided for the batch",Tt)}function Ln(Tt,qt){for(var ar,Gn=0,tn=null,Pr=0;tn==null&&Pr<Tt[$r];)Gn=Tt[Pr],!Be&&Gn===1?Jc()?tn=An:Jo()&&(tn=ui):Gn===2&&Nl(qt)&&(!qt||!Ge)?tn=ni:Gn===3&&Yd()&&(qt?!vt:!pt)&&(tn=kr),Pr++;return tn?(ar={_transport:Gn,_isSync:qt},ar[Ad]=tn,ar):null}function Yn(Tt,qt,ar,Gn){try{Tt&&Tt(qt,ar,Gn)}catch{}}function Cr(Tt,qt){var ar=yr(),Gn=Tt[ya];if(!Gn)return Rn(qt),!0;Gn=Tt[ya]+(Re?Ng:ba);var tn=Tt[Fs],Pr=B?tn:new Blob([tn],{type:"text/plain;charset=UTF-8"}),sn=ar.sendBeacon(Gn,Pr);return sn}function kr(Tt,qt,ar){var Gn=Tt[Fs];try{if(Gn)if(Cr(Tt,qt))We(ba,qt);else{var tn=V&&V.beaconOnRetry;tn&&fn(tn)?tn(Tt,qt,Cr):(Se&&Se[Ad](Tt,qt,!0),lo(q,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Pr){B&&Ou(q,"Failed to send telemetry using sendBeacon API. Ex:"+En(Pr)),Yn(qt,B?0:400,{},ba)}}function ui(Tt,qt,ar){var Gn,tn,Pr,sn=Tt[Sa]||{};!ar&&b&&(Gn=As(function(Ti,ms){tn=Ti,Pr=ms})),B&&ar&&Tt.disableXhrSync&&(ar=!1);var Lo=Tt[ya];if(!Lo){Rn(qt),tn&&tn(!1);return}var Lt=ch(jl,Lo,Ve,!0,ar,Tt[Ni]);B||Lt[Qs]("Content-type","application/json"),ir(it(sn),function(Ti){Lt[Qs](Ti,sn[Ti])}),Lt.onreadystatechange=function(){B||(Ci(Lt),Lt.readyState===4&&tn&&tn(!0))},Lt.onload=function(){B&&Ci(Lt)};function Ci(Ti){var ms=V&&V.xhrOnComplete,al=ms&&fn(ms);if(al)ms(Ti,qt,Tt);else{var js=Xo(Ti);Yn(qt,Ti[ma],Bc(Ti,B),js)}}return Lt.onerror=function(Ti){Yn(qt,B?Lt[ma]:400,Bc(Lt,B),B?ba:Dg(Lt)),Pr&&Pr(Ti)},Lt.ontimeout=function(){Yn(qt,B?Lt[ma]:500,Bc(Lt,B),B?ba:Dg(Lt)),tn&&tn(!1)},Lt.send(Tt[Fs]),Gn}function ni(Tt,qt,ar){var Gn,tn=Tt[ya],Pr=Tt[Fs],sn=B?Pr:new Blob([Pr],{type:"application/json"}),Lo,Lt,Ci,Ti=new Headers,ms=Pr[$r],al=!1,js=!1,fd=Tt[Sa]||{},au=(Gn={method:jl,body:sn},Gn[Za]=!0,Gn);Tt.headers&&it(Tt.headers)[$r]>0&&(ir(it(fd),function(Br){Ti.append(Br,fd[Br])}),au[Sa]=Ti),ye?au.credentials=ye:Ve&&B&&(au.credentials="include"),ar&&(au.keepalive=!0,m+=ms,B?Tt._sendReason===2&&(al=!0,Re&&(tn+=Ng)):al=!0);var Oa=new Request(tn,au);try{Oa[Za]=!0}catch{}if(!ar&&b&&(Lo=As(function(Br,Ji){Lt=Br,Ci=Ji})),!tn){Rn(qt),Lt&&Lt(!1);return}function Hu(Br){Yn(qt,B?0:400,{},B?ba:Br)}function Xi(Br,Ji,Ao){var ju=Br[ma],ul=V.fetchOnComplete;ul&&fn(ul)?ul(Br,qt,Ao||ba,Ji):Yn(qt,ju,{},Ao||ba)}try{Hc(fetch(B?tn:Oa,B?au:null),function(Br){if(ar&&(m-=ms,ms=0),!js)if(js=!0,Br.rejected)Hu(Br.reason&&Br.reason[Os]),Ci&&Ci(Br.reason);else{var Ji=Br[Cf];try{!B&&!Ji.ok?(Hu(Ji.statusText),Lt&&Lt(!1)):B&&!Ji.body?(Xi(Ji,null,ba),Lt&&Lt(!0)):Hc(Ji.text(),function(Ao){Xi(Ji,Tt,Ao[Cf]),Lt&&Lt(!0)})}catch(Ao){Hu(En(Ao)),Ci&&Ci(Ao)}}})}catch(Br){js||(Hu(En(Br)),Ci&&Ci(Br))}return al&&!js&&(js=!0,Yn(qt,200,{}),Lt&&Lt(!0)),B&&!js&&Tt[Ni]>0&&ft&&ft.set(function(){js||(js=!0,Yn(qt,500,{}),Lt&&Lt(!0))},Tt[Ni]),Lo}function An(Tt,qt,ar){var Gn=Rt(),tn=new XDomainRequest,Pr=Tt[Fs];tn.onload=function(){var Ti=Xo(tn),ms=V&&V.xdrOnComplete;ms&&fn(ms)?ms(tn,qt,Tt):Yn(qt,200,{},Ti)},tn.onerror=function(){Yn(qt,400,{},B?ba:wl(tn))},tn.ontimeout=function(){Yn(qt,500,{})},tn.onprogress=function(){};var sn=Gn&&Gn.location&&Gn.location[Ld]||"",Lo=Tt[ya];if(!Lo){Rn(qt);return}if(!B&&Lo.lastIndexOf(sn,0)!==0){var Lt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";lo(q,2,40,". "+Lt),gt(Lt,qt);return}var Ci=B?Lo:Lo[Bo](/^(https?:)/,"");tn.open(jl,Ci),Tt[Ni]&&(tn[Ni]=Tt[Ni]),tn.send(Pr),B&&ar?ft&&ft.set(function(){tn.send(Pr)},0):tn.send(Pr)}function Vi(){m=0,P=!1,b=!1,q=null,B=null,V=null,ae=null,ye=null,Se=null,Be=!1,pt=!1,vt=!1,Ge=!1,Re=!1,ft=null}})}return f.__ieDyn=1,f}(),Wf="on",Og="attachEvent",Up="addEventListener",fc="detachEvent",dc="removeEventListener",$l="events",tu="visibilitychange",ku="pagehide",Kf="pageshow",Qd="unload",Zd="beforeunload",zf=ji("aiEvtPageHide"),ps=ji("aiEvtPageShow"),Gf=/\.[\.]+/g,kg=/[\.]+$/,vh=1,Yl=kl("events"),ph=/^([^.]*)(?:\.(.+)|)/;function wa(f){return f&&f[Bo]?f[Bo](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ai):f}function vc(f,m){var b;if(m){var P=ai;nn(m)?(P=ai,ir(m,function(B){B=wa(B),B&&(B[0]!=="."&&(B="."+B),P+=B)})):P=wa(m),P&&(P[0]!=="."&&(P="."+P),f=(f||ai)+P)}var q=ph.exec(f||ai)||[];return b={},b[jt]=q[1],b.ns=(q[2]||ai).replace(Gf,".").replace(kg,ai)[nc](".").sort().join("."),b}function Wl(f,m,b){b===void 0&&(b=!0);var P=Yl.get(f,$l,{},b),q=P[m];return q||(q=P[m]=[]),q}function xg(f,m,b,P){f&&m&&m[jt]&&(f[dc]?f[dc](m[jt],b,P):f[fc]&&f[fc](Wf+m[jt],b))}function Zv(f,m,b,P){var q=!1;return f&&m&&m[jt]&&b&&(f[Up]?(f[Up](m[jt],b,P),q=!0):f[Og]&&(f[Og](Wf+m[jt],b),q=!0)),q}function Fg(f,m,b,P){for(var q=m[$r];q--;){var B=m[q];B&&(!b.ns||b.ns===B.evtName.ns)&&(!P||P(B))&&(xg(f,B.evtName,B[Uc],B.capture),m[Lv](q,1))}}function Hp(f,m,b){if(m[jt])Fg(f,Wl(f,m[jt]),m,b);else{var P=Yl.get(f,$l,{});cr(P,function(q,B){Fg(f,B,m,b)}),it(P)[$r]===0&&Yl.kill(f,$l)}}function ev(f,m){var b;return m?(nn(m)?b=[f].concat(m):b=[f,m],b=vc("xx",b).ns[nc](".")):b=f,b}function Kl(f,m,b,P,q){var B;q===void 0&&(q=!1);var V=!1;if(f)try{var ae=vc(m,P);if(V=Zv(f,ae,b,q),V&&Yl.accept(f)){var ye=(B={guid:vh++,evtName:ae},B[Uc]=b,B.capture=q,B);Wl(f,ae.type)[Go](ye)}}catch{}return V}function ta(f,m,b,P,q){if(q===void 0&&(q=!1),f)try{var B=vc(m,P),V=!1;Hp(f,B,function(ae){return B.ns&&!b||ae[Uc]===b?(V=!0,!0):!1}),V||xg(f,B,b,q)}catch{}}function tv(f,m,b){var P=!1,q=Rt();q&&(P=Kl(q,f,m,b),P=Kl(q.body,f,m,b)||P);var B=oe();return B&&(P=Kl(B,f,m,b)||P),P}function zl(f,m,b){var P=Rt();P&&(ta(P,f,m,b),ta(P.body,f,m,b));var q=oe();q&&ta(q,f,m,b)}function xo(f,m,b,P){var q=!1;return m&&f&&f[$r]>0&&ir(f,function(B){B&&(!b||Aa(b,B)===-1)&&(q=tv(B,m,P)||q)}),q}function na(f,m,b,P){var q=!1;return m&&f&&nn(f)&&(q=xo(f,m,b,P),!q&&b&&b[$r]>0&&(q=xo(f,m,null,P))),q}function Bf(f,m,b){f&&nn(f)&&ir(f,function(P){P&&zl(P,m,b)})}function Lg(f,m,b){return na([Zd,Qd,ku],f,m,b)}function Ag(f,m){Bf([Zd,Qd,ku],f,m)}function po(f,m,b){function P(V){var ae=oe();f&&ae&&ae.visibilityState==="hidden"&&f(V)}var q=ev(zf,b),B=xo([ku],f,m,q);return(!m||Aa(m,tu)===-1)&&(B=xo([tu],P,m,q)||B),!B&&m&&(B=po(f,null,b)),B}function Gl(f,m){var b=ev(zf,m);Bf([ku],f,b),Bf([tu],null,b)}function Vf(f,m,b){function P(V){var ae=oe();f&&ae&&ae.visibilityState==="visible"&&f(V)}var q=ev(ps,b),B=xo([Kf],f,m,q);return B=xo([tu],P,m,q)||B,!B&&m&&(B=Vf(f,null,b)),B}function gh(f,m){var b=ev(ps,m);Bf([Kf],f,b),Bf([tu],null,b)}var Mg="",Xf="timings",Fo="value",ep="kind",tl="length",Bl="processTelemetryStart",xu,Jf="4.3.4",tp="1DS-Web-JS-"+Jf,Gt=I.hasOwnProperty,pc=(xu={},xu[0]=0,xu[2]=6,xu[1]=1,xu[3]=7,xu[4098]=6,xu[4097]=1,xu[4099]=7,xu);function Ra(f){return!(f===Mg||et(f))}function Qf(f){if(f){var m=Iv(f,"-");if(m>-1)return F(f,m)}return Mg}function hh(f,m,b){if(!m&&!Ra(m)||typeof f!="string")return null;var P=typeof m;if(P==="string"||P==="number"||P==="boolean"||nn(m))m={value:m};else if(P==="object"&&!Gt.call(m,"value"))m={value:b?JSON.stringify(m):m};else if(et(m[Fo])||m[Fo]===Mg||!Po(m[Fo])&&!dn(m[Fo])&&!ei(m[Fo])&&!nn(m[Fo]))return null;if(nn(m[Fo])&&!rp(m[Fo]))return null;if(!et(m[ep])){if(nn(m[Fo])||!qg(m[ep]))return null;m[Fo]=m[Fo].toString()}return m}function Zf(f,m,b){var P=-1;if(!Jt(f))if(m>0&&(m===32?P=8192:m<=13&&(P=m<<5)),np(b))P===-1&&(P=0),P|=b;else{var q=pc[nl(f)]||-1;P!==-1&&q!==-1?P|=q:q===6&&(P=q)}return P}function nv(f,m,b,P,q){var B={},V=!1,ae=0,ye=arguments[tl],Se=arguments;for(ei(Se[0])&&(V=Se[0],ae++);ae<ye;ae++){var f=Se[ae];cr(f,function(pt,vt){V&&vt&&Yi(vt)?nn(vt)?(B[pt]=B[pt]||[],ir(vt,function(Ge,Re){Ge&&Yi(Ge)?B[pt][Re]=nv(!0,B[pt][Re],Ge):B[pt][Re]=Ge})):B[pt]=nv(!0,B[pt],vt):B[pt]=vt})}return B}var Pa=Pv;function qg(f){return f===0||f>0&&f<=13||f===32}function np(f){return f>=0&&f<=9}function rp(f){return f[tl]>0}function ed(f,m){var b=f;b[Xf]=b[Xf]||{},b[Xf][Bl]=b[Xf][Bl]||{},b[Xf][Bl][m]=Pa()}function nl(f){var m=0;if(f!=null){var b=typeof f;b==="string"?m=1:b==="number"?m=2:b==="boolean"?m=3:b===v&&(m=4,nn(f)?(m=4096,f[tl]>0&&(m|=nl(f[0]))):Gt.call(f,"value")&&(m=8192|nl(f[Fo])))}return m}function jp(){return!!C("chrome")}function jr(f){return f>0}var Fu="",$p="drop",gc="send",ra="requeue",Fi="rspFail",rv="oth",rl="no-cache, no-store",Vl="application/x-json-stream",nu="cache-control",ia="content-type",Ia="kill-tokens",iv="kill-duration",ip="time-delta-millis",Yp="client-version",ru="client-id",Wp="time-delta-to-apply-millis",ov="upload-time",Kp="apikey",iu="AuthMsaDeviceTicket",mh="WebAuthToken",hc="AuthXToken",zp="NoResponseBody",l="msfpc",g="trace",y="user",R="allowRequestSending",j="firstRequestSent",re="shouldAddClockSkewHeaders",ue="getClockSkewHeaderValue",pe="setClockSkew",ve="length",Ne="concat",Ot="iKey",en="count",Fn="events",Ft="push",Mt="split",$n="splice",Sn="toLowerCase",sr="hdrs",dr="useHdrs",pn="initialize",Di="setTimeoutOverride",il="clearTimeoutOverride",Lu="payloadPreprocessor",Xl="overrideEndpointUrl",td="avoidOptions",sv="disableEventTimings",nd="stringifyObjects",rd="enableCompoundKey",av="disableXhrSync",id="disableFetchKeepAlive",Je="addNoResponse",$t="excludeCsMetaData",wn="useSendBeacon",ti="fetchCredentials",So="alwaysUseXhrOverride",Do="unloadTransports",Gi="serializeOfflineEvt",gs="getOfflineRequestDetails",ou="createPayload",Jl="createOneDSPayload",Ug="payloadBlob",mc="headers",uv="_thePayload",_h="urlString",Bi="batches",su="sendType",Hg="addHeader",yh="canSendRequest",Gp="sendQueuedRequests",Sh="isCompletelyIdle",Dh="setUnloading",Nm="isTenantKilled",Ch="resume",Th="sendSynchronousBatch",Ql="_transport",od="getWParam",Au="isBeacon",Zl="timings",Eh="isTeardown",jg="isSync",Bp="data",Vp="timeout",cv="_sendReason",nm="setKillSwitchTenants",bh="_backOffTransmission",op="identifier",ef="disableOptimizeObj",w_="ignoreMc1Ms0CookieProcessing",rm="eventsLimitInMem",Om="autoFlushEventsLimit",wh="disableAutoBatchFlushLimit",R_="overrideInstrumentationKey",sd="disableTelemetry",Xp="baseData",$g="sendAttempt",ad="latency",Jp="sync";function im(f){var m=(f.ext||{}).intweb;return m&&Ra(m[l])?m[l]:null}function km(f){for(var m=null,b=0;m===null&&b<f[ve];b++)m=im(f[b]);return m}var lv=function(){function f(m,b){var P=b?[][Ne](b):[],q=this,B=km(P);q[Ot]=function(){return m},q.Msfpc=function(){return B||Fu},q[en]=function(){return P[ve]},q[Fn]=function(){return P},q.addEvent=function(V){return V?(P[Ft](V),B||(B=im(V)),!0):!1},q[Mt]=function(V,ae){var ye;if(V<P[ve]){var Se=P[ve]-V;et(ae)||(Se=ae<Se?ae:Se),ye=P[$n](V,Se),B=km(P)}return new f(m,ye)}}return f.create=function(m,b){return new f(m,b)},f}(),xm=function(){function f(){var m=!0,b=!0,P=!0,q="use-collector-delta",B=!1;Bs(f,this,function(V){V[R]=function(){return m},V[j]=function(){P&&(P=!1,B||(m=!1))},V[re]=function(){return b},V[ue]=function(){return q},V[pe]=function(ae){B||(ae?(q=ae,b=!0,B=!0):b=!1,m=!0)}})}return f.__ieDyn=1,f}(),P_=1e3,om=function(){function f(){var m={};function b(P){var q=[];return P&&ir(P,function(B){q[Ft](Rs(B))}),q}Bs(f,this,function(P){P[nm]=function(q,B){if(q&&B)try{var V=b(q[Mt](","));if(B==="this-request-only")return V;for(var ae=parseInt(B,10)*P_,ye=0;ye<V[ve];++ye)m[V[ye]]=ws()+ae}catch{return[]}return[]},P[Nm]=function(q){var B=m,V=Rs(q);return B[V]!==void 0&&B[V]>ws()?!0:(delete B[V],!1)}})}return f.__ieDyn=1,f}(),Yg=.8,sm=1.2,Rh=3e3,Qp=6e5;function fv(f){return!(f>=300&&f<500&&f!=429||f==501||f==505)}function am(f){var m=0,b=Rh*Yg,P=Rh*sm,q=Math.floor(Math.random()*(P-b))+b;return m=Math.pow(2,f)*q,Math.min(m,Qp)}var Wg=20,Yr=3984588,Mu=65e3,dv=2e6,sp=Math.min(dv,Mu),Zp="metadata",Kg="f",ud=/\./,vv=function(){function f(m,b,P,q,B,V){var ae="data",ye="baseData",Se="ext",Be=!!q,pt=!0,vt=b,Ge={},Re=!!V,ft=B||Zf;Bs(f,this,function(Ye){Ye.createPayload=function(We,gt,Rn,Ln,Yn,Cr){return{apiKeys:[],payloadBlob:Fu,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:We,isTeardown:gt,isSync:Rn,isBeacon:Ln,sendType:Cr,sendReason:Yn}},Ye.appendPayload=function(We,gt,Rn){var Ln=We&&gt&&!We.overflow;return Ln&&vo(m,function(){return"Serializer:appendPayload"},function(){for(var Yn=gt.events(),Cr=We.payloadBlob,kr=We.numEvents,ui=!1,ni=[],An=[],Vi=We.isBeacon,Tt=Vi?Mu:Yr,qt=Vi?sp:dv,ar=0,Gn=0;ar<Yn.length;){var tn=Yn[ar];if(tn){if(kr>=Rn){We.overflow=gt.split(ar);break}var Pr=Ye.getEventBlob(tn);if(Pr&&Pr.length<=qt){var sn=Pr.length,Lo=Cr.length;if(Lo+sn>Tt){We.overflow=gt.split(ar);break}Cr&&(Cr+=`
`),Cr+=Pr,Gn++,Gn>Wg&&(lr(Cr,0,1),Gn=0),ui=!0,kr++}else Pr?ni.push(tn):An.push(tn),Yn.splice(ar,1),ar--}ar++}if(ni.length>0&&We.sizeExceed.push(lv.create(gt.iKey(),ni)),An.length>0&&We.failedEvts.push(lv.create(gt.iKey(),An)),ui){We.batches.push(gt),We.payloadBlob=Cr,We.numEvents=kr;var Lt=gt.iKey();Aa(We.apiKeys,Lt)===-1&&We.apiKeys.push(Lt)}},function(){return{payload:We,theBatch:{iKey:gt.iKey(),evts:gt.events()},max:Rn}}),Ln},Ye.getEventBlob=function(We){try{return vo(m,function(){return"Serializer.getEventBlob"},function(){var gt={};gt.name=We.name,gt.time=We.time,gt.ver=We.ver,gt.iKey="o:"+Qf(We.iKey);var Rn={},Ln;Re||(Ln=function(ui,ni,An){Fm(ft,Rn,ui,ni,An)});var Yn=We[Se];Yn&&(gt[Se]=Rn,cr(Yn,function(ui,ni){var An=Rn[ui]={};Ve(ni,An,"ext."+ui,!0,null,null,!0)}));var Cr=gt[ae]={};Cr.baseType=We.baseType;var kr=Cr[ye]={};return Ve(We.baseData,kr,ye,!1,[ye],Ln,pt),Ve(We.data,Cr,ae,!1,[],Ln,pt),JSON.stringify(gt)},function(){return{item:We}})}catch{return null}};function St(We,gt){var Rn=Ge[We];return Rn===void 0&&(We.length>=7&&(Rn=Wi(We,"ext.metadata")||Wi(We,"ext.web")),Ge[We]=Rn),Rn}function Ve(We,gt,Rn,Ln,Yn,Cr,kr){cr(We,function(ui,ni){var An=null;if(ni||Ra(ni)){var Vi=Rn,Tt=ui,qt=Yn,ar=gt;if(Be&&!Ln&&ud.test(ui)){var Gn=ui.split("."),tn=Gn.length;if(tn>1){qt&&(qt=qt.slice());for(var Pr=0;Pr<tn-1;Pr++){var sn=Gn[Pr];ar=ar[sn]=ar[sn]||{},Vi+="."+sn,qt&&qt.push(sn)}Tt=Gn[tn-1]}}var Lo=Ln&&St(Vi);if(!Lo&&vt&&vt.handleField(Vi,Tt)?An=vt.value(Vi,Tt,ni,P):An=hh(Tt,ni,P),An){var Lt=An.value;if(ar[Tt]=Lt,Cr&&Cr(qt,Tt,An),kr&&typeof Lt=="object"&&!nn(Lt)){var Ci=qt;Ci&&(Ci=Ci.slice(),Ci.push(Tt)),Ve(ni,Lt,Vi+"."+Tt,Ln,Ci,Cr,kr)}}}})}})}return f.__ieDyn=1,f}();function Fm(f,m,b,P,q){if(q&&m){var B=f(q.value,q.kind,q.propertyType);if(B>-1){var V=m[Zp];V||(V=m[Zp]={f:{}});var ae=V[Kg];if(ae||(ae=V[Kg]={}),b)for(var ye=0;ye<b.length;ye++){var Se=b[ye];ae[Se]||(ae[Se]={f:{}});var Be=ae[Se][Kg];Be||(Be=ae[Se][Kg]={}),ae=Be}ae=ae[P]={},nn(q.value)?ae.a={t:B}:ae.t=B}}}function ap(f,m){return{set:function(b,P){for(var q=[],B=2;B<arguments.length;B++)q[B-2]=arguments[B];return bp([f,m],b,P,q)}}}var tf,ol="sendAttempt",Na="&"+zp+"=true",qu="?cors=true&"+ia[Sn]()+"="+Vl,nf=(tf={},tf[1]=ra,tf[100]=ra,tf[200]="sent",tf[8004]=$p,tf[8003]=$p,tf),cd={},_c={};function yc(f,m,b){cd[f]=m,b!==!1&&(_c[m]=f)}yc(iu,iu,!1),yc(Yp,Yp),yc(ru,"Client-Id"),yc(Kp,Kp),yc(Wp,Wp),yc(ov,ov),yc(hc,hc);function up(f,m){var b=!1;if(f&&m){var P=it(f);if(P&&P[ve]>0)for(var q=m[Sn](),B=0;B<P[ve];B++){var V=P[B];if(V&&Kn(m,V)&&V[Sn]()===q){b=!0;break}}}return b}function pv(f,m,b,P){m&&b&&b[ve]>0&&(P&&cd[m]?(f[sr][cd[m]]=b,f[dr]=!0):f.url+="&"+m+"="+b)}function Lm(f,m,b){for(var P=0;P<f[ve];P++)if(f[P].name===m){f[P].value=b;return}f[Ft]({name:m,value:b})}function eg(f,m){for(var b=0;b<f[ve];b++)if(f[b].name===m){f[$n](b,1);return}}var sl=function(){function f(m,b,P,q){var B,V,ae,ye,Se=!1,Be,pt,vt,Ge,Re,ft,Ye,St,Ve,We,gt,Rn,Ln,Yn,Cr,kr,ui,ni,An,Vi,Tt,qt,ar,Gn,tn,Pr,sn,Lo;Bs(f,this,function(Lt){js();var Ci=!0;Lt[pn]=function(i,u,d){Gn||(Re=u,Rn=u.getCookieMgr(),pt=d,vt=pt.diagLog(),Rd(Vi,Pu(i,function(_){var T,N=_.cfg,A=_.cfg.extensionConfig[d.identifier];tn=ap(A[Di],A[il]),Ra(N.anonCookieName)?Lm(Ye,"anoncknm",N.anonCookieName):eg(Ye,"anoncknm"),Tt=A[Lu],qt=A.payloadListener;var k=A.httpXHROverride,U=A[Xl]?A[Xl]:N.endpointUrl;B=U+qu,Yn=Jt(A[td])?!0:!A[td],gt=!A[sv];var Y=A.valueSanitizer,J=A[nd],ee=!!N[rd];Jt(A[rd])||(ee=!!A[rd]),Cr=A.xhrTimeout,kr=!!A[av],ui=!!A[id],An=A[Je]!==!1,Pr=!!A[$t],u.getPlugin("LocalStorage")&&(ui=!0),Se=!ao(),We=new vv(Re,Y,J,ee,Zf,Pr),et(A[wn])||(Se=!!A[wn]),A[ti]&&(Lo=A[ti]);var se=ms();sn?sn.SetConfig(se):(sn=new dh,sn[pn](se,vt));var de=k,ce=A[So]?k:null,Ie=A[So]?k:null,xe=[3,2];if(!k){ft=!1;var ct=[];ao()?(ct=[2,1],xe=[2,1,3]):ct=[1,2,3],ct=Kc(ct,A.transports),k=Ti(ct,!1),k||Ou(vt,"No available transport to send events"),de=Ti(ct,!0)}ce||(xe=Kc(xe,A[Do]),ce=Ti(xe,!0)),ni=!ft&&(Se&&Yd()||!ui&&Nl(!0)),Ge=(T={},T[0]=k,T[1]=de||Ti([1,2,3],!0),T[2]=ce||de||Ti([1],!0),T[3]=Ie||Ti([2,3],!0)||de||Ti([1],!0),T)})),Gn=!0)},Lt.addResponseHandler=function(i){return ar[Ft](i),{rm:function(){var u=ar.indexOf(i);u>=0&&ar[$n](u,1)}}},Lt[Gi]=function(i){try{if(We)return We.getEventBlob(i)}catch{}return Fu},Lt[gs]=function(){try{var i=We&&We[ou](0,!1,!1,!1,1,0);return dd(i,Yn)}catch{}return null},Lt[Jl]=function(i,u){try{var d=[];ir(i,function(k){u&&(k=Ea(k));var U=lv.create(k[Ot],[k]);d[Ft](U)});for(var _=null;d[ve]>0&&We;){var T=d.shift();T&&T[en]()>0&&(_=_||We[ou](0,!1,!1,!1,1,0),We.appendPayload(_,T,m))}var N=dd(_,Yn),A={data:_[Ug],urlString:N.url,headers:N[sr],timeout:Cr,disableXhrSync:kr,disableFetchKeepAlive:ui};return Yn&&(up(A[mc],nu)||(A[mc][nu]=rl),up(A[mc],ia)||(A[mc][ia]=Vl)),A}catch{}return null};function Ti(i,u){try{return sn&&sn.getSenderInst(i,u)}catch{}return null}Lt._getDbgPlgTargets=function(){return[Ge[0],V,We,Ge,ms(),B]};function ms(){try{var i={xdrOnComplete:al,fetchOnComplete:fd,xhrOnComplete:au,beaconOnRetry:Hu},u={enableSendPromise:!1,isOneDs:!0,disableCredentials:!Ci,fetchCredentials:Lo,disableXhr:!1,disableBeacon:!Se,disableBeaconSync:!Se,disableFetchKeepAlive:ui,timeWrapper:tn,addNoResponse:An,senderOnCompleteCallBack:i};return u}catch{}return null}function al(i,u,d){var _=Xo(i);Oa(u,200,{},_),Sc(_)}function js(){var i;B=null,V=new om,ae=!1,ye=new xm,Se=!1,Be=0,pt=null,vt=null,Ge=null,Re=null,ft=!0,Ye=[],St={},Ve=[],We=null,gt=!1,Rn=null,Ln=!1,Yn=!1,Cr=i,kr=i,ui=i,ni=i,An=i,Vi=[],Tt=i,qt=i,ar=[],Gn=!1,tn=ap(),Pr=!1,sn=null}function fd(i,u,d,_){var T=function(k,U,Y){Oa(u,k,U,Y),Sc(Y)},N={},A=i[mc];A&&A.forEach(function(k,U){N[U]=k}),T(i.status,N,d||Fu)}function au(i,u,d){var _=Xo(i);Oa(u,i.status,Bc(i,!0),_),Sc(_)}function Oa(i,u,d,_){try{i(u,d,_)}catch(T){lo(vt,2,518,En(T))}}function Hu(i,u,d){var _=i,T=200,N=_[uv],A=i[_h]+(An?Na:Fu);try{var k=yr();if(N){var U=!!Re.getPlugin("LocalStorage"),Y=[],J=[];ir(N[Bi],function(ee){if(Y&&ee&&ee[en]()>0)for(var se=ee[Fn](),de=0;de<se[ve];de++)if(k.sendBeacon(A,We.getEventBlob(se[de])))J[Ft](ee[de]);else{Y[Ft](ee[Mt](de));break}else Y[Ft](ee[Mt](0))}),J[ve]>0&&(N.sentEvts=J),U||_s(Y,8003,N[su],!0)}else T=0}catch(ee){Ou(vt,"Failed to send telemetry using sendBeacon API. Ex:"+En(ee)),T=0}finally{Oa(u,T,{},Fu)}}function Xi(i){return i===2||i===3}function Br(i){return Ln&&Xi(i)&&(i=2),i}Lt[Hg]=function(i,u){St[i]=u},Lt.removeHeader=function(i){delete St[i]},Lt[yh]=function(){return Ji()&&ye[R]()},Lt[Gp]=function(i,u){Jt(i)&&(i=0),Ln&&(i=Br(i),u=2),ju(Ve,i,0)&&$s(Ao(),0,!1,i,u||0)},Lt[Sh]=function(){return!ae&&Be===0&&Ve[ve]===0},Lt[Dh]=function(i){Ln=i},Lt.addBatch=function(i){if(i&&i[en]()>0){if(V.isTenantKilled(i[Ot]()))return!1;Ve[Ft](i)}return!0},Lt.teardown=function(){Ve[ve]>0&&$s(Ao(),0,!0,2,2),ir(Vi,function(i){i&&i.rm&&i.rm()}),Vi=[]},Lt.pause=function(){ae=!0},Lt[Ch]=function(){ae=!1,Lt[Gp](0,4)},Lt[Th]=function(i,u,d){i&&i[en]()>0&&(et(u)&&(u=1),Ln&&(u=Br(u),d=2),$s([i],0,!1,u,d||0))};function Ji(){return!ae&&Be<b}function Ao(){var i=Ve;return Ve=[],i}function ju(i,u,d){var _=!1;return i&&i[ve]>0&&!ae&&Ge[u]&&We&&(_=u!==0||Ji()&&(d>0||ye[R]())),_}function ul(i){var u={};return i&&ir(i,function(d,_){u[_]={iKey:d[Ot](),evts:d[Fn]()}}),u}function $s(i,u,d,_,T){if(!(!i||i[ve]===0)){if(ae){_s(i,1,_);return}_=Br(_);try{var N=i,A=_!==0;vo(Re,function(){return"HttpManager:_sendBatches"},function(k){k&&(i=i.slice(0));for(var U=[],Y=null,J=Pa(),ee=Ge[_]||(A?Ge[1]:Ge[0]),se=ee&&ee[Ql],de=ni&&(Ln||Xi(_)||se===3||ee._isSync&&se===2);ju(i,_,u);){var ce=i.shift();ce&&ce[en]()>0&&(V.isTenantKilled(ce[Ot]())?U[Ft](ce):(Y=Y||We[ou](u,d,A,de,T,_),We.appendPayload(Y,ce,m)?Y.overflow!==null&&(i=[Y.overflow][Ne](i),Y.overflow=null,zg(Y,J,Pa(),T),J=Pa(),Y=null):(zg(Y,J,Pa(),T),J=Pa(),i=[ce][Ne](i),Y=null)))}Y&&zg(Y,J,Pa(),T),i[ve]>0&&(Ve=i[Ne](Ve)),_s(U,8004,_)},function(){return{batches:ul(N),retryCount:u,isTeardown:d,isSynchronous:A,sendReason:T,useSendBeacon:Xi(_),sendType:_}},!A)}catch(k){lo(vt,2,48,"Unexpected Exception sending batch: "+En(k))}}}function dd(i,u){var d={url:B,hdrs:{},useHdrs:!1};u?(d[sr]=nv(d[sr],St),d.useHdrs=it(d.hdrs)[ve]>0):cr(St,function(k,U){_c[k]?pv(d,_c[k],U,!1):(d[sr][k]=U,d[dr]=!0)}),pv(d,ru,"NO_AUTH",u),pv(d,Yp,tp,u);var _=Fu;ir(i.apiKeys,function(k){_[ve]>0&&(_+=","),_+=k}),pv(d,Kp,_,u),pv(d,ov,ws().toString(),u);var T=ig(i);if(Ra(T)&&(d.url+="&ext.intweb.msfpc="+T),ye[re]()&&pv(d,Wp,ye[ue](),u),Re[od]){var N=Re[od]();N>=0&&(d.url+="&w="+N)}for(var A=0;A<Ye[ve];A++)d.url+="&"+Ye[A].name+"="+Ye[A].value;return d}function $u(i,u,d){i[u]=i[u]||{},i[u][pt.identifier]=d}function zg(i,u,d,_){if(i&&i.payloadBlob&&i.payloadBlob[ve]>0){var T=!!Tt,N=Ge[i.sendType];!Xi(i[su])&&i[Au]&&i.sendReason===2&&(N=Ge[2]||Ge[3]||N);var A=Yn;(i.isBeacon||N[Ql]===3)&&(A=!1);var k=dd(i,A);A=A||k[dr];var U=Pa();vo(Re,function(){return"HttpManager:_doPayloadSend"},function(){for(var Y=0;Y<i.batches[ve];Y++)for(var J=i[Bi][Y],ee=J[Fn](),se=0;se<ee[ve];se++){var de=ee[se];if(gt){var ce=de[Zl]=de[Zl]||{};$u(ce,"sendEventStart",U),$u(ce,"serializationStart",u),$u(ce,"serializationCompleted",d)}de[ol]>0?de[ol]++:de[ol]=1}_s(i[Bi],1e3+(_||0),i[su],!0);var Ie={data:i[Ug],urlString:k.url,headers:k[sr],_thePayload:i,_sendReason:_,timeout:Cr,disableXhrSync:kr,disableFetchKeepAlive:ui};A&&(up(Ie[mc],nu)||(Ie[mc][nu]=rl),up(Ie[mc],ia)||(Ie[mc][ia]=Vl));var xe=null;N&&(xe=function(ct){ye[j]();var ht=function(Hn,Wn){vd(Hn,Wn,i,_)},wt=i[Eh]||i[jg];try{N.sendPOST(ct,ht,wt),qt&&qt(Ie,ct,wt,i[Au])}catch(Hn){Ou(vt,"Unexpected exception sending payload. Ex:"+En(Hn)),Oa(ht,0,{})}}),vo(Re,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(xe)if(i[su]===0&&Be++,T&&!i.isBeacon&&N[Ql]!==3){var ct={data:Ie[Bp],urlString:Ie[_h],headers:nv({},Ie[mc]),timeout:Ie[Vp],disableXhrSync:Ie[av],disableFetchKeepAlive:Ie[id]},ht=!1;vo(Re,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Tt(ct,function(wt){ht=!0,!ft&&!wt[uv]&&(wt[uv]=wt[uv]||Ie[uv],wt[cv]=wt[cv]||Ie[cv]),xe(wt)},i.isSync||i[Eh])}catch{ht||xe(Ie)}})}else xe(Ie)})},function(){return{thePayload:i,serializationStart:u,serializationCompleted:d,sendReason:_}},i[jg])}i.sizeExceed&&i.sizeExceed[ve]>0&&_s(i.sizeExceed,8003,i[su]),i.failedEvts&&i.failedEvts[ve]>0&&_s(i.failedEvts,8002,i[su])}function cl(i,u){gt&&ir(i,function(d){var _=d[Zl]=d[Zl]||{};$u(_,"sendEventCompleted",u)})}function vd(i,u,d,_){var T=9e3,N=null,A=!1,k=!1;try{var U=!0;if(typeof i!==h){if(u){ye[pe](u[ip]);var Y=u[iv]||u["kill-duration-seconds"];ir(V[nm](u[Ia],Y),function(ee){ir(d[Bi],function(se){if(se[Ot]()===ee){N=N||[];var de=se[Mt](0);d.numEvents-=de[en](),N[Ft](de)}})})}if(i==200||i==204){T=200;return}(!fv(i)||d.numEvents<=0)&&(U=!1),T=9e3+i%1e3}if(U){T=100;var J=d.retryCnt;d[su]===0&&(J<P?(A=!0,pd(function(){d[su]===0&&Be--,$s(d[Bi],J+1,d[Eh],Ln?2:d[su],5)},Ln,am(J))):(k=!0,Ln&&(T=8001)))}}finally{A||(ye[pe](),go(d,T,_,k)),_s(N,8004,d[su])}}function go(i,u,d,_){try{_&&pt[bh]();var T=i[Bi];u===200&&(T=i.sentEvts||i[Bi],!_&&!i[jg]&&pt._clearBackOff(),dp(T)),_s(T,u,i[su],!0)}finally{i[su]===0&&(Be--,d!==5&&Lt.sendQueuedRequests(i[su],d))}}function dp(i){if(gt){var u=Pa();ir(i,function(d){d&&d[en]()>0&&cl(d[Fn](),u)})}}function pd(i,u,d){u?i():tn.set(i,d)}function ig(i){for(var u=0;u<i.batches[ve];u++){var d=i[Bi][u].Msfpc();if(d)return encodeURIComponent(d)}return Fu}function Sc(i){var u=ar;try{for(var d=0;d<u[ve];d++)try{u[d](i)}catch(T){lo(vt,1,519,"Response handler failed: "+T)}if(i){var _=JSON.parse(i);Ra(_.webResult)&&Ra(_.webResult[l])&&Rn.set("MSFPC",_.webResult[l],365*86400)}}catch{}}function _s(i,u,d,_){if(i&&i[ve]>0&&q){var T=q[gd(u)];if(T){var N=d!==0;vo(Re,function(){return"HttpManager:_sendBatchesNotification"},function(){pd(function(){try{T.call(q,i,u,N,d)}catch(A){lo(vt,1,74,"send request notification failed: "+A)}},_||N,0)},function(){return{batches:ul(i),reason:u,isSync:N,sendSync:_,sendType:d}},!N)}}}function gd(i){var u=nf[i];return Ra(u)||(u=rv,i>=9e3&&i<=9999?u=Fi:i>=8e3&&i<=8999?u=$p:i>=1e3&&i<=1999&&(u=gc)),u}})}return f.__ieDyn=1,f}(),Ph=.25,tg=500,ld=20,ng=6,rg=2,um=4,cm=2,Am=1,hs=1e4,Uu="eventsDiscarded",cp="",$i=void 0,lp=Xn({eventsLimitInMem:{isVal:jr,v:hs},immediateEventLimit:{isVal:jr,v:500},autoFlushEventsLimit:{isVal:jr,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:fp,v:$i},overrideInstrumentationKey:$i,overrideEndpointUrl:$i,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:$i,clearTimeoutOverride:$i,payloadPreprocessor:$i,payloadListener:$i,disableEventTimings:$i,valueSanitizer:$i,stringifyObjects:$i,enableCompoundKey:$i,disableOptimizeObj:!1,fetchCredentials:$i,transports:$i,unloadTransports:$i,useSendBeacon:$i,disableFetchKeepAlive:$i,avoidOptions:!1,xhrTimeout:$i,disableXhrSync:$i,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:dn,v:ng},maxUnloadEventRetryAttempts:{isVal:dn,v:rg},addNoResponse:$i,excludeCsMetaData:$i});function fp(f){return f&&f.sendPOST}var Mm=function(f){Io(m,f);function m(){var b=f.call(this)||this;b.identifier="PostChannel",b.priority=1011,b.version="4.3.4";var P,q=!1,B=[],V,ae=!1,ye=0,Se,Be=0,pt,vt={},Ge=e,Re,ft,Ye,St,Ve,We,gt,Rn,Ln,Yn,Cr,kr,ui,ni,An,Vi,Tt,qt,ar,Gn,tn,Pr;return Bs(m,b,function(sn,Lo){Br(),sn._getDbgPlgTargets=function(){return[Ve,P]},sn[pn]=function(k,U,Y){vo(U,function(){return"PostChannel:initialize"},function(){Lo[pn](k,U,Y),ar=U.getNotifyMgr();try{An=ev(ji(sn[op]),U.evtNamespace&&U.evtNamespace()),sn._addHook(Pu(k,function(J){var ee=J.cfg,se=jf(null,ee,U);P=se.getExtCfg(sn[op],lp),Vi=ap(P[Di],P[il]),Cr=!P[ef]&&jp(),Tt=P[w_],Ci(U),pt=P[rm],Se=P.immediateEventLimit,gt=P[Om],ui=P.maxEventRetryAttempts,ni=P.maxUnloadEventRetryAttempts,qt=P[wh],Xt(ee.endpointUrl)?sn.pause():ae&&sn[Ch](),A(),tn=P[R_],Pr=!!P[sd],Gn&&Lt();var de=ee.disablePageUnloadEvents||[];Gn=Lg(al,de,An),Gn=po(al,de,An)||Gn,Gn=Vf(js,ee.disablePageShowEvents,An)||Gn})),Ve[pn](k,sn.core,sn)}catch(J){throw sn.setInitialized(!1),J}},function(){return{theConfig:k,core:U,extensions:Y}})},sn.processTelemetry=function(k,U){ed(k,sn[op]),U=U||sn._getTelCtx(U);var Y=k;!Pr&&!q&&(tn&&(Y[Ot]=tn),au(Y,!0),kr?ju(2,2):Xi()),sn.processNext(Y,U)},sn.getOfflineSupport=function(){try{var k=Ve&&Ve[gs]();if(Ve)return{getUrl:function(){return k?k.url:null},serialize:ms,batch:Ti,shouldProcess:function(U){return!Pr},createPayload:function(U){return null},createOneDSPayload:function(U){if(Ve[Jl])return Ve[Jl](U,Cr)}}}catch{}return null},sn._doTeardown=function(k,U){ju(2,2),q=!0,Ve.teardown(),Lt(),Br()};function Lt(){Ag(null,An),Gl(null,An),gh(null,An)}function Ci(k){var U=k[od];k[od]=function(){var Y=0;return Tt&&(Y=Y|2),Y|U.call(k)}}function Ti(k){var U=cp;return k&&k[ve]&&ir(k,function(Y){U&&(U+=`
`),U+=Y}),U}function ms(k){var U=cp;try{fd(k),U=Ve[Gi](k)}catch{}return U}function al(k){var U=k||Rt().event;U.type!=="beforeunload"&&(kr=!0,Ve[Dh](kr)),ju(2,2)}function js(k){kr=!1,Ve[Dh](kr)}function fd(k){k.ext&&k.ext[g]&&delete k.ext[g],k.ext&&k.ext[y]&&k.ext[y].id&&delete k.ext[y].id,Cr&&(k.ext=Ea(k.ext),k[Xp]&&(k[Xp]=Ea(k[Xp])),k[Bp]&&(k[Bp]=Ea(k[Bp])))}function au(k,U){if(k[$g]||(k[$g]=0),k[ad]||(k[ad]=1),fd(k),k[Jp]){if(Ye||ae)k[ad]=3,k[Jp]=!1;else if(Ve){Cr&&(k=Ea(k)),Ve[Th](lv.create(k[Ot],[k]),k[Jp]===!0?1:k[Jp],3);return}}var Y=k[ad],J=Be,ee=pt;Y===4&&(J=ye,ee=Se);var se=!1;if(J<ee)se=!$u(k,U);else{var de=1,ce=ld;Y===4&&(de=4,ce=1),se=!0,zg(k[Ot],k[ad],de,ce)&&(se=!$u(k,U))}se&&gd(Uu,[k],pa.QueueFull)}sn.setEventQueueLimits=function(k,U){P[rm]=pt=jr(k)?k:hs,P[Om]=gt=jr(U)?U:0,A();var Y=Be>k;if(!Y&&Rn>0)for(var J=1;!Y&&J<=3;J++){var ee=We[J];ee&&ee[Bi]&&ir(ee[Bi],function(se){se&&se[en]()>=Rn&&(Y=!0)})}dd(!0,Y)},sn.pause=function(){Ao(),ae=!0,Ve&&Ve.pause()},sn[Ch]=function(){ae=!1,Ve&&Ve[Ch](),Xi()},sn._loadTransmitProfiles=function(k){pd(),cr(k,function(U,Y){var J=Y[ve];if(J>=2){var ee=J>2?Y[2]:0;if(Y[$n](0,J-2),Y[1]<0&&(Y[0]=-1),Y[1]>0&&Y[0]>0){var se=Y[0]/Y[1];Y[0]=Math.ceil(se)*Y[1]}ee>=0&&Y[1]>=0&&ee>Y[1]&&(ee=Y[1]),Y[Ft](ee),vt[U]=Y}})},sn.flush=function(k,U,Y){k===void 0&&(k=!0);var J;if(!ae)if(Y=Y||1,k)U||(J=As(function(se){U=se})),V==null?(Ao(),vd(1,0,Y),V=Ji(function(){V=null,go(U,Y)},0)):B[Ft](U);else{var ee=Ao();Oa(1,1,Y),U&&U(),ee&&Xi()}return J},sn.setMsaAuthTicket=function(k){Ve[Hg](iu,k)},sn.setAuthPluginHeader=function(k){Ve[Hg](mh,k)},sn.removeAuthPluginHeader=function(){Ve.removeHeader(mh)},sn.hasEvents=Hu,sn._setTransmitProfile=function(k){Ge!==k&&vt[k]!==void 0&&(Ao(),Ge=k,Xi())},bf(sn,function(){return Ve},["addResponseHandler"]);function Oa(k,U,Y){var J=vd(k,U,Y);return Ve[Gp](U,Y),J}function Hu(){return Be>0}function Xi(){if(Ln>=0&&vd(Ln,0,Yn)&&Ve[Gp](0,Yn),ye>0&&!ft&&!ae){var k=vt[Ge][2];k>=0&&(ft=Ji(function(){ft=null,Oa(4,0,1),Xi()},k))}var U=vt[Ge][1];!Re&&!V&&U>=0&&!ae&&(Hu()?Re=Ji(function(){Re=null,Oa(St===0?3:1,0,1),St++,St%=2,Xi()},U):St=0)}sn[bh]=function(){Ye<um&&(Ye++,Ao(),Xi())},sn._clearBackOff=function(){Ye&&(Ye=0,Ao(),Xi())};function Br(){P=null,q=!1,B=[],V=null,ae=!1,ye=0,Se=500,Be=0,pt=hs,vt={},Ge=e,Re=null,ft=null,Ye=0,St=0,We={},gt=0,Gn=!1,Rn=0,Ln=-1,Yn=null,Cr=!0,kr=!1,ui=ng,ni=rg,An=null,tn=null,Pr=!1,Vi=ap(),Ve=new sl(tg,cm,Am,{requeue:Sc,send:u,sent:d,drop:_,rspFail:T,oth:N}),ig(),ul(),A()}function Ji(k,U){U===0&&Ye&&(U=1);var Y=1e3;return Ye&&(Y=am(Ye-1)),Vi.set(k,U*Y)}function Ao(){return Re!==null?(Re.cancel(),Re=null,St=0,!0):!1}function ju(k,U){Ao(),V&&(V.cancel(),V=null),ae||Oa(1,k,U)}function ul(){We[4]={batches:[],iKeyMap:{}},We[3]={batches:[],iKeyMap:{}},We[2]={batches:[],iKeyMap:{}},We[1]={batches:[],iKeyMap:{}}}function $s(k,U,Y){var J=We[U];J||(U=1,J=We[U]);var ee=J.iKeyMap[k];return!ee&&Y&&(ee=lv.create(k),J.batches[Ft](ee),J.iKeyMap[k]=ee),ee}function dd(k,U){Ve[yh]()&&!Ye&&(gt>0&&Be>gt&&(U=!0),U&&V==null&&sn.flush(k,function(){},20))}function $u(k,U){Cr&&(k=Ea(k));var Y=k[ad],J=$s(k[Ot],Y,!0);return J.addEvent(k)?(Y!==4?(Be++,U&&k[$g]===0&&dd(!k.sync,Rn>0&&J[en]()>=Rn)):ye++,!0):!1}function zg(k,U,Y,J){for(;Y<=U;){var ee=$s(k,U,!0);if(ee&&ee[en]()>0){var se=ee[Mt](0,J),de=se[en]();if(de>0)return Y===4?ye-=de:Be-=de,i(Uu,[se],pa.QueueFull),!0}Y++}return cl(),!1}function cl(){for(var k=0,U=0,Y=function(ee){var se=We[ee];se&&se[Bi]&&ir(se[Bi],function(de){ee===4?k+=de[en]():U+=de[en]()})},J=1;J<=4;J++)Y(J);Be=U,ye=k}function vd(k,U,Y){var J=!1,ee=U===0;return!ee||Ve[yh]()?vo(sn.core,function(){return"PostChannel._queueBatches"},function(){for(var se=[],de=4;de>=k;){var ce=We[de];ce&&ce.batches&&ce.batches[ve]>0&&(ir(ce[Bi],function(Ie){Ve.addBatch(Ie)?J=J||Ie&&Ie[en]()>0:se=se[Ne](Ie[Fn]()),de===4?ye-=Ie[en]():Be-=Ie[en]()}),ce[Bi]=[],ce.iKeyMap={}),de--}se[ve]>0&&gd(Uu,se,pa.KillSwitch),J&&Ln>=k&&(Ln=-1,Yn=0)},function(){return{latency:k,sendType:U,sendReason:Y}},!ee):(Ln=Ln>=0?Math.min(Ln,k):k,Yn=Math.max(Yn,Y)),J}function go(k,U){Oa(1,0,U),cl(),dp(function(){k&&k(),B[ve]>0?V=Ji(function(){V=null,go(B.shift(),U)},0):(V=null,Xi())})}function dp(k){Ve[Sh]()?k():V=Ji(function(){V=null,dp(k)},Ph)}function pd(){Ao(),ig(),Ge=e,Xi()}function ig(){vt={},vt[e]=[2,1,0],vt[n]=[6,3,0],vt[r]=[18,9,0]}function Sc(k,U){var Y=[],J=ui;kr&&(J=ni),ir(k,function(ee){ee&&ee[en]()>0&&ir(ee[Fn](),function(se){se&&(se[Jp]&&(se[ad]=4,se[Jp]=!1),se[$g]<J?(ed(se,sn[op]),au(se,!1)):Y[Ft](se))})}),Y[ve]>0&&gd(Uu,Y,pa.NonRetryableStatus),kr&&ju(2,2)}function _s(k,U){var Y=ar||{},J=Y[k];if(J)try{J.apply(Y,U)}catch(ee){lo(sn.diagLog(),1,74,k+" notification failed: "+ee)}}function gd(k,U){for(var Y=[],J=2;J<arguments.length;J++)Y[J-2]=arguments[J];U&&U[ve]>0&&_s(k,[U][Ne](Y))}function i(k,U){for(var Y=[],J=2;J<arguments.length;J++)Y[J-2]=arguments[J];U&&U[ve]>0&&ir(U,function(ee){ee&&ee[en]()>0&&_s(k,[ee.events()][Ne](Y))})}function u(k,U,Y){k&&k[ve]>0&&_s("eventsSendRequest",[U>=1e3&&U<=1999?U-1e3:0,Y!==!0])}function d(k,U){i("eventsSent",k,U),Xi()}function _(k,U){i(Uu,k,U>=8e3&&U<=8999?U-8e3:pa.Unknown)}function T(k){i(Uu,k,pa.NonRetryableStatus),Xi()}function N(k,U){i(Uu,k,pa.Unknown),Xi()}function A(){qt?Rn=0:Rn=Math.max(tg*(cm+1),pt/6)}}),b}return m.__ieDyn=1,m}(Yf);t.BE_PROFILE=r,t.NRT_PROFILE=n,t.PostChannel=Mm,t.RT_PROFILE=e})});var Sk=Oe(pg=>{"use strict";var I1=pg&&pg.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),N1=pg&&pg.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yk=pg&&pg.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&I1(e,t,n);return N1(e,t),e};Object.defineProperty(pg,"__esModule",{value:!0});pg.oneDataSystemClientFactory=void 0;var O1=async(t,e,n)=>{let r=await Promise.resolve().then(()=>yk(hk())),s=await Promise.resolve().then(()=>yk(_k())),v=new r.AppInsightsCore,h=new s.PostChannel,D={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[h]]};if(n){D.extensionConfig={};let M={alwaysUseXhrOverride:!0,httpXHROverride:n};D.extensionConfig[h.identifier]=M}let I=e.workspace.getConfiguration("telemetry").get("internalTesting");return v.initialize(D,[]),v.addTelemetryInitializer(M=>{M.ext=M.ext??{},M.ext.web=M.ext.web??{},M.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',I&&(M.ext.utc=M.ext.utc??{},M.ext.utc.flags=8462029)}),v},k1=async(t,e,n)=>{let r=await O1(t,e,n);return{logEvent:(h,D)=>{try{r?.track({name:h,baseData:{name:h,properties:D?.properties,measurements:D?.measurements}})}catch(E){throw new Error(`Failed to log event to app insights!
`+E.message)}},flush:async()=>{try{return new Promise((D,E)=>{if(!r){D();return}r.flush(!0,I=>{if(!I){E("Failed to flush app 1DS!");return}})})}catch(h){throw new Error(`Failed to flush 1DS!
`+h.message)}},dispose:async()=>new Promise(D=>{if(!r){D();return}r.unload(!1,()=>{D(),r=void 0},1e3)})}};pg.oneDataSystemClientFactory=k1});var Ck=Oe((SD,Dk)=>{(function(t,e){typeof SD=="object"&&typeof Dk<"u"?e(SD):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(SD,function(t){"use strict";function e(l,g){return l||g}function n(l,g){return l[g]}var r=void 0,s=null,v="",h="function",D="object",E="prototype",I="__proto__",M="undefined",$="constructor",W="Symbol",ne="_polyfill",z="length",_e="name",ge="call",Ae="toString",Me=e(Object),ze=n(Me,E),rt=e(String),Pt=n(rt,E),on=e(Math),we=e(Array),ke=n(we,E),Qe=n(ke,"slice");function dt(l,g){try{return{v:l.apply(this,g)}}catch(y){return{e:y}}}function It(l){return function(g){return typeof g===l}}function yt(l){var g="[object "+l+"]";return function(y){return!!(y&&Qt(y)===g)}}function Qt(l){return ze[Ae].call(l)}function un(l){return typeof l===M||l===M}function Nn(l){return!Zr(l)}function tt(l){return l===s||un(l)}function Zr(l){return!!l||l!==r}var Ze=It("string"),ut=It(h);function mn(l){return!l&&tt(l)?!1:!!l&&typeof l===D}var Jt=n(we,"isArray"),Ut=yt("Error"),et=n(Me,"getOwnPropertyDescriptor");function _r(l,g){return!!l&&ze.hasOwnProperty[ge](l,g)}var bt=e(n(Me,"hasOwn"),Po);function Po(l,g){return _r(l,g)||!!et(l,g)}function fn(l,g,y){if(l&&mn(l)){for(var R in l)if(bt(l,R)&&g[ge](y||l,R,l[R])===-1)break}}var Yi={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function nn(l){var g={};if(g[Yi.c]=!0,g[Yi.e]=!0,l.l){g.get=function(){return l.l.v};var y=et(l.l,"v");y&&y.set&&(g.set=function(R){l.l.v=R})}return fn(l,function(R,j){g[Yi[R]]=Nn(j)?g[Yi[R]]:j}),g}var dn=n(Me,"defineProperty");function ei(l,g,y){return dn(l,g,nn(y))}function Xt(l,g,y,R,j){var re={};return fn(l,function(ue,pe){fi(re,ue,g?pe:ue,j),fi(re,pe,y?pe:ue,j)}),R?R(re):re}function fi(l,g,y,R){dn(l,g,{value:y,enumerable:!0,writable:!!R})}var Kn=e(rt),no="[object Error]";function cn(l,g){var y=v,R=ze[Ae][ge](l);R===no&&(l={stack:Kn(l.stack),message:Kn(l.message),name:Kn(l.name)});try{y=JSON.stringify(l,s,g?typeof g=="number"?g:4:r),y=(y?y.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):s)||Kn(l)}catch(j){y=" - "+cn(j,g)}return R+": "+y}function cr(l){throw new Error(l)}function Hi(l){throw new TypeError(l)}var Fr=n(Me,"freeze");function Bn(l){return l}function pr(l){return l[I]||s}var Si=n(Me,"assign"),Kr=n(Me,"keys"),tr=e(Fr,Bn),gn=e(n(Me,"getPrototypeOf"),pr);function En(l){return Xt(l,1,0,tr)}function gr(l){var g={};return fn(l,function(y,R){fi(g,y,R[1]),fi(g,R[0],R[1])}),tr(g)}function mo(l){return gr(l)}var Q="__tsUtils$gblCfg",Fe;function lt(){var l;return typeof globalThis!==M&&(l=globalThis),!l&&typeof self!==M&&(l=self),!l&&typeof window!==M&&(l=window),!l&&typeof global!==M&&(l=global),l}function it(){if(!Fe){var l=dt(lt).v||{};Fe=l[Q]=l[Q]||{}}return Fe}var Xn=Nt;function Nt(l,g,y){var R=g?g[l]:s;return function(j){var re=(j?j[l]:s)||R;if(re||y){var ue=arguments;return(re||y).apply(j,re?Qe[ge](ue,1):ue)}Hi('"'+Kn(l)+'" not defined for '+cn(j))}}var Un=n(on,"max"),nr=Xn("slice",Pt),yn=Xn("substring",Pt),or=Nt("substr",Pt,hr);function hr(l,g,y){return tt(l)&&Hi("Invalid "+cn(l)),y<0?v:(g=g||0,g<0&&(g=Un(g+l[z],0)),un(y)?nr(l,g):nr(l,g,g+y))}function Lr(l,g){return yn(l,0,g)}var Ur="_urid",di;function ro(){if(!di){var l=it();di=l.gblSym=l.gblSym||{k:{},s:{}}}return di}function Es(l){var g={description:Kn(l),toString:function(){return W+"("+l+")"}};return g[ne]=!0,g}function L(l){var g=ro();if(!bt(g.k,l)){var y=Es(l),R=Kr(g.s).length;y[Ur]=function(){return R+"_"+y[Ae]()},g.k[l]=y,g.s[y[Ur]()]=Kn(l)}return g.k[l]}var Ce;function kt(){Ce=it()}function lr(l){return dn({toJSON:function(){return l}},"v",{value:l})}var fe="window",F;function te(l,g){var y;return function(){return!Ce&&kt(),(!y||Ce.lzy)&&(y=lr(dt(l,g).v)),y.v}}function ie(l){return!Ce&&kt(),(!F||l===!1||Ce.lzy)&&(F=lr(dt(lt).v||s)),F.v}function K(l,g){var y;if(!F||g===!1?y=ie(g):y=F.v,y&&y[l])return y[l];if(l===fe)try{return window}catch{}return s}var O=te(K,["document"]);function me(){return!!Ue()}var Ue=te(K,[fe]);function bn(){return!!_n()}var _n=te(K,["navigator"]),rr,vi;function Dr(){return rr=lr(dt(K,[W]).v),rr}function Ii(l){var g=(Ce.lzy?0:rr)||Dr();return g.v?g.v[l]:r}function xn(l,g){!Ce&&kt();var y=(Ce.lzy?0:rr)||Dr();return y.v?y.v(l):g?s:Es(l)}function oi(l){return!Ce&&kt(),vi=(Ce.lzy?0:vi)||lr(dt(Ii,["for"]).v),(vi.v||L)(l)}function C(l,g,y){return l.apply(g,y)}function oe(l,g,y){if(l)for(var R=l[z]>>>0,j=0;j<R&&!(j in l&&g[ge](y||l,l[j],j,l)===-1);j++);}var qe=Xn("indexOf",ke),Rt=Xn("map",ke),rn=Xn("reduce",ke),yr=e(n(Me,"create"),Rr);function Rr(l){if(!l)return{};var g=typeof l;g!==D&&g!==h&&Hi("Prototype must be an Object or function: "+cn(l));function y(){}return y[E]=l,new y}var Gr;function fr(l,g){var y=Me.setPrototypeOf||function(R,j){var re;!Gr&&(Gr=lr((re={},re[I]=[],re instanceof Array))),Gr.v?R[I]=j:fn(j,function(ue,pe){return R[ue]=pe})};return y(l,g)}function da(l,g,y){dt(ei,[g,_e,{v:l,c:!0,e:!1}]),g=fr(g,y);function R(){this[$]=g,dt(ei,[this,_e,{v:l,c:!0,e:!1}])}return g[E]=y===s?yr(y):(R[E]=y[E],new R),g}function bs(l,g){g&&(l[_e]=g)}function Pc(l,g,y){var R=y||Error,j=R[E][_e],re=Error.captureStackTrace;return da(l,function(){var ue=this,pe=arguments;try{dt(bs,[R,l]);var ve=C(R,ue,Qe[ge](pe))||ue;if(ve!==ue){var Ne=gn(ue);Ne!==gn(ve)&&fr(ve,Ne)}return re&&re(ve,ue[$]),g&&g(ve,pe),ve}finally{dt(bs,[R,j])}},R)}function Hr(){return(Date.now||Ic)()}function Ic(){return new Date().getTime()}function io(l){return function(y){return tt(y)&&Hi("strTrim called ["+cn(y)+"]"),y&&y.replace&&(y=y.replace(l,v)),y}}var wv=io(/^\s+|(?=\s)\s+$/g),is=Nt("trim",Pt,wv),Tp,os,df;function Ws(l){if(!l||typeof l!==D)return!1;df||(df=me()?Ue():!0);var g=!1;if(l!==df){os||(Tp=Function[E][Ae],os=Tp[ge](Me));try{var y=gn(l);g=!y,g||(_r(y,$)&&(y=y[$]),g=!!(y&&typeof y===h&&Tp[ge](y)===os))}catch{}}return g}var Rd;function ir(){return!Ce&&kt(),(!Rd||Ce.lzy)&&(Rd=lr(dt(K,["performance"]).v)),Rd.v}var Aa=Nt("endsWith",Pt,Pd);function Pd(l,g,y){Ze(l)||Hi("'"+cn(l)+"' is not a string");var R=Ze(g)?g:Kn(g),j=!un(y)&&y<l[z]?y:l[z];return yn(l,j-R[z],j)===R}var Ko=Xn("indexOf",Pt),gl="ref",vn="unref",ss="hasRef",Nc="enabled";function vf(l,g,y){var R=!0,j=l?g(s):s,re;function ue(){return R=!1,j&&j[vn]&&j[vn](),re}function pe(){j&&y(j),j=s}function ve(){return j=g(j),R||ue(),re}function Ne(Ot){!Ot&&j&&pe(),Ot&&!j&&ve()}return re={cancel:pe,refresh:ve},re[ss]=function(){return j&&j[ss]?j[ss]():R},re[gl]=function(){return R=!0,j&&j[gl]&&j[gl](),re},re[vn]=ue,re=dn(re,Nc,{get:function(){return!!j},set:Ne}),{h:re,dn:function(){j=s}}}function mg(l,g,y){var R=Jt(g),j=R?g.length:0,re=(j>0?g[0]:R?r:g)||setTimeout,ue=(j>1?g[1]:r)||clearTimeout,pe=y[0];y[0]=function(){ve.dn(),C(pe,r,Qe[ge](arguments))};var ve=vf(l,function(Ne){if(Ne){if(Ne.refresh)return Ne.refresh(),Ne;C(ue,r,[Ne])}return C(re,r,y)},function(Ne){C(ue,r,[Ne])});return ve.h}function ws(l,g){return mg(!0,r,Qe[ge](arguments))}var pf=En,Rv=mo,Bu="toLowerCase",Rs="blkVal",Ht="length",oo="rdOnly",Vu="notify",vu="warnToConsole",Pv="throwInternal",Iv="setDf",Wi="watch",as="logger",Nv="apply",Ps="push",zo="splice",uh="hdlr",_g="cancel",Ep="name",Xu="unload",bp="version",tm="loggingLevelConsole",Ov="messageId",Io="message",gf="diagLog",hf="userAgent",Ks="split",us="nodeType",Ju="replace",wp="logInternalMessage",Is="type",kv="handler",Oc="traceId",hl="spanId",mf="traceFlags",Id="getAttribute",xv;function Rp(l,g){xv||(xv=Pc("AggregationError",function(R,j){j[Ht]>1&&(R.errors=j[1])}));var y=l||"One or more errors occurred.";throw oe(g,function(R,j){y+=`
`.concat(j," > ").concat(cn(R))}),new xv(y,g||[])}var Pp="function",Qu="object",Fv="undefined",pu="prototype",kc=Object,Ns=kc[pu];(ie()||{}).Symbol,(ie()||{}).Reflect;var _f="hasOwnProperty",Nd=function(l){for(var g,y=1,R=arguments.length;y<R;y++){g=arguments[y];for(var j in g)Ns[_f].call(g,j)&&(l[j]=g[j])}return l},ml=Si||Nd,zs=function(l,g){return zs=kc.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,R){y.__proto__=R}||function(y,R){for(var j in R)R[_f](j)&&(y[j]=R[j])},zs(l,g)};function yg(l,g){typeof g!==Pp&&g!==null&&Hi("Class extends value "+String(g)+" is not a constructor or null"),zs(l,g);function y(){this.constructor=l}l[pu]=g===null?yr(g):(y[pu]=g[pu],new y)}var Ma,va="constructor",Gs="prototype",Zu="function",Od="_dynInstFuncs",_l="_isDynProxy",yl="_dynClass",xc="_dynCls$",kd="_dynInstChk",yf=kd,xd="_dfOpts",Fc="_unknown_",Bs="__proto__",Sl="_dyn"+Bs,pa="__dynProto$Gbl",cs="_dynInstProto",qa="useBaseInst",$r="setInstFuncs",gu=Object,Vs=gu.getPrototypeOf,Dl=gu.getOwnPropertyNames,Cl=ie(),Ua=Cl[pa]||(Cl[pa]={o:(Ma={},Ma[$r]=!0,Ma[qa]=!0,Ma),n:1e3});function Sf(l){return l&&(l===gu[Gs]||l===Array[Gs])}function Ha(l){return Sf(l)||l===Function[Gs]}function ec(l){var g;if(l){if(Vs)return Vs(l);var y=l[Bs]||l[Gs]||(l[va]?l[va][Gs]:null);g=l[Sl]||y,_r(l,Sl)||(delete l[cs],g=l[Sl]=l[cs]||l[Sl],l[cs]=y)}return g}function Go(l,g){var y=[];if(Dl)y=Dl(l);else for(var R in l)typeof R=="string"&&_r(l,R)&&y.push(R);if(y&&y.length>0)for(var j=0;j<y.length;j++)g(y[j])}function Lv(l,g,y){return g!==va&&typeof l[g]===Zu&&(y||_r(l,g))&&g!==Bs&&g!==Gs}function Lc(l){Hi("DynamicProto: "+l)}function No(l){var g=yr(null);return Go(l,function(y){!g[y]&&Lv(l,y,!1)&&(g[y]=l[y])}),g}function Fd(l,g){for(var y=l.length-1;y>=0;y--)if(l[y]===g)return!0;return!1}function Av(l,g,y,R){function j(ve,Ne,Ot){var en=Ne[Ot];if(en[_l]&&R){var Fn=ve[Od]||{};Fn[yf]!==!1&&(en=(Fn[Ne[yl]]||{})[Ot]||en)}return function(){return en.apply(ve,arguments)}}var re=yr(null);Go(y,function(ve){re[ve]=j(g,y,ve)});for(var ue=ec(l),pe=[];ue&&!Ha(ue)&&!Fd(pe,ue);)Go(ue,function(ve){!re[ve]&&Lv(ue,ve,!Vs)&&(re[ve]=j(g,ue,ve))}),pe.push(ue),ue=ec(ue);return re}function Df(l,g,y,R){var j=null;if(l&&_r(y,yl)){var re=l[Od]||yr(null);if(j=(re[y[yl]]||yr(null))[g],j||Lc("Missing ["+g+"] "+Zu),!j[kd]&&re[yf]!==!1){for(var ue=!_r(l,g),pe=ec(l),ve=[];ue&&pe&&!Ha(pe)&&!Fd(ve,pe);){var Ne=pe[g];if(Ne){ue=Ne===R;break}ve.push(pe),pe=ec(pe)}try{ue&&(l[g]=j),j[kd]=1}catch{re[yf]=!1}}}return j}function Cf(l,g,y){var R=g[l];return R===y&&(R=ec(g)[l]),typeof R!==Zu&&Lc("["+l+"] is not a "+Zu),R}function Mv(l,g,y,R,j){function re(ve,Ne){var Ot=function(){var en=Df(this,Ne,ve,Ot)||Cf(Ne,ve,Ot);return en.apply(this,arguments)};return Ot[_l]=1,Ot}if(!Sf(l)){var ue=y[Od]=y[Od]||yr(null);if(!Sf(ue)){var pe=ue[g]=ue[g]||yr(null);ue[yf]!==!1&&(ue[yf]=!!j),Sf(pe)||Go(y,function(ve){Lv(y,ve,!1)&&y[ve]!==R[ve]&&(pe[ve]=y[ve],delete y[ve],(!_r(l,ve)||l[ve]&&!l[ve][_l])&&(l[ve]=re(l,ve)))})}}}function Sg(l,g){if(Vs){for(var y=[],R=ec(g);R&&!Ha(R)&&!Fd(y,R);){if(R===l)return!0;y.push(R),R=ec(R)}return!1}return!0}function Ac(l,g){return _r(l,Gs)?l.name||g||Fc:((l||{})[va]||{}).name||g||Fc}function ga(l,g,y,R){_r(l,Gs)||Lc("theClass is an invalid class definition.");var j=l[Gs];Sg(j,g)||Lc("["+Ac(l)+"] not in hierarchy of ["+Ac(g)+"]");var re=null;_r(j,yl)?re=j[yl]:(re=xc+Ac(l,"_")+"$"+Ua.n,Ua.n++,j[yl]=re);var ue=ga[xd],pe=!!ue[qa];pe&&R&&R[qa]!==void 0&&(pe=!!R[qa]);var ve=No(g),Ne=Av(j,g,ve,pe);y(g,Ne);var Ot=!!Vs&&!!ue[$r];Ot&&R&&(Ot=!!R[$r]),Mv(j,re,g,ve,Ot!==!1)}ga[xd]=Ua.o;var Xs=void 0,pi="",Tf="Not dynamic - ",Mc=/-([a-z])/g,qc=/([^\w\d_$])/g,qv=/^(\d+[\w\d_$])/;function Os(l){return!tt(l)}function tc(l){var g=l;return g&&Ze(g)&&(g=g[Ju](Mc,function(y,R){return R.toUpperCase()}),g=g[Ju](qc,"_"),g=g[Ju](qv,function(y,R){return"_"+R})),g}function hu(l,g){return l&&g?Ko(l,g)!==-1:!1}function zn(l){return l&&l.toISOString()||""}function ha(l){return Ut(l)?l[Ep]:pi}function ja(l){return function(){function g(){var y=this;l&&fn(l,function(R,j){y[R]=j})}return g}()}var ks="console",Ld="JSON",xs="crypto",nc="msCrypto",si="msie",Bo="trident/",Nr=null,jt=null,Uc=null;function ma(){return typeof console!==Fv?console:K(ks)}function mu(){return!!(typeof JSON===Qu&&JSON||K(Ld)!==null)}function Js(){return mu()?JSON||K(Ld):null}function rc(){return K(xs)}function Fs(){return K(nc)}function Ar(){var l=_n();if(l&&(l[hf]!==jt||Nr===null)){jt=l[hf];var g=(jt||pi)[Bu]();Nr=hu(g,si)||hu(g,Bo)}return Nr}function _a(l){return(Uc===null||l===!1)&&(Uc=bn()&&!!_n().sendBeacon),Uc}function Or(l,g){if(l)for(var y=0;y<l[Ht];y++){var R=l[y];if(R[Ep]&&R[Ep]===g)return R}return{}}function ya(l){var g=O();return g&&l?Or(g.querySelectorAll("meta"),l).content:null}function Ad(l){var g,y=ir();if(y){var R=y.getEntriesByType("navigation")||[];g=Or((R[Ht]>0?R[0]:{}).serverTiming,l).description}return g}var Sa=4294967296,Ni=4294967295,Qs=123456789,$a=987654321,_o=!1,Oo=Qs,Tl=$a;function Hc(l){l<0&&(l>>>=0),Oo=Qs+l&Ni,Tl=$a-l&Ni,_o=!0}function Md(){try{var l=Hr()&2147483647;Hc((Math.random()*Sa^l)+l)}catch{}}function _u(l){return l>0?Math.floor(Da()/Ni*(l+1))>>>0:0}function Da(l){var g=0,y=rc()||Fs();return y&&y.getRandomValues&&(g=y.getRandomValues(new Uint32Array(1))[0]&Ni),g===0&&Ar()&&(_o||Md(),g=Ca()&Ni),g===0&&(g=Math.floor(Sa*Math.random()|0)),l||(g>>>=0),g}function Ca(l){Tl=36969*(Tl&65535)+(Tl>>16)&Ni,Oo=18e3*(Oo&65535)+(Oo>>16)&Ni;var g=(Tl<<16)+(Oo&65535)>>>0&Ni|0;return l||(g>>>=0),g}function jc(l){l===void 0&&(l=22);for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=Da()>>>0,R=0,j=pi;j[Ht]<l;)R++,j+=g.charAt(y&63),y>>>=6,R===5&&(y=(Da()<<2&4294967295|y&3)>>>0,R=0);return j}var Ta="3.3.4",xi="."+jc(6),qd=0;function $c(l){return l[us]===1||l[us]===9||!+l[us]}function yu(l,g){var y=g[l.id];if(!y){y={};try{$c(g)&&ei(g,l.id,{e:!1,v:y})}catch{}}return y}function ls(l,g){return g===void 0&&(g=!1),tc(l+qd+++(g?"."+Ta:pi)+xi)}function Ya(l){var g={id:ls("_aiData-"+(l||pi)+"."+Ta),accept:function(y){return $c(y)},get:function(y,R,j,re){var ue=y[g.id];return ue?ue[tc(R)]:(re&&(ue=yu(g,y),ue[tc(R)]=j),j)},kill:function(y,R){if(y&&y[R])try{delete y[R]}catch{}}};return g}function Su(l){return l&&mn(l)&&(l.isVal||l.fb||bt(l,"v")||bt(l,"mrg")||bt(l,"ref")||l.set)}function Ls(l,g,y){var R,j=y.dfVal||Zr;if(g&&y.fb){var re=y.fb;Jt(re)||(re=[re]);for(var ue=0;ue<re[Ht];ue++){var pe=re[ue],ve=g[pe];if(j(ve)?R=ve:l&&(ve=l.cfg[pe],j(ve)&&(R=ve),l.set(l.cfg,Kn(pe),ve)),j(R))break}}return!j(R)&&j(y.v)&&(R=y.v),R}function El(l,g,y){var R=y;if(y&&Su(y)&&(R=Ls(l,g,y)),R){Su(R)&&(R=El(l,g,R));var j;Jt(R)?(j=[],j[Ht]=R[Ht]):Ws(R)&&(j={}),j&&(fn(R,function(re,ue){ue&&Su(ue)&&(ue=El(l,g,ue)),j[re]=ue}),R=j)}return R}function ic(l,g,y,R){var j,re,ue,pe=R,ve,Ne,Ot,en;Su(pe)?(j=pe.isVal,re=pe.set,Ot=pe[oo],en=pe[Rs],ve=pe.mrg,Ne=pe.ref,!Ne&&un(Ne)&&(Ne=!!ve),ue=Ls(l,g,pe)):ue=R,en&&l[Rs](g,y);var Fn,Ft=!0,Mt=g[y];(Mt||!tt(Mt))&&(Fn=Mt,Ft=!1,j&&Fn!==ue&&!j(Fn)&&(Fn=ue,Ft=!0),re&&(Fn=re(Fn,ue,g),Ft=Fn===ue)),Ft?ue?Fn=El(l,g,ue):Fn=ue:(Ws(Fn)||Jt(ue))&&ve&&ue&&(Ws(ue)||Jt(ue))&&fn(ue,function($n,Sn){ic(l,Fn,$n,Sn)}),l.set(g,y,Fn),Ne&&l.ref(g,y),Ot&&l[oo](g,y)}var so=oi("[[ai_dynCfg_1]]"),oc=oi("[[ai_blkDynCfg_1]]"),Du=oi("[[ai_frcDynCfg_1]]");function As(l){if(l){var g;if(Jt(l)?(g=[],g[Ht]=l[Ht]):Ws(l)&&(g={}),g)return fn(l,function(y,R){g[y]=As(R)}),g}return l}function Yc(l){if(l){var g=l[so]||l;if(g.cfg&&(g.cfg===l||g.cfg[so]===g))return g}return null}function ai(l){if(l&&(Ws(l)||Jt(l)))try{l[oc]=!0}catch{}return l}function Ki(l,g,y){var R=!1;return y&&!l[g.blkVal]&&(R=y[Du],!R&&!y[oc]&&(R=Ws(y)||Jt(y))),R}function Ms(l){Hi("InvalidAccess:"+l)}var Wc=["push","pop","shift","unshift","splice"],Wa=function(l,g,y,R){l&&l[Pv](3,108,"".concat(y," [").concat(g,"] failed - ")+cn(R))};function Uv(l,g,y){Jt(g)&&oe(Wc,function(R){var j=g[R];g[R]=function(){for(var re=[],ue=0;ue<arguments.length;ue++)re[ue]=arguments[ue];var pe=j[Nv](this,re);return Vo(l,g,y,"Patching"),pe}})}function fs(l,g){var y=et(l,g);return y&&y.get}function bl(l,g,y,R){var j={n:y,h:[],trk:function(Ne){Ne&&Ne.fn&&(qe(j.h,Ne)===-1&&j.h[Ps](Ne),l.trk(Ne,j))},clr:function(Ne){var Ot=qe(j.h,Ne);Ot!==-1&&j.h[zo](Ot,1)}},re=!0,ue=!1;function pe(){re&&(ue=ue||Ki(pe,l,R),R&&!R[so]&&ue&&(R=Vo(l,R,y,"Converting")),re=!1);var Ne=l.act;return Ne&&j.trk(Ne),R}pe[l.prop]={chng:function(){l.add(j)}};function ve(Ne){if(R!==Ne){pe[l.ro]&&!l.upd&&Ms("["+y+"] is read-only:"+cn(g)),re&&(ue=ue||Ki(pe,l,R),re=!1);var Ot=ue&&pe[l.rf];if(ue)if(Ot){fn(R,function(Fn){R[Fn]=Ne?Ne[Fn]:Xs});try{fn(Ne,function(Fn,Ft){yo(l,R,Fn,Ft)}),Ne=R}catch(Fn){Wa((l.hdlr||{})[as],y,"Assigning",Fn),ue=!1}}else R&&R[so]&&fn(R,function(Fn){var Ft=fs(R,Fn);if(Ft){var Mt=Ft[l.prop];Mt&&Mt.chng()}});if(Ne!==R){var en=Ne&&Ki(pe,l,Ne);!Ot&&en&&(Ne=Vo(l,Ne,y,"Converting")),R=Ne,ue=en}l.add(j)}}ei(g,j.n,{g:pe,s:ve})}function yo(l,g,y,R){if(g){var j=fs(g,y),re=j&&!!j[l.prop];re?g[y]=R:bl(l,g,y,R)}return g}function Ud(l,g,y,R){if(g){var j=fs(g,y),re=j&&!!j[l.prop],ue=R&&R[0],pe=R&&R[1],ve=R&&R[2];if(!re){if(ve)try{ai(g)}catch(Ne){Wa((l.hdlr||{})[as],y,"Blocking",Ne)}try{yo(l,g,y,g[y]),j=fs(g,y)}catch(Ne){Wa((l.hdlr||{})[as],y,"State",Ne)}}ue&&(j[l.rf]=ue),pe&&(j[l.ro]=pe),ve&&(j[l.blkVal]=!0)}return g}function Vo(l,g,y,R){try{fn(g,function(j,re){yo(l,g,j,re)}),g[so]||(dn(g,so,{get:function(){return l[uh]}}),Uv(l,g,y))}catch(j){Wa((l.hdlr||{})[as],y,R,j)}return g}var Ka="[[ai_",za="]]";function Hv(l){var g,y=xn(Ka+"get"+l.uid+za),R=xn(Ka+"ro"+l.uid+za),j=xn(Ka+"rf"+l.uid+za),re=xn(Ka+"blkVal"+l.uid+za),ue=xn(Ka+"dtl"+l.uid+za),pe=null,ve=null,Ne;function Ot(Mt,$n){var Sn=Ne.act;try{Ne.act=Mt,Mt&&Mt[ue]&&(oe(Mt[ue],function(dr){dr.clr(Mt)}),Mt[ue]=[]),$n({cfg:l.cfg,set:l.set.bind(l),setDf:l[Iv].bind(l),ref:l.ref.bind(l),rdOnly:l[oo].bind(l)})}catch(dr){var sr=l[as];throw sr&&sr[Pv](1,107,cn(dr)),dr}finally{Ne.act=Sn||null}}function en(){if(pe){var Mt=pe;pe=null,ve&&ve[_g](),ve=null;var $n=[];if(oe(Mt,function(Sn){if(Sn&&(Sn[ue]&&(oe(Sn[ue],function(sr){sr.clr(Sn)}),Sn[ue]=null),Sn.fn))try{Ot(Sn,Sn.fn)}catch(sr){$n[Ps](sr)}}),pe)try{en()}catch(Sn){$n[Ps](Sn)}$n[Ht]>0&&Rp("Watcher error(s): ",$n)}}function Fn(Mt){if(Mt&&Mt.h[Ht]>0){pe||(pe=[]),ve||(ve=ws(function(){ve=null,en()},0));for(var $n=0;$n<Mt.h[Ht];$n++){var Sn=Mt.h[$n];Sn&&qe(pe,Sn)===-1&&pe[Ps](Sn)}}}function Ft(Mt,$n){if(Mt){var Sn=Mt[ue]=Mt[ue]||[];qe(Sn,$n)===-1&&Sn[Ps]($n)}}return Ne=(g={prop:y,ro:R,rf:j},g[Rs]=re,g[uh]=l,g.add=Fn,g[Vu]=en,g.use=Ot,g.trk=Ft,g),Ne}function Ef(l,g){var y={fn:g,rm:function(){y.fn=null,l=null,g=null}};return ei(y,"toJSON",{v:function(){return"WatcherHandler"+(y.fn?"":"[X]")}}),l.use(y,g),y}function Hd(l,g,y){var R,j=Yc(g);if(j)return j;var re=ls("dyncfg",!0),ue=g&&y!==!1?g:As(g),pe;function ve(){pe[Vu]()}function Ne(sr,dr,pn){try{sr=yo(pe,sr,dr,pn)}catch(Di){Wa(l,dr,"Setting value",Di)}return sr[dr]}function Ot(sr){return Ef(pe,sr)}function en(sr,dr){pe.use(null,function(pn){var Di=pe.upd;try{un(dr)||(pe.upd=dr),sr(pn)}finally{pe.upd=Di}})}function Fn(sr,dr){var pn;return Ud(pe,sr,dr,(pn={},pn[0]=!0,pn))[dr]}function Ft(sr,dr){var pn;return Ud(pe,sr,dr,(pn={},pn[1]=!0,pn))[dr]}function Mt(sr,dr){var pn;return Ud(pe,sr,dr,(pn={},pn[2]=!0,pn))[dr]}function $n(sr,dr){return dr&&fn(dr,function(pn,Di){ic(Sn,sr,pn,Di)}),sr}var Sn=(R={uid:null,cfg:ue},R[as]=l,R[Vu]=ve,R.set=Ne,R[Iv]=$n,R[Wi]=Ot,R.ref=Fn,R[oo]=Ft,R[Rs]=Mt,R._block=en,R);return ei(Sn,"uid",{c:!1,e:!1,w:!1,v:re}),pe=Hv(Sn),Vo(pe,ue,"config","Creating"),Sn}function bf(l,g){l?(l[vu](g),l[Pv](2,108,g)):Ms(g)}function Ea(l,g,y,R){var j=Hd(y,l||{},R);return g&&j[Iv](j.cfg,g),j}function Xo(l,g,y){var R=l[so]||l;return R.cfg&&(R.cfg===l||R.cfg[so]===R)?R[Wi](g):(bf(y,Tf+cn(l)),Ea(l,null,y)[Wi](g))}var wl=null;function Dg(){var l=K("Microsoft");return l&&(wl=l.ApplicationInsights),wl}function Kc(l){var g=wl;return!g&&l.disableDbgExt!==!0&&(g=wl||Dg()),g?g.ChromeDbgExt:null}var zc,Ga="warnToConsole",wf="AI (Internal): ",ch="AI: ",jv="AITR_",Rf={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Gc=(zc={},zc[0]=null,zc[1]="errorToConsole",zc[2]=Ga,zc[3]="debugToConsole",zc);function Ip(l){return l?'"'+l[Ju](/\"/g,pi)+'"':pi}function Cg(l,g){var y=ma();if(y){var R="log";y[l]&&(R=l),ut(y[R])&&y[R](g)}}var Bc=function(){function l(g,y,R,j){R===void 0&&(R=!1);var re=this;re[Ov]=g,re[Io]=(R?ch:wf)+g;var ue=pi;mu()&&(ue=Js().stringify(j));var pe=(y?" message:"+Ip(y):pi)+(j?" props:"+Ip(ue):pi);re[Io]+=pe}return l.dataType="MessageData",l}();function Tg(l,g){return(l||{})[as]||new Pf(g)}var Pf=function(){function l(g){this.identifier="DiagnosticLogger",this.queue=[];var y=0,R={},j,re,ue,pe,ve;ga(l,this,function(Ne){ve=en(g||{}),Ne.consoleLoggingLevel=function(){return j},Ne[Pv]=function(Mt,$n,Sn,sr,dr){dr===void 0&&(dr=!1);var pn=new Bc($n,Sn,dr,sr);if(pe)throw cn(pn);var Di=Gc[Mt]||Ga;if(un(pn[Io]))Ft("throw"+(Mt===1?"Critical":"Warning"),pn);else{if(dr){var il=+pn[Ov];!R[il]&&j>=Mt&&(Ne[Di](pn[Io]),R[il]=!0)}else j>=Mt&&Ne[Di](pn[Io]);Ot(Mt,pn)}},Ne.debugToConsole=function(Mt){Cg("debug",Mt),Ft("warning",Mt)},Ne[vu]=function(Mt){Cg("warn",Mt),Ft("warning",Mt)},Ne.errorToConsole=function(Mt){Cg("error",Mt),Ft("error",Mt)},Ne.resetInternalMessageCount=function(){y=0,R={}},Ne[wp]=Ot,Ne[Xu]=function(Mt){ve&&ve.rm(),ve=null};function Ot(Mt,$n){if(!Fn()){var Sn=!0,sr=jv+$n[Ov];if(R[sr]?Sn=!1:R[sr]=!0,Sn&&(Mt<=re&&(Ne.queue[Ps]($n),y++,Ft(Mt===1?"error":"warn",$n)),y===ue)){var dr="Internal events throttle limit per PageView reached for this app.",pn=new Bc(23,dr,!1);Ne.queue[Ps](pn),Mt===1?Ne.errorToConsole(dr):Ne[vu](dr)}}}function en(Mt){return Xo(Ea(Mt,Rf,Ne).cfg,function($n){var Sn=$n.cfg;j=Sn[tm],re=Sn.loggingLevelTelemetry,ue=Sn.maxMessageLimit,pe=Sn.enableDebug})}function Fn(){return y>=ue}function Ft(Mt,$n){var Sn=Kc(g||{});Sn&&Sn[gf]&&Sn[gf](Mt,$n)}})}return l.__ieDyn=1,l}();function $v(l){return l||new Pf}function Zs(l,g,y,R,j,re){re===void 0&&(re=!1),$v(l)[Pv](g,y,R,j,re)}function Np(){for(var l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],g=pi,y,R=0;R<4;R++)y=Da(),g+=l[y&15]+l[y>>4&15]+l[y>>8&15]+l[y>>12&15]+l[y>>16&15]+l[y>>20&15]+l[y>>24&15]+l[y>>28&15];var j=l[8+(Da()&3)|0];return or(g,0,8)+or(g,9,4)+"4"+or(g,13,3)+j+or(g,16,3)+or(g,19,12)}var lh=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,jd="00",Op="ff",Yv="00000000000000000000000000000000",Rl="0000000000000000",$d=1;function Vc(l,g,y){return l&&l[Ht]===g&&l!==y?!!l.match(/^[\da-f]*$/i):!1}function Cu(l,g,y){return Vc(l,g)?l:y}function Pl(l){(isNaN(l)||l<0||l>255)&&(l=1);for(var g=l.toString(16);g[Ht]<2;)g="0"+g;return g}function Eg(l,g,y,R){var j;return j={},j[bp]=Vc(R,2,Op)?R:jd,j[Oc]=Il(l)?l:Np(),j[hl]=Kv(g)?g:Lr(Np(),16),j.traceFlags=y>=0&&y<=255?y:1,j}function Wv(l,g){var y;if(!l||(Jt(l)&&(l=l[0]||""),!l||!Ze(l)||l[Ht]>8192))return null;if(l.indexOf(",")!==-1){var R=l[Ks](",");l=R[g>0&&R[Ht]>g?g:0]}var j=lh.exec(is(l));return!j||j[1]===Op||j[2]===Yv||j[3]===Rl?null:(y={version:(j[1]||pi)[Bu](),traceId:(j[2]||pi)[Bu](),spanId:(j[3]||pi)[Bu]()},y[mf]=parseInt(j[4],16),y)}function Il(l){return Vc(l,32,Yv)}function Kv(l){return Vc(l,16,Rl)}function Tu(l){return!(!l||!Vc(l[bp],2,Op)||!Vc(l[Oc],32,Yv)||!Vc(l[hl],16,Rl)||!Vc(Pl(l[mf]),2))}function Mr(l){return Tu(l)?(l[mf]&$d)===$d:!1}function Xc(l){if(l){var g=Pl(l[mf]);Vc(g,2)||(g="01");var y=l[bp]||jd;return y!=="00"&&y!=="ff"&&(y=jd),"".concat(y.toLowerCase(),"-").concat(Cu(l.traceId,32,Yv).toLowerCase(),"-").concat(Cu(l.spanId,16,Rl).toLowerCase(),"-").concat(g.toLowerCase())}return""}function ao(l){var g="traceparent",y=Wv(ya(g),l);return y||(y=Wv(Ad(g),l)),y}function zv(l){var g=l.getElementsByTagName("script"),y=[];return oe(g,function(R){var j=R[Id]("src");if(j){var re=R[Id]("crossorigin"),ue=R.hasAttribute("async")===!0,pe=R.hasAttribute("defer")===!0,ve=R[Id]("referrerpolicy"),Ne={url:j};re&&(Ne.crossOrigin=re),ue&&(Ne.async=ue),pe&&(Ne.defer=pe),ve&&(Ne.referrerPolicy=ve),y[Ps](Ne)}}),y}var Yd="on",Nl="attachEvent",Jc="addEventListener",Jo="detachEvent",Wd="removeEventListener",zi="events";ls("aiEvtPageHide"),ls("aiEvtPageShow");var Jn=/\.[\.]+/g,Eu=/[\.]+$/,mi=1,Ba=Ya("events"),Qc=/^([^.]*)(?:\.(.+)|)/;function Zc(l){return l&&l[Ju]?l[Ju](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,pi):l}function bu(l,g){var y;if(g){var R=pi;Jt(g)?(R=pi,oe(g,function(re){re=Zc(re),re&&(re[0]!=="."&&(re="."+re),R+=re)})):R=Zc(g),R&&(R[0]!=="."&&(R="."+R),l=(l||pi)+R)}var j=Qc.exec(l||pi)||[];return y={},y[Is]=j[1],y.ns=(j[2]||pi).replace(Jn,".").replace(Eu,pi)[Ks](".").sort().join("."),y}function ea(l,g,y){y===void 0&&(y=!0);var R=Ba.get(l,zi,{},y),j=R[g];return j||(j=R[g]=[]),j}function If(l,g,y,R){l&&g&&g[Is]&&(l[Wd]?l[Wd](g[Is],y,R):l[Jo]&&l[Jo](Yd+g[Is],y))}function kp(l,g,y,R){var j=!1;return l&&g&&g[Is]&&y&&(l[Jc]?(l[Jc](g[Is],y,R),j=!0):l[Nl]&&(l[Nl](Yd+g[Is],y),j=!0)),j}function Nf(l,g,y,R){for(var j=g[Ht];j--;){var re=g[j];re&&(!y.ns||y.ns===re.evtName.ns)&&(!R||R(re))&&(If(l,re.evtName,re[kv],re.capture),g[zo](j,1))}}function xp(l,g,y){if(g[Is])Nf(l,ea(l,g[Is]),g,y);else{var R=Ba.get(l,zi,{});fn(R,function(j,re){Nf(l,re,g,y)}),Kr(R)[Ht]===0&&Ba.kill(l,zi)}}function Of(l,g){var y;return g?(Jt(g)?y=[l].concat(g):y=[l,g],y=bu("xx",y).ns[Ks](".")):y=l,y}function Ol(l,g,y,R,j){var re;j===void 0&&(j=!1);var ue=!1;if(l)try{var pe=bu(g,R);if(ue=kp(l,pe,y,j),ue&&Ba.accept(l)){var ve=(re={guid:mi++,evtName:pe},re[kv]=y,re.capture=j,re);ea(l,pe.type)[Ps](ve)}}catch{}return ue}function Gv(l,g,y,R,j){if(j===void 0&&(j=!1),l)try{var re=bu(g,R),ue=!1;xp(l,re,function(pe){return re.ns&&!y||pe[kv]===y?(ue=!0,!0):!1}),ue||If(l,re,y,j)}catch{}}var ji="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",kl="sampleRate",uo="ProcessLegacy",sc="http.method",Bv="https://dc.services.visualstudio.com",Kd="/v2/track",co="not_specified",zd="iKey",Vv=Rv({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),wu="split",Zt="length",Va="toLowerCase",Xa="ingestionendpoint",ds="toString",kf="push",xl="removeItem",Ja="name",qs="message",Fl="count",Gd="preTriggerDate",Ru="disabled",xf="interval",Ll="daysOfMonth",Ff="date",Xv="getUTCDate",Jv="stringify",Fp="pathname",fh="correlationHeaderExcludePatterns",Qa="extensionConfig",Pu="exceptions",Za="parsedStack",Us="properties",Iu="measurements",ac="sizeInBytes",vs="typeName",Al="severityLevel",bg="problemGroup",el="isManual",Lp="CreateFromInterface",Lf="assembly",Ml="fileName",Af="hasFullStack",Nu="level",Hs="method",ql="line",Mf="duration",Bd="receivedResponse";function lo(l,g,y){var R=g[Zt],j=Ou(l,g);if(j[Zt]!==R){for(var re=0,ue=j;y[ue]!==void 0;)re++,ue=yn(j,0,147)+Uf(re);j=ue}return j}function Ou(l,g){var y;return g&&(g=is(Kn(g)),g[Zt]>150&&(y=yn(g,0,150),Zs(l,2,57,"name is too long.  It has been truncated to 150 characters.",{name:g},!0))),y||g}function fo(l,g,y){y===void 0&&(y=1024);var R;return g&&(y=y||1024,g=is(Kn(g)),g[Zt]>y&&(R=yn(g,0,y),Zs(l,2,61,"string value is too long. It has been truncated to "+y+" characters.",{value:g},!0))),R||g}function Vd(l,g){return qf(l,g,2048,66)}function uc(l,g){var y;return g&&g[Zt]>32768&&(y=yn(g,0,32768),Zs(l,2,56,"message is too long, it has been truncated to 32768 characters.",{message:g},!0)),y||g}function Xd(l,g){var y;if(g){var R=""+g;R[Zt]>32768&&(y=yn(R,0,32768),Zs(l,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:g},!0))}return y||g}function ko(l,g){if(g){var y={};fn(g,function(R,j){if(mn(j)&&mu())try{j=Js()[Jv](j)}catch(re){Zs(l,2,49,"custom property is not valid",{exception:re},!0)}j=fo(l,j,8192),R=lo(l,R,y),y[R]=j}),g=y}return g}function vo(l,g){if(g){var y={};fn(g,function(R,j){R=lo(l,R,y),y[R]=j}),g=y}return g}function Ap(l,g){return g&&qf(l,g,128,69)[ds]()}function qf(l,g,y,R){var j;return g&&(g=is(Kn(g)),g[Zt]>y&&(j=yn(g,0,y),Zs(l,2,R,"input is too long, it has been truncated to "+y+" characters.",{data:g},!0))),j||g}function Uf(l){var g="00"+l;return or(g,g[Zt]-3)}var cc=O()||{},wg=0,Rg=[null,null,null,null,null];function Hf(l){var g=wg,y=Rg,R=y[g];return cc.createElement?y[g]||(R=y[g]=cc.createElement("a")):R={host:Pg(l,!0)},R.href=l,g++,g>=y[Zt]&&(g=0),wg=g,R}function Mp(l){var g,y=Hf(l);return y&&(g=y.href),g}function jf(l){var g,y=Hf(l);return y&&(g=y[Fp]),g}function qp(l,g){return l?l.toUpperCase()+" "+g:g}function Pg(l,g){var y=$f(l,g)||"";if(y){var R=y.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[Zt]>3&&Ze(R[2])&&R[2][Zt]>0)return R[2]+(R[3]||"")}return y}function $f(l,g){var y=null;if(l){var R=l.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[Zt]>2&&Ze(R[2])&&R[2][Zt]>0&&(y=R[2]||"",g&&R[Zt]>2)){var j=(R[1]||"")[Va](),re=R[3]||"";(j==="http"&&re===":80"||j==="https"&&re===":443")&&(re=""),y+=re}}return y}var Ig=[Bv+Kd,"https://breeze.aimon.applicationinsights.io"+Kd,"https://dc-int.services.visualstudio.com"+Kd],lc="cid-v1:";function Ul(l){return qe(Ig,l[Va]())!==-1}function Qv(l){lc=l}function eu(){return lc}function Jd(l,g,y){if(!g||l&&l.disableCorrelationHeaders)return!1;if(l&&l[fh]){for(var R=0;R<l.correlationHeaderExcludePatterns[Zt];R++)if(l[fh][R].test(g))return!1}var j=Hf(g).host[Va]();if(j&&(Ko(j,":443")!==-1||Ko(j,":80")!==-1)&&(j=($f(g,!0)||"")[Va]()),(!l||!l.enableCorsCorrelation)&&j&&j!==y)return!1;var re=l&&l.correlationHeaderDomains;if(re){var ue;if(oe(re,function(Ne){var Ot=new RegExp(Ne.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ue=ue||Ot.test(j)}),!ue)return!1}var pe=l&&l.correlationHeaderExcludedDomains;if(!pe||pe[Zt]===0)return!0;for(var R=0;R<pe[Zt];R++){var ve=new RegExp(pe[R].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(ve.test(j))return!1}return j&&j[Zt]>0}function Yf(l){if(l){var g=ba(l,Vv[1]);if(g&&g!==lc)return g}}function ba(l,g){if(l)for(var y=l[wu](","),R=0;R<y[Zt];++R){var j=y[R][wu]("=");if(j[Zt]===2&&j[0]===g)return j[1]}}function Hl(l,g,y,R){var j,re=R,ue=R;if(g&&g[Zt]>0){var pe=Hf(g);if(j=pe.host,!re)if(pe[Fp]!=null){var ve=pe.pathname[Zt]===0?"/":pe[Fp];ve.charAt(0)!=="/"&&(ve="/"+ve),ue=pe[Fp],re=fo(l,y?y+" "+ve:ve)}else re=fo(l,g)}else j=R,re=R;return{target:j,name:re,data:ue}}function Ng(){var l=ir();if(l&&l.now&&l.timing){var g=l.now()+l.timing.navigationStart;if(g>0)return g}return Hr()}function jl(l,g){var y=null;return l!==0&&g!==0&&!tt(l)&&!tt(g)&&(y=g-l),y}function dh(l,g){var y=l||{};return{getName:function(){return y[Ja]},setName:function(R){g&&g.setName(R),y[Ja]=R},getTraceId:function(){return y.traceID},setTraceId:function(R){g&&g.setTraceId(R),Il(R)&&(y.traceID=R)},getSpanId:function(){return y.parentID},setSpanId:function(R){g&&g.setSpanId(R),Kv(R)&&(y.parentID=R)},getTraceFlags:function(){return y.traceFlags},setTraceFlags:function(R){g&&g.setTraceFlags(R),y.traceFlags=R}}}var Wf=pf({LocalStorage:0,SessionStorage:1}),Og=pf({AI:0,AI_AND_W3C:1,W3C:2}),Up=pf({Normal:1,Critical:2}),fc=void 0,dc=void 0,$l="";function tu(){return ps()?ku(Wf.LocalStorage):null}function ku(l){try{if(tt(ie()))return null;var g=new Date()[ds](),y=K(l===Wf.LocalStorage?"localStorage":"sessionStorage"),R=$l+g;y.setItem(R,g);var j=y.getItem(R)!==g;if(y[xl](R),!j)return y}catch{}return null}function Kf(){return Yl()?ku(Wf.SessionStorage):null}function Qd(){fc=!1,dc=!1}function Zd(l){$l=l||""}function zf(){fc=ps(!0),dc=Yl(!0)}function ps(l){return(l||fc===void 0)&&(fc=!!ku(Wf.LocalStorage)),fc}function Gf(l,g){var y=tu();if(y!==null)try{return y.getItem(g)}catch(R){fc=!1,Zs(l,2,1,"Browser failed read of local storage. "+ha(R),{exception:cn(R)})}return null}function kg(l,g,y){var R=tu();if(R!==null)try{return R.setItem(g,y),!0}catch(j){fc=!1,Zs(l,2,3,"Browser failed write to local storage. "+ha(j),{exception:cn(j)})}return!1}function vh(l,g){var y=tu();if(y!==null)try{return y[xl](g),!0}catch(R){fc=!1,Zs(l,2,5,"Browser failed removal of local storage item. "+ha(R),{exception:cn(R)})}return!1}function Yl(l){return(l||dc===void 0)&&(dc=!!ku(Wf.SessionStorage)),dc}function ph(){var l=[];return Yl()&&fn(K("sessionStorage"),function(g){l[kf](g)}),l}function wa(l,g){var y=Kf();if(y!==null)try{return y.getItem(g)}catch(R){dc=!1,Zs(l,2,2,"Browser failed read of session storage. "+ha(R),{exception:cn(R)})}return null}function vc(l,g,y){var R=Kf();if(R!==null)try{return R.setItem(g,y),!0}catch(j){dc=!1,Zs(l,2,4,"Browser failed write to session storage. "+ha(j),{exception:cn(j)})}return!1}function Wl(l,g){var y=Kf();if(y!==null)try{return y[xl](g),!0}catch(R){dc=!1,Zs(l,2,6,"Browser failed removal of session storage item. "+ha(R),{exception:cn(R)})}return!1}var xg="appInsightsThrottle",Zv=function(){function l(g,y){var R=this,j,re,ue,pe,ve,Ne,Ot,en=!1,Fn=!1;Mt(),R._getDbgPlgTargets=function(){return[Ot]},R.getConfig=function(){return ue},R.canThrottle=function(Je){var $t=rd(Je),wn=$n(Je);return dr(wn,j,$t)},R.isTriggered=function(Je){return av(Je)},R.isReady=function(){return en},R.flush=function(Je){try{var $t=id(Je);if($t&&$t[Zt]>0){var wn=$t.slice(0);return Ot[Je]=[],oe(wn,function(ti){Ft(ti.msgID,ti[qs],ti.severity,!1)}),!0}}catch{}return!1},R.flushAll=function(){try{if(Ot){var Je=!0;return fn(Ot,function($t){var wn=R.flush(parseInt($t));Je=Je&&wn}),Je}}catch{}return!1},R.onReadyState=function(Je,$t){return $t===void 0&&($t=!0),en=tt(Je)?!0:Je,en&&$t?R.flushAll():null},R.sendMessage=function(Je,$t,wn){return Ft(Je,$t,wn,!0)};function Ft(Je,$t,wn,ti){if(en){var So=nd(Je);if(!So)return;var Do=$n(Je),Gi=rd(Je),gs=dr(Do,j,Gi),ou=!1,Jl=0,Ug=av(Je);try{gs&&!Ug?(Jl=Math.min(Do.limit.maxSendNumber,Gi[Fl]+1),Gi[Fl]=0,ou=!0,ve[Je]=!0,Gi[Gd]=new Date):(ve[Je]=gs,Gi[Fl]+=1);var mc=pn(Je);Xl(re,mc,Gi);for(var uv=0;uv<Jl;uv++)sv(Je,re,$t,wn)}catch{}return{isThrottled:ou,throttleNum:Jl}}else if(ti){var _h=id(Je);_h[kf]({msgID:Je,message:$t,severity:wn})}return null}function Mt(){re=Tg(g),ve={},pe={},Ot={},ue={},Sn(109),Ne=Os(y)?y:"",g.addUnloadHook(Xo(g.config,function(Je){var $t=Je.cfg;j=ps();var wn=$t.throttleMgrCfg||{};fn(wn,function(ti,So){Sn(parseInt(ti),So)})}))}function $n(Je){return ue[Je]||ue[109]}function Sn(Je,$t){var wn,ti;try{var So=$t||{},Do={};Do[Ru]=!!So[Ru];var Gi=So[xf]||{};Fn=Gi?.daysOfMonth&&Gi?.daysOfMonth[Zt]>0,Do[xf]=sr(Gi);var gs={samplingRate:((wn=So.limit)===null||wn===void 0?void 0:wn.samplingRate)||100,maxSendNumber:((ti=So.limit)===null||ti===void 0?void 0:ti.maxSendNumber)||1};Do.limit=gs,ue[Je]=Do}catch{}}function sr(Je){Je=Je||{};var $t=Je?.monthInterval,wn=Je?.dayInterval;return tt($t)&&tt(wn)&&(Je.monthInterval=3,Fn||(Je[Ll]=[28],Fn=!0)),Je={monthInterval:Je?.monthInterval,dayInterval:Je?.dayInterval,daysOfMonth:Je?.daysOfMonth},Je}function dr(Je,$t,wn){if(Je&&!Je[Ru]&&$t&&Os(wn)){var ti=Lu(),So=wn[Ff],Do=Je[xf],Gi=1;if(Do?.monthInterval){var gs=(ti.getUTCFullYear()-So.getUTCFullYear())*12+ti.getUTCMonth()-So.getUTCMonth();Gi=td(Do.monthInterval,0,gs)}var ou=1;if(Fn)ou=qe(Do[Ll],ti[Xv]());else if(Do?.dayInterval){var Jl=Math.floor((ti.getTime()-So.getTime())/864e5);ou=td(Do.dayInterval,0,Jl)}return Gi>=0&&ou>=0}return!1}function pn(Je,$t){var wn=Os($t)?$t:"";return Je?xg+wn+"-"+Je:null}function Di(Je){try{if(Je){var $t=new Date;return Je.getUTCFullYear()===$t.getUTCFullYear()&&Je.getUTCMonth()===$t.getUTCMonth()&&Je[Xv]()===$t[Xv]()}}catch{}return!1}function il(Je,$t,wn){try{var ti={date:Lu(),count:0};if(Je){var So=JSON.parse(Je),Do={date:Lu(So[Ff])||ti[Ff],count:So[Fl]||ti[Fl],preTriggerDate:So.preTriggerDate?Lu(So[Gd]):void 0};return Do}else return Xl($t,wn,ti),ti}catch{}return null}function Lu(Je){try{if(Je){var $t=new Date(Je);if(!isNaN($t.getDate()))return $t}else return new Date}catch{}return null}function Xl(Je,$t,wn){try{return kg(Je,$t,is(JSON[Jv](wn)))}catch{}return!1}function td(Je,$t,wn){return Je<=0?1:wn>=$t&&(wn-$t)%Je==0?Math.floor((wn-$t)/Je)+1:-1}function sv(Je,$t,wn,ti){Zs($t,ti||1,Je,wn)}function nd(Je){try{var $t=$n(Je);return _u(1e6)<=$t.limit.samplingRate}catch{}return!1}function rd(Je){try{var $t=pe[Je];if(!$t){var wn=pn(Je,Ne);$t=il(Gf(re,wn),re,wn),pe[Je]=$t}return pe[Je]}catch{}return null}function av(Je){var $t=ve[Je];if(tt($t)){$t=!1;var wn=rd(Je);wn&&($t=Di(wn[Gd])),ve[Je]=$t}return ve[Je]}function id(Je){return Ot=Ot||{},tt(Ot[Je])&&(Ot[Je]=[]),Ot[Je]}}return l}(),Fg=";",Hp="=";function ev(l){if(!l)return{};var g=l[wu](Fg),y=rn(g,function(j,re){var ue=re[wu](Hp);if(ue[Zt]===2){var pe=ue[0][Va](),ve=ue[1];j[pe]=ve}return j},{});if(Kr(y)[Zt]>0){if(y.endpointsuffix){var R=y.location?y.location+".":"";y[Xa]=y[Xa]||"https://"+R+"dc."+y.endpointsuffix}y[Xa]=y[Xa]||Bv,Aa(y[Xa],"/")&&(y[Xa]=y[Xa].slice(0,-1))}return y}var Kl={parse:ev},ta=function(){function l(g,y,R){var j=this,re=this;re.ver=1,re.sampleRate=100,re.tags={},re[Ja]=fo(g,R)||co,re.data=y,re.time=zn(new Date),re.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return j.sampleRate===100?4:1},tags:1,data:1}}return l}(),tv=function(){function l(g,y,R,j){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var re=this;re.ver=2,re[Ja]=fo(g,y)||co,re[Us]=ko(g,R),re[Iu]=vo(g,j)}return l.envelopeType="Microsoft.ApplicationInsights.{0}.Event",l.dataType="EventData",l}(),zl="<no_method>",xo="error",na="stack",Bf="stackDetails",Lg="errorSrc",Ag="message",po="description";function Gl(l,g){var y=l;return y&&!Ze(y)&&(JSON&&JSON[Jv]?(y=JSON[Jv](l),g&&(!y||y==="{}")&&(ut(l[ds])?y=l[ds]():y=""+l)):y=""+l+" - (Missing JSON.stringify)"),y||""}function Vf(l,g){var y=l;return l&&(y&&!Ze(y)&&(y=l[Ag]||l[po]||y),y&&!Ze(y)&&(y=Gl(y,!0)),l.filename&&(y=y+" @"+(l.filename||"")+":"+(l.lineno||"?")+":"+(l.colno||"?"))),g&&g!=="String"&&g!=="Object"&&g!=="Error"&&Ko(y||"",g)===-1&&(y=g+": "+y),y||""}function gh(l){try{if(mn(l))return"hasFullStack"in l&&"typeName"in l}catch{}return!1}function Mg(l){try{if(mn(l))return"ver"in l&&"exceptions"in l&&"properties"in l}catch{}return!1}function Xf(l){return l&&l.src&&Ze(l.src)&&l.obj&&Jt(l.obj)}function Fo(l){var g=l||"";Ze(g)||(Ze(g[na])?g=g[na]:g=""+g);var y=g[wu](`
`);return{src:g,obj:y}}function ep(l){for(var g=[],y=l[wu](`
`),R=0;R<y[Zt];R++){var j=y[R];y[R+1]&&(j+="@"+y[R+1],R++),g[kf](j)}return{src:l,obj:g}}function tl(l){var g=null;if(l)try{if(l[na])g=Fo(l[na]);else if(l[xo]&&l[xo][na])g=Fo(l[xo][na]);else if(l.exception&&l.exception[na])g=Fo(l.exception[na]);else if(Xf(l))g=l;else if(Xf(l[Bf]))g=l[Bf];else if(Ue()&&Ue().opera&&l[Ag])g=ep(l[qs]);else if(l.reason&&l.reason[na])g=Fo(l.reason[na]);else if(Ze(l))g=Fo(l);else{var y=l[Ag]||l[po]||"";Ze(l[Lg])&&(y&&(y+=`
`),y+=" from "+l[Lg]),y&&(g=Fo(y))}}catch(R){g=Fo(R)}return g||{src:"",obj:null}}function Bl(l){var g="";return l&&(l.obj?oe(l.obj,function(y){g+=y+`
`}):g=l.src||""),g}function xu(l){var g,y=l.obj;if(y&&y[Zt]>0){g=[];var R=0,j=0;oe(y,function(Mt){var $n=Mt[ds]();if(Ra.regex.test($n)){var Sn=new Ra($n,R++);j+=Sn[ac],g[kf](Sn)}});var re=32*1024;if(j>re)for(var ue=0,pe=g[Zt]-1,ve=0,Ne=ue,Ot=pe;ue<pe;){var en=g[ue][ac],Fn=g[pe][ac];if(ve+=en+Fn,ve>re){var Ft=Ot-Ne+1;g.splice(Ne,Ft);break}Ne=ue,Ot=pe,ue++,pe--}}return g}function Jf(l){var g="";if(l&&(g=l.typeName||l[Ja]||"",!g))try{var y=/function (.{1,200})\(/,R=y.exec(l.constructor[ds]());g=R&&R[Zt]>1?R[1]:""}catch{}return g}function tp(l){if(l)try{if(!Ze(l)){var g=Jf(l),y=Gl(l,!1);return(!y||y==="{}")&&(l[xo]&&(l=l[xo],g=Jf(l)),y=Gl(l,!0)),Ko(y,g)!==0&&g!=="String"?g+":"+y:y}}catch{}return""+(l||"")}var Gt=function(){function l(g,y,R,j,re,ue){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var pe=this;pe.ver=2,Mg(y)?(pe[Pu]=y[Pu]||[],pe[Us]=y[Us],pe[Iu]=y[Iu],y[Al]&&(pe[Al]=y[Al]),y.id&&(pe.id=y.id,y[Us].id=y.id),y[bg]&&(pe[bg]=y[bg]),tt(y[el])||(pe[el]=y[el])):(R||(R={}),ue&&(R.id=ue),pe[Pu]=[new pc(g,y,R)],pe[Us]=ko(g,R),pe[Iu]=vo(g,j),re&&(pe[Al]=re),ue&&(pe.id=ue))}return l.CreateAutoException=function(g,y,R,j,re,ue,pe,ve){var Ne,Ot=Jf(re||ue||g);return Ne={},Ne[qs]=Vf(g,Ot),Ne.url=y,Ne.lineNumber=R,Ne.columnNumber=j,Ne.error=tp(re||ue||g),Ne.evt=tp(ue||g),Ne[vs]=Ot,Ne.stackDetails=tl(pe||re||ue),Ne.errorSrc=ve,Ne},l.CreateFromInterface=function(g,y,R,j){var re=y[Pu]&&Rt(y[Pu],function(pe){return pc[Lp](g,pe)}),ue=new l(g,ml(ml({},y),{exceptions:re}),R,j);return ue},l.prototype.toInterface=function(){var g,y=this,R=y.exceptions,j=y.properties,re=y.measurements,ue=y.severityLevel,pe=y.problemGroup,ve=y.id,Ne=y.isManual,Ot=R instanceof Array&&Rt(R,function(en){return en.toInterface()})||void 0;return g={ver:"4.0"},g[Pu]=Ot,g.severityLevel=ue,g.properties=j,g.measurements=re,g.problemGroup=pe,g.id=ve,g.isManual=Ne,g},l.CreateSimpleException=function(g,y,R,j,re,ue){var pe;return{exceptions:[(pe={},pe[Af]=!0,pe.message=g,pe.stack=re,pe.typeName=y,pe)]}},l.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",l.dataType="ExceptionData",l.formatError=tp,l}(),pc=function(){function l(g,y,R){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var j=this;if(gh(y))j[vs]=y[vs],j[qs]=y[qs],j[na]=y[na],j[Za]=y[Za]||[],j[Af]=y[Af];else{var re=y,ue=re&&re.evt;Ut(re)||(re=re[xo]||ue||re),j[vs]=fo(g,Jf(re))||co,j[qs]=uc(g,Vf(y||re,j[vs]))||co;var pe=y[Bf]||tl(y);j[Za]=xu(pe),Jt(j[Za])&&Rt(j[Za],function(ve){ve[Lf]=fo(g,ve[Lf]),ve[Ml]=fo(g,ve[Ml])}),j[na]=Xd(g,Bl(pe)),j.hasFullStack=Jt(j.parsedStack)&&j.parsedStack[Zt]>0,R&&(R[vs]=R[vs]||j[vs])}}return l.prototype.toInterface=function(){var g,y=this,R=y[Za]instanceof Array&&Rt(y[Za],function(re){return re.toInterface()}),j=(g={id:y.id,outerId:y.outerId,typeName:y[vs],message:y[qs],hasFullStack:y[Af],stack:y[na]},g[Za]=R||void 0,g);return j},l.CreateFromInterface=function(g,y){var R=y[Za]instanceof Array&&Rt(y[Za],function(re){return Ra[Lp](re)})||y[Za],j=new l(g,ml(ml({},y),{parsedStack:R}));return j},l}(),Ra=function(){function l(g,y){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var R=this;if(R[ac]=0,typeof g=="string"){var j=g;R[Nu]=y,R[Hs]=zl,R[Lf]=is(j),R[Ml]="",R[ql]=0;var re=j.match(l.regex);re&&re[Zt]>=5&&(R[Hs]=is(re[2])||R[Hs],R[Ml]=is(re[4]),R[ql]=parseInt(re[5])||0)}else R[Nu]=g[Nu],R[Hs]=g[Hs],R[Lf]=g[Lf],R[Ml]=g[Ml],R[ql]=g[ql],R[ac]=0;R.sizeInBytes+=R.method[Zt],R.sizeInBytes+=R.fileName[Zt],R.sizeInBytes+=R.assembly[Zt],R[ac]+=l.baseSize,R.sizeInBytes+=R.level.toString()[Zt],R.sizeInBytes+=R.line.toString()[Zt]}return l.CreateFromInterface=function(g){return new l(g,null)},l.prototype.toInterface=function(){var g=this;return{level:g[Nu],method:g[Hs],assembly:g[Lf],fileName:g[Ml],line:g[ql]}},l.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,l.baseSize=58,l}(),Qf=function(){function l(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return l}(),hh=function(){function l(g,y,R,j,re,ue,pe,ve,Ne){this.aiDataContract={ver:1,metrics:1,properties:0};var Ot=this;Ot.ver=2;var en=new Qf;en[Fl]=j>0?j:void 0,en.max=isNaN(ue)||ue===null?void 0:ue,en.min=isNaN(re)||re===null?void 0:re,en[Ja]=fo(g,y)||co,en.value=R,en.stdDev=isNaN(pe)||pe===null?void 0:pe,Ot.metrics=[en],Ot[Us]=ko(g,ve),Ot[Iu]=vo(g,Ne)}return l.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",l.dataType="MetricData",l}(),Zf="";function nv(l,g){return g===void 0&&(g=!1),l==null?g:l.toString()[Va]()==="true"}function Pa(l){(isNaN(l)||l<0)&&(l=0),l=Math.round(l);var g=Zf+l%1e3,y=Zf+Math.floor(l/1e3)%60,R=Zf+Math.floor(l/(1e3*60))%60,j=Zf+Math.floor(l/(1e3*60*60))%24,re=Math.floor(l/(1e3*60*60*24));return g=g[Zt]===1?"00"+g:g[Zt]===2?"0"+g:g,y=y[Zt]<2?"0"+y:y,R=R[Zt]<2?"0"+R:R,j=j[Zt]<2?"0"+j:j,(re>0?re+".":Zf)+j+":"+R+":"+y+"."+g}function qg(l,g){var y=null;return oe(l,function(R){if(R.identifier===g)return y=R,-1}),y}function np(l,g,y,R,j){return!j&&Ze(l)&&(l==="Script error."||l==="Script error")}var rp=function(){function l(g,y,R,j,re,ue,pe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var ve=this;ve.ver=2,ve.id=Ap(g,pe),ve.url=Vd(g,R),ve[Ja]=fo(g,y)||co,isNaN(j)||(ve[Mf]=Pa(j)),ve[Us]=ko(g,re),ve[Iu]=vo(g,ue)}return l.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",l.dataType="PageviewData",l}(),ed=function(){function l(g,y,R,j,re,ue,pe,ve,Ne,Ot,en,Fn){Ne===void 0&&(Ne="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ft=this;Ft.ver=2,Ft.id=y,Ft[Mf]=Pa(re),Ft.success=ue,Ft.resultCode=pe+"",Ft.type=fo(g,Ne);var Mt=Hl(g,R,ve,j);Ft.data=Vd(g,j)||Mt.data,Ft.target=fo(g,Mt.target),Ot&&(Ft.target="".concat(Ft.target," | ").concat(Ot)),Ft[Ja]=fo(g,Mt[Ja]),Ft[Us]=ko(g,en),Ft[Iu]=vo(g,Fn)}return l.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",l.dataType="RemoteDependencyData",l}(),nl=function(){function l(g,y,R,j,re){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ue=this;ue.ver=2,y=y||co,ue[qs]=uc(g,y),ue[Us]=ko(g,j),ue[Iu]=vo(g,re),R&&(ue[Al]=R)}return l.envelopeType="Microsoft.ApplicationInsights.{0}.Message",l.dataType="MessageData",l}(),jp=function(){function l(g,y,R,j,re,ue,pe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var ve=this;ve.ver=2,ve.url=Vd(g,R),ve[Ja]=fo(g,y)||co,ve[Us]=ko(g,re),ve[Iu]=vo(g,ue),pe&&(ve.domProcessing=pe.domProcessing,ve[Mf]=pe[Mf],ve.networkConnect=pe.networkConnect,ve.perfTotal=pe.perfTotal,ve[Bd]=pe[Bd],ve.sentRequest=pe.sentRequest)}return l.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",l.dataType="PageviewPerformanceData",l}(),jr=function(){function l(g,y){this.aiDataContract={baseType:1,baseData:1},this.baseType=g,this.baseData=y}return l}(),Fu=pf({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),$p=function(){function l(){}return l.getConfig=function(g,y,R,j){j===void 0&&(j=!1);var re;return R&&g[Qa]&&g[Qa][R]&&!tt(g[Qa][R][y])?re=g[Qa][R][y]:re=g[y],tt(re)?j:re},l}();function gc(l){var g="ai."+l+".";return function(y){return g+y}}var ra=gc("application"),Fi=gc("device"),rv=gc("location"),rl=gc("operation"),Vl=gc("session"),nu=gc("user"),ia=gc("cloud"),Ia=gc("internal"),iv=function(l){yg(g,l);function g(){return l.call(this)||this}return g}(ja({applicationVersion:ra("ver"),applicationBuild:ra("build"),applicationTypeId:ra("typeId"),applicationId:ra("applicationId"),applicationLayer:ra("layer"),deviceId:Fi("id"),deviceIp:Fi("ip"),deviceLanguage:Fi("language"),deviceLocale:Fi("locale"),deviceModel:Fi("model"),deviceFriendlyName:Fi("friendlyName"),deviceNetwork:Fi("network"),deviceNetworkName:Fi("networkName"),deviceOEMName:Fi("oemName"),deviceOS:Fi("os"),deviceOSVersion:Fi("osVersion"),deviceRoleInstance:Fi("roleInstance"),deviceRoleName:Fi("roleName"),deviceScreenResolution:Fi("screenResolution"),deviceType:Fi("type"),deviceMachineName:Fi("machineName"),deviceVMName:Fi("vmName"),deviceBrowser:Fi("browser"),deviceBrowserVersion:Fi("browserVersion"),locationIp:rv("ip"),locationCountry:rv("country"),locationProvince:rv("province"),locationCity:rv("city"),operationId:rl("id"),operationName:rl("name"),operationParentId:rl("parentId"),operationRootId:rl("rootId"),operationSyntheticSource:rl("syntheticSource"),operationCorrelationVector:rl("correlationVector"),sessionId:Vl("id"),sessionIsFirst:Vl("isFirst"),sessionIsNew:Vl("isNew"),userAccountAcquisitionDate:nu("accountAcquisitionDate"),userAccountId:nu("accountId"),userAgent:nu("userAgent"),userId:nu("id"),userStoreRegion:nu("storeRegion"),userAuthUserId:nu("authUserId"),userAnonymousUserAcquisitionDate:nu("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:nu("authUserAcquisitionDate"),cloudName:ia("name"),cloudRole:ia("role"),cloudRoleVer:ia("roleVer"),cloudRoleInstance:ia("roleInstance"),cloudEnvironment:ia("environment"),cloudLocation:ia("location"),cloudDeploymentUnit:ia("deploymentUnit"),internalNodeName:Ia("nodeName"),internalSdkVersion:Ia("sdkVersion"),internalAgentVersion:Ia("agentVersion"),internalSnippet:Ia("snippet"),internalSdkSrc:Ia("sdkSrc")}));function ip(l,g,y,R,j,re){var ue;y=fo(R,y)||co,(tt(l)||tt(g)||tt(y))&&cr("Input doesn't contain all required fields");var pe="";l[zd]&&(pe=l[zd],delete l[zd]);var ve=(ue={},ue[Ja]=y,ue.time=zn(new Date),ue.iKey=pe,ue.ext=re||{},ue.tags=[],ue.data={},ue.baseType=g,ue.baseData=l,ue);return tt(j)||fn(j,function(Ne,Ot){ve.data[Ne]=Ot}),ve}var Yp=function(){function l(){}return l.create=ip,l}(),ru={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Wp=new iv;function ov(l){var g=null;if(ut(Event))g=new Event(l);else{var y=O();y&&y.createEvent&&(g=y.createEvent("Event"),g.initEvent(l,!0,!0))}return g}function Kp(l,g){Gv(l,null,null,g)}function iu(l){var g=O(),y=_n(),R=!1,j=[],re=1;y&&!tt(y.onLine)&&!y.onLine&&(re=2);var ue=0,pe=Fn(),ve=Of(ls("OfflineListener"),l);try{if(Ot(Ue())&&(R=!0),g){var Ne=g.body||g;Ne.ononline&&Ot(Ne)&&(R=!0)}}catch{R=!1}function Ot(pn){var Di=!1;return pn&&(Di=Ol(pn,"online",$n,ve),Di&&Ol(pn,"offline",Sn,ve)),Di}function en(){return pe}function Fn(){return!(ue===2||re===2)}function Ft(){var pn=Fn();pe!==pn&&(pe=pn,oe(j,function(Di){var il={isOnline:pe,rState:re,uState:ue};try{Di(il)}catch{}}))}function Mt(pn){ue=pn,Ft()}function $n(){re=1,Ft()}function Sn(){re=2,Ft()}function sr(){var pn=Ue();if(pn&&R){if(Kp(pn,ve),g){var Di=g.body||g;un(Di.ononline)||Kp(Di,ve)}R=!1}}function dr(pn){return j[kf](pn),{rm:function(){var Di=j.indexOf(pn);if(Di>-1)return j.splice(Di,1)}}}return{isOnline:en,isListening:function(){return R},unload:sr,addListener:dr,setOnlineState:Mt}}var mh="AppInsightsPropertiesPlugin",hc="AppInsightsChannelPlugin",zp="ApplicationInsightsAnalytics";t.AnalyticsPluginIdentifier=zp,t.BreezeChannelIdentifier=hc,t.ConfigurationManager=$p,t.ConnectionStringParser=Kl,t.ContextTagKeys=iv,t.CtxTagKeys=Wp,t.DEFAULT_BREEZE_ENDPOINT=Bv,t.DEFAULT_BREEZE_PATH=Kd,t.Data=jr,t.DisabledPropertyName=ji,t.DistributedTracingModes=Og,t.Envelope=ta,t.Event=tv,t.EventPersistence=Up,t.Exception=Gt,t.Extensions=ru,t.HttpMethod=sc,t.Metric=hh,t.PageView=rp,t.PageViewPerformance=jp,t.ProcessLegacy=uo,t.PropertiesPluginIdentifier=mh,t.RemoteDependencyData=ed,t.RequestHeaders=Vv,t.SampleRate=kl,t.SeverityLevel=Fu,t.TelemetryItemCreator=Yp,t.ThrottleMgr=Zv,t.Trace=nl,t.correlationIdCanIncludeCorrelationHeader=Jd,t.correlationIdGetCorrelationContext=Yf,t.correlationIdGetCorrelationContextValue=ba,t.correlationIdGetPrefix=eu,t.correlationIdSetPrefix=Qv,t.createDistributedTraceContextFromTrace=dh,t.createDomEvent=ov,t.createOfflineListener=iu,t.createTelemetryItem=ip,t.createTraceParent=Eg,t.dataSanitizeException=Xd,t.dataSanitizeId=Ap,t.dataSanitizeInput=qf,t.dataSanitizeKey=Ou,t.dataSanitizeKeyAndAddUniqueness=lo,t.dataSanitizeMeasurements=vo,t.dataSanitizeMessage=uc,t.dataSanitizeProperties=ko,t.dataSanitizeString=fo,t.dataSanitizeUrl=Vd,t.dateTimeUtilsDuration=jl,t.dateTimeUtilsNow=Ng,t.dsPadNumber=Uf,t.findAllScripts=zv,t.findW3cTraceParent=ao,t.formatTraceParent=Xc,t.getExtensionByName=qg,t.isBeaconApiSupported=_a,t.isCrossOriginError=np,t.isInternalApplicationInsightsEndpoint=Ul,t.isSampledFlag=Mr,t.isValidSpanId=Kv,t.isValidTraceId=Il,t.isValidTraceParent=Tu,t.msToTimeSpan=Pa,t.parseConnectionString=ev,t.parseTraceParent=Wv,t.strNotSpecified=co,t.stringToBoolOrDefault=nv,t.urlGetAbsoluteUrl=Mp,t.urlGetCompleteUrl=qp,t.urlGetPathName=jf,t.urlParseFullHost=$f,t.urlParseHost=Pg,t.urlParseUrl=Hf,t.utlCanUseLocalStorage=ps,t.utlCanUseSessionStorage=Yl,t.utlDisableStorage=Qd,t.utlEnableStorage=zf,t.utlGetLocalStorage=Gf,t.utlGetSessionStorage=wa,t.utlGetSessionStorageKeys=ph,t.utlRemoveSessionStorage=Wl,t.utlRemoveStorage=vh,t.utlSetLocalStorage=kg,t.utlSetSessionStorage=vc,t.utlSetStoragePrefix=Zd})});var Db=Oe(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});DD.TelemetryUtil=void 0;var Sb=class t{static applyReplacements(e,n){for(let r of Object.keys(e))for(let s of n)s.lookup.test(r)&&(s.replacementString!==void 0?e[r]=s.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.8"}}static getInstance(){return t._instance||(t._instance=new t),t._instance}};DD.TelemetryUtil=Sb});var Ek=Oe((CD,Tk)=>{(function(t,e){typeof CD=="object"&&typeof Tk<"u"?e(CD):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(CD,function(t){"use strict";function e(o,a){return o||a}function n(o,a){return o[a]}var r=void 0,s=null,v="",h="function",D="object",E="prototype",I="__proto__",M="undefined",$="constructor",W="Symbol",ne="_polyfill",z="length",_e="name",ge="call",Ae="toString",Me=e(Object),ze=n(Me,E),rt=e(String),Pt=n(rt,E),on=e(Math),we=e(Array),ke=n(we,E),Qe=n(ke,"slice");function dt(o,a){try{return{v:o.apply(this,a)}}catch(c){return{e:c}}}function It(o,a){var c=dt(o);return c.e?a:c.v}var yt;function Qt(o){return function(a){return typeof a===o}}function un(o){var a="[object "+o+"]";return function(c){return!!(c&&Nn(c)===a)}}function Nn(o){return ze[Ae].call(o)}function tt(o){return typeof o===M||o===M}function Zr(o){return!mn(o)}function Ze(o){return o===s||tt(o)}function ut(o){return o===s||!mn(o)}function mn(o){return!!o||o!==r}function Jt(o){return!yt&&(yt=["string","number","boolean",M,"symbol","bigint"]),o!==D&&yt.indexOf(o)!==-1}var Ut=Qt("string"),et=Qt(h);function _r(o){return!o&&Ze(o)?!1:!!o&&typeof o===D}var bt=n(we,"isArray"),Po=un("Date"),fn=Qt("number"),Yi=Qt("boolean"),nn=un("Error");function dn(o){return!!(o&&o.then&&et(o.then))}function ei(o){return!(!o||It(function(){return!(o&&0+o)},!o))}var Xt=n(Me,"getOwnPropertyDescriptor");function fi(o,a){return!!o&&ze.hasOwnProperty[ge](o,a)}var Kn=e(n(Me,"hasOwn"),no);function no(o,a){return fi(o,a)||!!Xt(o,a)}function cn(o,a,c){if(o&&_r(o)){for(var p in o)if(Kn(o,p)&&a[ge](c||o,p,o[p])===-1)break}}var cr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Hi(o){var a={};if(a[cr.c]=!0,a[cr.e]=!0,o.l){a.get=function(){return o.l.v};var c=Xt(o.l,"v");c&&c.set&&(a.set=function(p){o.l.v=p})}return cn(o,function(p,S){a[cr[p]]=Zr(S)?a[cr[p]]:S}),a}var Fr=n(Me,"defineProperty");function Bn(o,a,c){return Fr(o,a,Hi(c))}function pr(o,a,c,p,S){var w={};return cn(o,function(x,H){Si(w,x,a?H:x,S),Si(w,H,c?H:x,S)}),p?p(w):w}function Si(o,a,c,p){Fr(o,a,{value:c,enumerable:!0,writable:!!p})}var Kr=e(rt),tr="[object Error]";function gn(o,a){var c=v,p=ze[Ae][ge](o);p===tr&&(o={stack:Kr(o.stack),message:Kr(o.message),name:Kr(o.name)});try{c=JSON.stringify(o,s,a?typeof a=="number"?a:4:r),c=(c?c.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):s)||Kr(o)}catch(S){c=" - "+gn(S,a)}return p+": "+c}function En(o){throw new Error(o)}function gr(o){throw new TypeError(o)}var mo=n(Me,"freeze");function Q(o){return o}function Fe(o){return o[I]||s}var lt=n(Me,"assign"),it=n(Me,"keys");function Xn(o){return mo&&cn(o,function(a,c){(bt(c)||_r(c))&&Xn(c)}),Nt(o)}var Nt=e(mo,Q),Un=e(n(Me,"getPrototypeOf"),Fe);function nr(o){return pr(o,1,0,Nt)}function yn(o){return pr(o,0,0,Nt)}function or(o){var a={};return cn(o,function(c,p){Si(a,c,p[1]),Si(a,p[0],p[1])}),Nt(a)}function hr(o){return or(o)}var Lr=yn({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Ur="__tsUtils$gblCfg",di;function ro(){var o;return typeof globalThis!==M&&(o=globalThis),!o&&typeof self!==M&&(o=self),!o&&typeof window!==M&&(o=window),!o&&typeof global!==M&&(o=global),o}function Es(){if(!di){var o=dt(ro).v||{};di=o[Ur]=o[Ur]||{}}return di}var L=Ce;function Ce(o,a,c){var p=a?a[o]:s;return function(S){var w=(S?S[o]:s)||p;if(w||c){var x=arguments;return(w||c).apply(S,w?Qe[ge](x,1):x)}gr('"'+Kr(o)+'" not defined for '+gn(S))}}function kt(o){return function(a){return a[o]}}var lr=n(on,"max"),fe=L("slice",Pt),F=L("substring",Pt),te=Ce("substr",Pt,ie);function ie(o,a,c){return Ze(o)&&gr("Invalid "+gn(o)),c<0?v:(a=a||0,a<0&&(a=lr(a+o[z],0)),tt(c)?fe(o,a):fe(o,a,a+c))}function K(o,a){return F(o,0,a)}var O="_urid",me;function Ue(){if(!me){var o=Es();me=o.gblSym=o.gblSym||{k:{},s:{}}}return me}var bn;function _n(o){var a={description:Kr(o),toString:function(){return W+"("+o+")"}};return a[ne]=!0,a}function rr(o){var a=Ue();if(!Kn(a.k,o)){var c=_n(o),p=it(a.s).length;c[O]=function(){return p+"_"+c[Ae]()},a.k[o]=c,a.s[c[O]()]=Kr(o)}return a.k[o]}function vi(o){!bn&&(bn={});var a,c=Lr[o];return c&&(a=bn[c]=bn[c]||_n(W+"."+c)),a}var Dr;function Ii(){Dr=Es()}function xn(o){var a={};return!Dr&&Ii(),a.b=Dr.lzy,Fr(a,"v",{configurable:!0,get:function(){var c=o();return Dr.lzy||Fr(a,"v",{value:c}),a.b=Dr.lzy,c}}),a}function oi(o){return Fr({toJSON:function(){return o}},"v",{value:o})}var C="window",oe;function qe(o,a){var c;return function(){return!Dr&&Ii(),(!c||Dr.lzy)&&(c=oi(dt(o,a).v)),c.v}}function Rt(o){return!Dr&&Ii(),(!oe||o===!1||Dr.lzy)&&(oe=oi(dt(ro).v||s)),oe.v}function rn(o,a){var c;if(!oe||a===!1?c=Rt(a):c=oe.v,c&&c[o])return c[o];if(o===C)try{return window}catch{}return s}function yr(){return!!Rr()}var Rr=qe(rn,["document"]);function Gr(){return!!fr()}var fr=qe(rn,[C]);function da(){return!!bs()}var bs=qe(rn,["navigator"]),Pc=qe(function(){return!!dt(function(){return process&&(process.versions||{}).node}).v}),Hr,Ic;function io(){return Hr=oi(dt(rn,[W]).v),Hr}function wv(o){var a=(Dr.lzy?0:Hr)||io();return a.v?a.v[o]:r}function is(){return!!Tp()}function Tp(){return!Dr&&Ii(),((Dr.lzy?0:Hr)||io()).v}function os(o,a){var c=Lr[o];!Dr&&Ii();var p=(Dr.lzy?0:Hr)||io();return p.v?p.v[c||o]:a?r:vi(o)}function df(o,a){!Dr&&Ii();var c=(Dr.lzy?0:Hr)||io();return c.v?c.v(o):a?s:_n(o)}function Ws(o){return!Dr&&Ii(),Ic=(Dr.lzy?0:Ic)||oi(dt(wv,["for"]).v),(Ic.v||rr)(o)}function Rd(o){return!!o&&et(o.next)}function ir(o){return!ut(o)&&et(o[os(3)])}var Aa;function Pd(o,a,c){if(o&&(Rd(o)||(!Aa&&(Aa=oi(os(3))),o=o[Aa.v]?o[Aa.v]():s),Rd(o))){var p=r,S=r;try{for(var w=0;!(S=o.next()).done&&a[ge](c||o,S.value,w,o)!==-1;)w++}catch(x){p={e:x},o.throw&&(S=s,o.throw(p))}finally{try{S&&!S.done&&o.return&&o.return(S)}finally{if(p)throw p.e}}}}function Ko(o,a,c){return o.apply(a,c)}function gl(o,a){return!tt(a)&&o&&(bt(a)?Ko(o.push,o,a):Rd(a)||ir(a)?Pd(a,function(c){o.push(c)}):o.push(a)),o}function vn(o,a,c){if(o)for(var p=o[z]>>>0,S=0;S<p&&!(S in o&&a[ge](c||o,o[S],S,o)===-1);S++);}var ss=L("indexOf",ke),Nc=L("map",ke);function vf(o,a,c){return((o?o.slice:s)||Qe).apply(o,Qe[ge](arguments,1))}var mg=L("reduce",ke),ws=e(n(Me,"create"),pf);function pf(o){if(!o)return{};var a=typeof o;a!==D&&a!==h&&gr("Prototype must be an Object or function: "+gn(o));function c(){}return c[E]=o,new c}var Rv;function Bu(o,a){var c=Me.setPrototypeOf||function(p,S){var w;!Rv&&(Rv=oi((w={},w[I]=[],w instanceof Array))),Rv.v?p[I]=S:cn(S,function(x,H){return p[x]=H})};return c(o,a)}function Rs(o,a,c){dt(Bn,[a,_e,{v:o,c:!0,e:!1}]),a=Bu(a,c);function p(){this[$]=a,dt(Bn,[this,_e,{v:o,c:!0,e:!1}])}return a[E]=c===s?ws(c):(p[E]=c[E],new p),a}function Ht(o,a){a&&(o[_e]=a)}function oo(o,a,c){var p=c||Error,S=p[E][_e],w=Error.captureStackTrace;return Rs(o,function(){var x=this,H=arguments;try{dt(Ht,[p,o]);var G=Ko(p,x,Qe[ge](H))||x;if(G!==x){var X=Un(x);X!==Un(G)&&Bu(G,X)}return w&&w(G,x[$]),a&&a(G,H),G}finally{dt(Ht,[p,S])}},p)}function Vu(){return(Date.now||vu)()}function vu(){return new Date().getTime()}function Pv(o){return function(c){return Ze(c)&&gr("strTrim called ["+gn(c)+"]"),c&&c.replace&&(c=c.replace(o,v)),c}}var Iv=Pv(/^\s+|(?=\s)\s+$/g),Wi=Ce("trim",Pt,Iv),as,Nv,Ps;function zo(o){if(!o||typeof o!==D)return!1;Ps||(Ps=Gr()?fr():!0);var a=!1;if(o!==Ps){Nv||(as=Function[E][Ae],Nv=as[ge](Me));try{var c=Un(o);a=!c,a||(fi(c,$)&&(c=c[$]),a=!!(c&&typeof c===h&&as[ge](c)===Nv))}catch{}}return a}function uh(o){return o.value&&Ks(o),!0}var _g=[Io,Ks,hf,gf];function Ep(o,a,c,p){var S;return vn(o,function(w){if(w.k===a)return S=w,-1}),S||(S={k:a,v:a},o.push(S),p(S)),S.v}function Xu(o,a,c,p){var S=c.handler,w=c.path?p?c.path.concat(p):c.path:[],x={handler:c.handler,src:c.src,path:w},H=typeof a,G=!1,X=a===s;X||(a&&H===D?G=zo(a):X=Jt(H));var le={type:H,isPrim:X,isPlain:G,value:a,result:a,path:w,origin:c.src,copy:function(Te,Ee){return Xu(o,Te,Ee?x:c,Ee)},copyTo:function(Te,Ee){return bp(o,Te,Ee,x)}};return le.isPrim?S&&S[ge](c,le)?le.result:a:Ep(o,a,w,function(Te){Bn(le,"result",{g:function(){return Te.v},s:function(De){Te.v=De}});for(var Ee=0,be=S;!(be||(Ee<_g.length?_g[Ee++]:uh))[ge](c,le);)be=s})}function bp(o,a,c,p){if(!Ze(c))for(var S in c)a[S]=Xu(o,c[S],p,S);return a}function tm(o,a,c){var p={handler:c,src:a,path:[]};return bp([],o,a,p)}function Ov(o,a){var c={handler:a,src:o};return Xu([],o,c)}function Io(o){var a=o.value;if(bt(a)){var c=o.result=[];return c.length=a.length,o.copyTo(c,a),!0}return!1}function gf(o){var a=o.value;return Po(a)?(o.result=new Date(a.getTime()),!0):!1}function hf(o){return o.type===h}function Ks(o){var a=o.value;if(a&&o.isPlain){var c=o.result={};return o.copyTo(c,a),!0}return!1}function us(o,a){return vn(a,function(c){tm(o,c)}),o}function Ju(o,a,c,p,S,w,x){return us(Ov(o)||{},Qe[ge](arguments))}var wp=kt(z),Is=Ce("endsWith",Pt,kv);function kv(o,a,c){Ut(o)||gr("'"+gn(o)+"' is not a string");var p=Ut(a)?a:Kr(a),S=!tt(c)&&c<o[z]?c:o[z];return F(o,S-p[z],S)===p}var Oc=L("indexOf",Pt),hl="ref",mf="unref",Id="hasRef",xv="enabled";function Rp(o,a,c){var p=!0,S=o?a(s):s,w;function x(){return p=!1,S&&S[mf]&&S[mf](),w}function H(){S&&c(S),S=s}function G(){return S=a(S),p||x(),w}function X(le){!le&&S&&H(),le&&!S&&G()}return w={cancel:H,refresh:G},w[Id]=function(){return S&&S[Id]?S[Id]():p},w[hl]=function(){return p=!0,S&&S[hl]&&S[hl](),w},w[mf]=x,w=Fr(w,xv,{get:function(){return!!S},set:X}),{h:w,dn:function(){S=s}}}function Pp(o,a,c){var p=bt(a),S=p?a.length:0,w=(S>0?a[0]:p?r:a)||setTimeout,x=(S>1?a[1]:r)||clearTimeout,H=c[0];c[0]=function(){G.dn(),Ko(H,r,Qe[ge](arguments))};var G=Rp(o,function(X){if(X){if(X.refresh)return X.refresh(),X;Ko(x,r,[X])}return Ko(w,r,c)},function(X){Ko(x,r,[X])});return G.h}function Qu(o,a){return Pp(!0,r,Qe[ge](arguments))}function Fv(o,a){return Pp(!1,r,Qe[ge](arguments))}var pu,kc="constructor",Ns="prototype",_f="function",Nd="_dynInstFuncs",ml="_isDynProxy",zs="_dynClass",yg="_dynCls$",Ma="_dynInstChk",va=Ma,Gs="_dfOpts",Zu="_unknown_",Od="__proto__",_l="_dyn"+Od,yl="__dynProto$Gbl",xc="_dynInstProto",kd="useBaseInst",yf="setInstFuncs",xd=Object,Fc=xd.getPrototypeOf,Bs=xd.getOwnPropertyNames,Sl=Rt(),pa=Sl[yl]||(Sl[yl]={o:(pu={},pu[yf]=!0,pu[kd]=!0,pu),n:1e3});function cs(o){return o&&(o===xd[Ns]||o===Array[Ns])}function qa(o){return cs(o)||o===Function[Ns]}function $r(o){var a;if(o){if(Fc)return Fc(o);var c=o[Od]||o[Ns]||(o[kc]?o[kc][Ns]:null);a=o[_l]||c,fi(o,_l)||(delete o[xc],a=o[_l]=o[xc]||o[_l],o[xc]=c)}return a}function gu(o,a){var c=[];if(Bs)c=Bs(o);else for(var p in o)typeof p=="string"&&fi(o,p)&&c.push(p);if(c&&c.length>0)for(var S=0;S<c.length;S++)a(c[S])}function Vs(o,a,c){return a!==kc&&typeof o[a]===_f&&(c||fi(o,a))&&a!==Od&&a!==Ns}function Dl(o){gr("DynamicProto: "+o)}function Cl(o){var a=ws(null);return gu(o,function(c){!a[c]&&Vs(o,c,!1)&&(a[c]=o[c])}),a}function Ua(o,a){for(var c=o.length-1;c>=0;c--)if(o[c]===a)return!0;return!1}function Sf(o,a,c,p){function S(G,X,le){var Te=X[le];if(Te[ml]&&p){var Ee=G[Nd]||{};Ee[va]!==!1&&(Te=(Ee[X[zs]]||{})[le]||Te)}return function(){return Te.apply(G,arguments)}}var w=ws(null);gu(c,function(G){w[G]=S(a,c,G)});for(var x=$r(o),H=[];x&&!qa(x)&&!Ua(H,x);)gu(x,function(G){!w[G]&&Vs(x,G,!Fc)&&(w[G]=S(a,x,G))}),H.push(x),x=$r(x);return w}function Ha(o,a,c,p){var S=null;if(o&&fi(c,zs)){var w=o[Nd]||ws(null);if(S=(w[c[zs]]||ws(null))[a],S||Dl("Missing ["+a+"] "+_f),!S[Ma]&&w[va]!==!1){for(var x=!fi(o,a),H=$r(o),G=[];x&&H&&!qa(H)&&!Ua(G,H);){var X=H[a];if(X){x=X===p;break}G.push(H),H=$r(H)}try{x&&(o[a]=S),S[Ma]=1}catch{w[va]=!1}}}return S}function ec(o,a,c){var p=a[o];return p===c&&(p=$r(a)[o]),typeof p!==_f&&Dl("["+o+"] is not a "+_f),p}function Go(o,a,c,p,S){function w(G,X){var le=function(){var Te=Ha(this,X,G,le)||ec(X,G,le);return Te.apply(this,arguments)};return le[ml]=1,le}if(!cs(o)){var x=c[Nd]=c[Nd]||ws(null);if(!cs(x)){var H=x[a]=x[a]||ws(null);x[va]!==!1&&(x[va]=!!S),cs(H)||gu(c,function(G){Vs(c,G,!1)&&c[G]!==p[G]&&(H[G]=c[G],delete c[G],(!fi(o,G)||o[G]&&!o[G][ml])&&(o[G]=w(o,G)))})}}}function Lv(o,a){if(Fc){for(var c=[],p=$r(a);p&&!qa(p)&&!Ua(c,p);){if(p===o)return!0;c.push(p),p=$r(p)}return!1}return!0}function Lc(o,a){return fi(o,Ns)?o.name||a||Zu:((o||{})[kc]||{}).name||a||Zu}function No(o,a,c,p){fi(o,Ns)||Dl("theClass is an invalid class definition.");var S=o[Ns];Lv(S,a)||Dl("["+Lc(o)+"] not in hierarchy of ["+Lc(a)+"]");var w=null;fi(S,zs)?w=S[zs]:(w=yg+Lc(o,"_")+"$"+pa.n,pa.n++,S[zs]=w);var x=No[Gs],H=!!x[kd];H&&p&&p[kd]!==void 0&&(H=!!p[kd]);var G=Cl(a),X=Sf(S,a,G,H);c(a,X);var le=!!Fc&&!!x[yf];le&&p&&(le=!!p[yf]),Go(S,w,a,G,le!==!1)}No[Gs]=pa.o;var Fd="function",Av="object",Df="undefined",Cf="prototype",Mv=Object,Sg=Mv[Cf];(Rt()||{}).Symbol,(Rt()||{}).Reflect;var Ac="hasOwnProperty",ga=function(o){for(var a,c=1,p=arguments.length;c<p;c++){a=arguments[c];for(var S in a)Sg[Ac].call(a,S)&&(o[S]=a[S])}return o},Xs=lt||ga,pi=function(o,a){return pi=Mv.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var S in p)p[Ac](S)&&(c[S]=p[S])},pi(o,a)};function Tf(o,a){typeof a!==Fd&&a!==null&&gr("Class extends value "+String(a)+" is not a constructor or null"),pi(o,a);function c(){this.constructor=o}o[Cf]=a===null?ws(a):(c[Cf]=a[Cf],new c)}function Mc(o,a){for(var c=0,p=a.length,S=o.length;c<p;c++,S++)o[S]=a[c];return o}var qc=nr,qv=hr,Os=qc({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),tc="toLowerCase",hu="blkVal",zn="length",ha="rdOnly",ja="notify",ks="warnToConsole",Ld="throwInternal",xs="setDf",nc="watch",si="logger",Bo="apply",Nr="push",jt="splice",Uc="hdlr",ma="cancel",mu="initialize",Js="identifier",rc="removeNotificationListener",Fs="addNotificationListener",Ar="isInitialized",_a="instrumentationKey",Or="INACTIVE",ya="value",Ad="getNotifyMgr",Sa="getPlugin",Ni="name",Qs="iKey",$a="time",_o="processNext",Oo="getProcessTelContext",Tl="pollInternalLogs",Hc="enabled",Md="stopPollingInternalLogs",_u="unload",Da="onComplete",Ca="version",jc="loggingLevelConsole",Ta="createNew",xi="teardown",qd="messageId",$c="message",yu="isAsync",ls="diagLog",Ya="_doTeardown",Su="update",Ls="getNext",El="setNextPlugin",ic="protocol",so="userAgent",oc="split",Du="nodeType",As="replace",Yc="logInternalMessage",ai="type",Ki="handler",Ms="status",Wc="getResponseHeader",Wa="getAllResponseHeaders",Uv="isChildEvt",fs="data",bl="getCtx",yo="setCtx",Ud="complete",Vo="itemsReceived",Ka="urlString",za="sendPOST",Hv="headers",Ef="timeout",Hd="setRequestHeader",bf="traceId",Ea="spanId",Xo="traceFlags",wl;function Dg(o,a){wl||(wl=oo("AggregationError",function(p,S){S[zn]>1&&(p.errors=S[1])}));var c=o||"One or more errors occurred.";throw vn(a,function(p,S){c+=`
`.concat(S," > ").concat(gn(p))}),new wl(c,a||[])}var Kc="Promise",zc="rejected";function Ga(o,a){return wf(o,function(c){return a?a({status:"fulfilled",rejected:!1,value:c}):c},function(c){return a?a({status:zc,rejected:!0,reason:c}):c})}function wf(o,a,c,p){var S=o;try{if(dn(o))(a||c)&&(S=o.then(a,c));else try{a&&(S=a(o))}catch(w){if(c)S=c(w);else throw w}}finally{p&&ch(S,p)}return S}function ch(o,a){var c=o;return a&&(dn(o)?o.finally?c=o.finally(a):c=o.then(function(p){return a(),p},function(p){throw a(),p}):a()),c}var jv=["pending","resolving","resolved",zc],Rf="dispatchEvent",Gc;function Ip(o){var a;return o&&o.createEvent&&(a=o.createEvent("Event")),!!a&&a.initEvent}function Cg(o,a,c,p){var S=Rr();!Gc&&(Gc=oi(!!dt(Ip,[S]).v));var w=Gc.v?S.createEvent("Event"):p?new Event(a):{};if(c&&c(w),Gc.v&&w.initEvent(a,!1,!0),w&&o[Rf])o[Rf](w);else{var x=o["on"+a];if(x)x(w);else{var H=rn("console");H&&(H.error||H.log)(a,gn(w))}}}var Bc="unhandledRejection",Tg=Bc.toLowerCase(),Pf=10,$v;function Zs(o){return et(o)?o.toString():gn(o)}function Np(o,a,c){var p=vf(arguments,3),S=0,w=!1,x,H=[],G=!1,X=null,le;function Te(mt,At){try{G=!0,X&&X.cancel(),X=null;var ur=o(function(Vr,Xr){H.push(function(){try{var _i=S===2?mt:At,Mn=tt(_i)?x:et(_i)?_i(x):_i;dn(Mn)?Mn.then(Vr,Xr):_i?Vr(Mn):S===3?Xr(Mn):Vr(Mn)}catch(Cn){Xr(Cn)}}),w&&Xe()},p);return ur}finally{}}function Ee(mt){return Te(void 0,mt)}function be(mt){var At=mt,ur=mt;return et(mt)&&(At=function(Vr){return mt&&mt(),Vr},ur=function(Vr){throw mt&&mt(),Vr}),Te(At,ur)}function De(){return jv[S]}function Xe(){if(H.length>0){var mt=H.slice();H=[],G=!0,X&&X.cancel(),X=null,a(mt)}}function Pe(mt,At){return function(ur){if(S===At){if(mt===2&&dn(ur)){S=1,ur.then(Pe(2,1),Pe(3,1));return}S=mt,w=!0,x=ur,Xe(),!G&&mt===3&&!X&&(X=Qu(ot,Pf))}}}function ot(){if(!G)if(G=!0,Pc())process.emit(Bc,x,le);else{var mt=fr()||Rt();!$v&&($v=oi(dt(rn,[Kc+"RejectionEvent"]).v)),Cg(mt,Tg,function(At){return Bn(At,"promise",{g:function(){return le}}),At.reason=x,At},!!$v.v)}}le={then:Te,catch:Ee,finally:be},Fr(le,"state",{get:De}),is()&&(le[os(11)]="IPromise");function st(){return"IPromise "+De()+(w?" - "+Zs(x):"")}return le.toString=st,function(){et(c)||gr(Kc+": executor is not a function - "+Zs(c));var At=Pe(3,0);try{c.call(le,Pe(2,0),At)}catch(ur){At(ur)}}(),le}function lh(o){return function(a){var c=vf(arguments,1);return o(function(p,S){try{var w=[],x=1;Pd(a,function(H,G){H&&(x++,wf(H,function(X){w[G]=X,--x===0&&p(w)},S))}),x--,x===0&&p(w)}catch(H){S(H)}},c)}}function jd(o){return oi(function(a){var c=vf(arguments,1);return o(function(p,S){var w=[],x=1;function H(G,X){x++,Ga(G,function(le){le.rejected?w[X]={status:zc,reason:le.reason}:w[X]={status:"fulfilled",value:le.value},--x===0&&p(w)})}try{bt(a)?vn(a,H):ir(a)?Pd(a,H):gr("Input is not an iterable"),x--,x===0&&p(w)}catch(G){S(G)}},c)})}function Op(o){vn(o,function(a){try{a()}catch{}})}function Yv(o){var a=fn(o)?o:0;return function(c){Qu(function(){Op(c)},a)}}function Rl(o,a){return Np(Rl,Yv(a),o,a)}var $d;function Vc(o,a){!$d&&($d=oi(dt(rn,[Kc]).v||null));var c=$d.v;if(!c)return Rl(o);et(o)||gr(Kc+": executor is not a function - "+gn(o));var p=0;function S(){return jv[p]}var w=new c(function(x,H){function G(le){p=2,x(le)}function X(le){p=3,H(le)}o(G,X)});return Fr(w,"state",{get:S}),w}var Cu;function Pl(o){return Np(Pl,Op,o)}function Eg(o,a){return!Cu&&(Cu=jd(Pl)),Cu.v(o,a)}var Wv;function Il(o,a){return!Wv&&(Wv=oi(Vc)),Wv.v.call(this,o,a)}var Kv=lh(Il),Tu=void 0,Mr="",Xc="channels",ao="core",zv="createPerfMgr",Yd="disabled",Nl="extensionConfig",Jc="extensions",Jo="processTelemetry",Wd="priority",zi="eventsSent",Jn="eventsDiscarded",Eu="eventsSendRequest",mi="perfEvent",Ba="offlineEventsStored",Qc="offlineBatchSent",Zc="offlineBatchDrop",bu="getPerfMgr",ea="domain",If="path",kp="Not dynamic - ",Nf=/-([a-z])/g,xp=/([^\w\d_$])/g,Of=/^(\d+[\w\d_$])/;function Ol(o){return!Ze(o)}function Gv(o){var a=o;return a&&Ut(a)&&(a=a[As](Nf,function(c,p){return p.toUpperCase()}),a=a[As](xp,"_"),a=a[As](Of,function(c,p){return"_"+p})),a}function ji(o,a){return o&&a?Oc(o,a)!==-1:!1}function kl(o){return o&&o.toISOString()||""}function uo(o){return nn(o)?o[Ni]:Mr}function sc(o,a,c,p,S){var w=c;return o&&(w=o[a],w!==c&&(!S||S(w))&&(!p||p(c))&&(w=c,o[a]=w)),w}function Bv(o,a,c){var p;return o?(p=o[a],!p&&Ze(p)&&(p=tt(c)?{}:c,o[a]=p)):p=tt(c)?{}:c,p}function Kd(o,a){var c=null,p=null;return et(o)?c=o:p=o,function(){var S=arguments;if(c&&(p=c()),p)return p[a][Bo](p,S)}}function co(o,a,c,p,S){o&&a&&c&&(S!==!1||tt(o[a]))&&(o[a]=Kd(c,p))}function zd(o,a,c,p){return o&&a&&_r(o)&&bt(c)&&vn(c,function(S){Ut(S)&&co(o,S,a,S,p)}),o}function Vv(o){return function(){function a(){var c=this;o&&cn(o,function(p,S){c[p]=S})}return a}()}function wu(o){return o&&lt&&(o=Mv(lt({},o))),o}function Zt(o,a,c,p,S,w){var x=arguments,H=x[0]||{},G=x[zn],X=!1,le=1;for(G>0&&Yi(H)&&(X=H,H=x[le]||{},le++),_r(H)||(H={});le<G;le++){var Te=x[le],Ee=bt(Te),be=_r(Te);for(var De in Te){var Xe=Ee&&De in Te||be&&Kn(Te,De);if(Xe){var Pe=Te[De],ot=void 0;if(X&&Pe&&((ot=bt(Pe))||zo(Pe))){var st=H[De];ot?bt(st)||(st=[]):zo(st)||(st={}),Pe=Zt(X,st,Pe)}Pe!==void 0&&(H[De]=Pe)}}}return H}function Va(o){try{return o.responseText}catch{}return null}function Xa(o,a){return o?"XDomainRequest,Response:"+Va(o)||"":a}function ds(o,a){return o?"XMLHttpRequest,Status:"+o[Ms]+",Response:"+Va(o)||o.response||"":a}function kf(o,a){return a&&(fn(a)?o=[a].concat(o):bt(a)&&(o=a.concat(o))),o}var xl="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ja="withCredentials",qs="timeout";function Fl(o,a,c,p,S,w){p===void 0&&(p=!1),S===void 0&&(S=!1);function x(G,X,le){try{G[X]=le}catch{}}var H=new XMLHttpRequest;return p&&x(H,xl,p),c&&x(H,Ja,c),H.open(o,a,!S),c&&x(H,Ja,c),!S&&w&&x(H,qs,w),H}function Gd(o){var a={};if(Ut(o)){var c=Wi(o)[oc](/[\r\n]+/);vn(c,function(p){if(p){var S=p.indexOf(": ");if(S!==-1){var w=Wi(p.substring(0,S))[tc](),x=Wi(p.substring(S+1));a[w]=x}else a[Wi(p)]=1}})}return a}function Ru(o,a,c){if(!o[c]&&a&&a[Wc]){var p=a[Wc](c);p&&(o[c]=Wi(p))}return o}var xf="kill-duration",Ll="kill-duration-seconds",Ff="time-delta-millis";function Xv(o,a){var c={};return o[Wa]?c=Gd(o[Wa]()):a&&(c=Ru(c,o,Ff),c=Ru(c,o,xf),c=Ru(c,o,Ll)),c}var Jv="documentMode",Fp="location",fh="console",Qa="JSON",Pu="crypto",Za="msCrypto",Us="msie",Iu="trident/",ac="XMLHttpRequest",vs=null,Al=null,bg=!1,el=null,Lp=null;function Lf(o,a){var c=!1;if(o){try{if(c=a in o,!c){var p=o[Cf];p&&(c=a in p)}}catch{}if(!c)try{var S=new o;c=!tt(S[a])}catch{}}return c}function Ml(o){if(o&&bg){var a=rn("__mockLocation");if(a)return a}return typeof location===Av&&location?location:rn(Fp)}function Af(){return typeof console!==Df?console:rn(fh)}function Nu(){return!!(typeof JSON===Av&&JSON||rn(Qa)!==null)}function Hs(){return Nu()?JSON||rn(Qa):null}function ql(){return rn(Pu)}function Mf(){return rn(Za)}function Bd(){var o=bs();if(o&&(o[so]!==Al||vs===null)){Al=o[so];var a=(Al||Mr)[tc]();vs=ji(a,Us)||ji(a,Iu)}return vs}function lo(o){if(o===void 0&&(o=null),!o){var a=bs()||{};o=a?(a.userAgent||Mr)[tc]():Mr}var c=(o||Mr)[tc]();if(ji(c,Us)){var p=Rr()||{};return Math.max(parseInt(c[oc](Us)[1]),p[Jv]||0)}else if(ji(c,Iu)){var S=parseInt(c[oc](Iu)[1]);if(S)return S+4}return null}function Ou(o){return(Lp===null||o===!1)&&(Lp=da()&&!!bs().sendBeacon),Lp}function fo(o){var a=!1;try{a=!!rn("fetch");var c=rn("Request");a&&o&&c&&(a=Lf(c,"keepalive"))}catch{}return a}function Vd(){return el===null&&(el=typeof XDomainRequest!==Df,el&&uc()&&(el=el&&!Lf(rn(ac),"withCredentials"))),el}function uc(){var o=!1;try{var a=rn(ac);o=!!a}catch{}return o}var Xd=4294967296,ko=4294967295,vo=123456789,Ap=987654321,qf=!1,Uf=vo,cc=Ap;function wg(o){o<0&&(o>>>=0),Uf=vo+o&ko,cc=Ap-o&ko,qf=!0}function Rg(){try{var o=Vu()&2147483647;wg((Math.random()*Xd^o)+o)}catch{}}function Hf(o){var a=0,c=ql()||Mf();return c&&c.getRandomValues&&(a=c.getRandomValues(new Uint32Array(1))[0]&ko),a===0&&Bd()&&(qf||Rg(),a=Mp()&ko),a===0&&(a=Math.floor(Xd*Math.random()|0)),o||(a>>>=0),a}function Mp(o){cc=36969*(cc&65535)+(cc>>16)&ko,Uf=18e3*(Uf&65535)+(Uf>>16)&ko;var a=(cc<<16)+(Uf&65535)>>>0&ko|0;return o||(a>>>=0),a}function jf(o){o===void 0&&(o=22);for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=Hf()>>>0,p=0,S=Mr;S[zn]<o;)p++,S+=a.charAt(c&63),c>>>=6,p===5&&(c=(Hf()<<2&4294967295|c&3)>>>0,p=0);return S}var qp="3.3.4",Pg="."+jf(6),$f=0;function Ig(o){return o[Du]===1||o[Du]===9||!+o[Du]}function lc(o,a){var c=a[o.id];if(!c){c={};try{Ig(a)&&Bn(a,o.id,{e:!1,v:c})}catch{}}return c}function Ul(o,a){return a===void 0&&(a=!1),Gv(o+$f+++(a?"."+qp:Mr)+Pg)}function Qv(o){var a={id:Ul("_aiData-"+(o||Mr)+"."+qp),accept:function(c){return Ig(c)},get:function(c,p,S,w){var x=c[a.id];return x?x[Gv(p)]:(w&&(x=lc(a,c),x[Gv(p)]=S),S)},kill:function(c,p){if(c&&c[p])try{delete c[p]}catch{}}};return a}function eu(o){return o&&_r(o)&&(o.isVal||o.fb||Kn(o,"v")||Kn(o,"mrg")||Kn(o,"ref")||o.set)}function Jd(o,a,c){var p,S=c.dfVal||mn;if(a&&c.fb){var w=c.fb;bt(w)||(w=[w]);for(var x=0;x<w[zn];x++){var H=w[x],G=a[H];if(S(G)?p=G:o&&(G=o.cfg[H],S(G)&&(p=G),o.set(o.cfg,Kr(H),G)),S(p))break}}return!S(p)&&S(c.v)&&(p=c.v),p}function Yf(o,a,c){var p=c;if(c&&eu(c)&&(p=Jd(o,a,c)),p){eu(p)&&(p=Yf(o,a,p));var S;bt(p)?(S=[],S[zn]=p[zn]):zo(p)&&(S={}),S&&(cn(p,function(w,x){x&&eu(x)&&(x=Yf(o,a,x)),S[w]=x}),p=S)}return p}function ba(o,a,c,p){var S,w,x,H=p,G,X,le,Te;eu(H)?(S=H.isVal,w=H.set,le=H[ha],Te=H[hu],G=H.mrg,X=H.ref,!X&&tt(X)&&(X=!!G),x=Jd(o,a,H)):x=p,Te&&o[hu](a,c);var Ee,be=!0,De=a[c];(De||!Ze(De))&&(Ee=De,be=!1,S&&Ee!==x&&!S(Ee)&&(Ee=x,be=!0),w&&(Ee=w(Ee,x,a),be=Ee===x)),be?x?Ee=Yf(o,a,x):Ee=x:(zo(Ee)||bt(x))&&G&&x&&(zo(x)||bt(x))&&cn(x,function(Xe,Pe){ba(o,Ee,Xe,Pe)}),o.set(a,c,Ee),X&&o.ref(a,c),le&&o[ha](a,c)}var Hl=Ws("[[ai_dynCfg_1]]"),Ng=Ws("[[ai_blkDynCfg_1]]"),jl=Ws("[[ai_frcDynCfg_1]]");function dh(o){if(o){var a;if(bt(o)?(a=[],a[zn]=o[zn]):zo(o)&&(a={}),a)return cn(o,function(c,p){a[c]=dh(p)}),a}return o}function Wf(o){if(o){var a=o[Hl]||o;if(a.cfg&&(a.cfg===o||a.cfg[Hl]===a))return a}return null}function Og(o){if(o&&(zo(o)||bt(o)))try{o[Ng]=!0}catch{}return o}function Up(o,a,c){var p=!1;return c&&!o[a.blkVal]&&(p=c[jl],!p&&!c[Ng]&&(p=zo(c)||bt(c))),p}function fc(o){gr("InvalidAccess:"+o)}var dc=["push","pop","shift","unshift","splice"],$l=function(o,a,c,p){o&&o[Ld](3,108,"".concat(c," [").concat(a,"] failed - ")+gn(p))};function tu(o,a,c){bt(a)&&vn(dc,function(p){var S=a[p];a[p]=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];var H=S[Bo](this,w);return zf(o,a,c,"Patching"),H}})}function ku(o,a){var c=Xt(o,a);return c&&c.get}function Kf(o,a,c,p){var S={n:c,h:[],trk:function(X){X&&X.fn&&(ss(S.h,X)===-1&&S.h[Nr](X),o.trk(X,S))},clr:function(X){var le=ss(S.h,X);le!==-1&&S.h[jt](le,1)}},w=!0,x=!1;function H(){w&&(x=x||Up(H,o,p),p&&!p[Hl]&&x&&(p=zf(o,p,c,"Converting")),w=!1);var X=o.act;return X&&S.trk(X),p}H[o.prop]={chng:function(){o.add(S)}};function G(X){if(p!==X){H[o.ro]&&!o.upd&&fc("["+c+"] is read-only:"+gn(a)),w&&(x=x||Up(H,o,p),w=!1);var le=x&&H[o.rf];if(x)if(le){cn(p,function(Ee){p[Ee]=X?X[Ee]:Tu});try{cn(X,function(Ee,be){Qd(o,p,Ee,be)}),X=p}catch(Ee){$l((o.hdlr||{})[si],c,"Assigning",Ee),x=!1}}else p&&p[Hl]&&cn(p,function(Ee){var be=ku(p,Ee);if(be){var De=be[o.prop];De&&De.chng()}});if(X!==p){var Te=X&&Up(H,o,X);!le&&Te&&(X=zf(o,X,c,"Converting")),p=X,x=Te}o.add(S)}}Bn(a,S.n,{g:H,s:G})}function Qd(o,a,c,p){if(a){var S=ku(a,c),w=S&&!!S[o.prop];w?a[c]=p:Kf(o,a,c,p)}return a}function Zd(o,a,c,p){if(a){var S=ku(a,c),w=S&&!!S[o.prop],x=p&&p[0],H=p&&p[1],G=p&&p[2];if(!w){if(G)try{Og(a)}catch(X){$l((o.hdlr||{})[si],c,"Blocking",X)}try{Qd(o,a,c,a[c]),S=ku(a,c)}catch(X){$l((o.hdlr||{})[si],c,"State",X)}}x&&(S[o.rf]=x),H&&(S[o.ro]=H),G&&(S[o.blkVal]=!0)}return a}function zf(o,a,c,p){try{cn(a,function(S,w){Qd(o,a,S,w)}),a[Hl]||(Fr(a,Hl,{get:function(){return o[Uc]}}),tu(o,a,c))}catch(S){$l((o.hdlr||{})[si],c,p,S)}return a}var ps="[[ai_",Gf="]]";function kg(o){var a,c=df(ps+"get"+o.uid+Gf),p=df(ps+"ro"+o.uid+Gf),S=df(ps+"rf"+o.uid+Gf),w=df(ps+"blkVal"+o.uid+Gf),x=df(ps+"dtl"+o.uid+Gf),H=null,G=null,X;function le(De,Xe){var Pe=X.act;try{X.act=De,De&&De[x]&&(vn(De[x],function(st){st.clr(De)}),De[x]=[]),Xe({cfg:o.cfg,set:o.set.bind(o),setDf:o[xs].bind(o),ref:o.ref.bind(o),rdOnly:o[ha].bind(o)})}catch(st){var ot=o[si];throw ot&&ot[Ld](1,107,gn(st)),st}finally{X.act=Pe||null}}function Te(){if(H){var De=H;H=null,G&&G[ma](),G=null;var Xe=[];if(vn(De,function(Pe){if(Pe&&(Pe[x]&&(vn(Pe[x],function(ot){ot.clr(Pe)}),Pe[x]=null),Pe.fn))try{le(Pe,Pe.fn)}catch(ot){Xe[Nr](ot)}}),H)try{Te()}catch(Pe){Xe[Nr](Pe)}Xe[zn]>0&&Dg("Watcher error(s): ",Xe)}}function Ee(De){if(De&&De.h[zn]>0){H||(H=[]),G||(G=Qu(function(){G=null,Te()},0));for(var Xe=0;Xe<De.h[zn];Xe++){var Pe=De.h[Xe];Pe&&ss(H,Pe)===-1&&H[Nr](Pe)}}}function be(De,Xe){if(De){var Pe=De[x]=De[x]||[];ss(Pe,Xe)===-1&&Pe[Nr](Xe)}}return X=(a={prop:c,ro:p,rf:S},a[hu]=w,a[Uc]=o,a.add=Ee,a[ja]=Te,a.use=le,a.trk=be,a),X}function vh(o,a){var c={fn:a,rm:function(){c.fn=null,o=null,a=null}};return Bn(c,"toJSON",{v:function(){return"WatcherHandler"+(c.fn?"":"[X]")}}),o.use(c,a),c}function Yl(o,a,c){var p,S=Wf(a);if(S)return S;var w=Ul("dyncfg",!0),x=a&&c!==!1?a:dh(a),H;function G(){H[ja]()}function X(ot,st,mt){try{ot=Qd(H,ot,st,mt)}catch(At){$l(o,st,"Setting value",At)}return ot[st]}function le(ot){return vh(H,ot)}function Te(ot,st){H.use(null,function(mt){var At=H.upd;try{tt(st)||(H.upd=st),ot(mt)}finally{H.upd=At}})}function Ee(ot,st){var mt;return Zd(H,ot,st,(mt={},mt[0]=!0,mt))[st]}function be(ot,st){var mt;return Zd(H,ot,st,(mt={},mt[1]=!0,mt))[st]}function De(ot,st){var mt;return Zd(H,ot,st,(mt={},mt[2]=!0,mt))[st]}function Xe(ot,st){return st&&cn(st,function(mt,At){ba(Pe,ot,mt,At)}),ot}var Pe=(p={uid:null,cfg:x},p[si]=o,p[ja]=G,p.set=X,p[xs]=Xe,p[nc]=le,p.ref=Ee,p[ha]=be,p[hu]=De,p._block=Te,p);return Bn(Pe,"uid",{c:!1,e:!1,w:!1,v:w}),H=kg(Pe),zf(H,x,"config","Creating"),Pe}function ph(o,a){o?(o[ks](a),o[Ld](2,108,a)):fc(a)}function wa(o,a,c,p){var S=Yl(c,o||{},p);return a&&S[xs](S.cfg,a),S}function vc(o,a,c){var p=o[Hl]||o;return p.cfg&&(p.cfg===o||p.cfg[Hl]===p)?p[nc](a):(ph(c,kp+gn(o)),wa(o,null,c)[nc](a))}function Wl(o,a){if(o&&o[_u])return o[_u](a)}function xg(o,a,c){var p;return c||(p=Il(function(S){c=S})),o&&wp(o)>0?Ga(Wl(o[0],a),function(){xg(vf(o,1),a,c)}):c(),p}var Zv=500,Fg="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Hp(o,a,c){return!o&&Ze(o)?a:Yi(o)?o:Kr(o)[tc]()==="true"}function ev(o){return{mrg:!0,v:o}}function Kl(o,a,c){return{fb:c,isVal:o,v:a}}function ta(o,a){return{fb:a,set:Hp,v:!!o}}var tv=[zi,Jn,Eu,mi],zl=null,xo;function na(o,a){return function(){var c=arguments,p=Lg(a);if(p){var S=p.listener;S&&S[o]&&S[o][Bo](S,c)}}}function Bf(){var o=rn("Microsoft");return o&&(zl=o.ApplicationInsights),zl}function Lg(o){var a=zl;return!a&&o.disableDbgExt!==!0&&(a=zl||Bf()),a?a.ChromeDbgExt:null}function Ag(o){if(!xo){xo={};for(var a=0;a<tv[zn];a++)xo[tv[a]]=na(tv[a],o)}return xo}var po,Gl="warnToConsole",Vf="AI (Internal): ",gh="AI: ",Mg="AITR_",Xf={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Fo=(po={},po[0]=null,po[1]="errorToConsole",po[2]=Gl,po[3]="debugToConsole",po);function ep(o){return o?'"'+o[As](/\"/g,Mr)+'"':Mr}function tl(o,a){var c=Af();if(c){var p="log";c[o]&&(p=o),et(c[p])&&c[p](a)}}var Bl=function(){function o(a,c,p,S){p===void 0&&(p=!1);var w=this;w[qd]=a,w[$c]=(p?gh:Vf)+a;var x=Mr;Nu()&&(x=Hs().stringify(S));var H=(c?" message:"+ep(c):Mr)+(S?" props:"+ep(x):Mr);w[$c]+=H}return o.dataType="MessageData",o}();function xu(o,a){return(o||{})[si]||new Jf(a)}var Jf=function(){function o(a){this.identifier="DiagnosticLogger",this.queue=[];var c=0,p={},S,w,x,H,G;No(o,this,function(X){G=Te(a||{}),X.consoleLoggingLevel=function(){return S},X[Ld]=function(De,Xe,Pe,ot,st){st===void 0&&(st=!1);var mt=new Bl(Xe,Pe,st,ot);if(H)throw gn(mt);var At=Fo[De]||Gl;if(tt(mt[$c]))be("throw"+(De===1?"Critical":"Warning"),mt);else{if(st){var ur=+mt[qd];!p[ur]&&S>=De&&(X[At](mt[$c]),p[ur]=!0)}else S>=De&&X[At](mt[$c]);le(De,mt)}},X.debugToConsole=function(De){tl("debug",De),be("warning",De)},X[ks]=function(De){tl("warn",De),be("warning",De)},X.errorToConsole=function(De){tl("error",De),be("error",De)},X.resetInternalMessageCount=function(){c=0,p={}},X[Yc]=le,X[_u]=function(De){G&&G.rm(),G=null};function le(De,Xe){if(!Ee()){var Pe=!0,ot=Mg+Xe[qd];if(p[ot]?Pe=!1:p[ot]=!0,Pe&&(De<=w&&(X.queue[Nr](Xe),c++,be(De===1?"error":"warn",Xe)),c===x)){var st="Internal events throttle limit per PageView reached for this app.",mt=new Bl(23,st,!1);X.queue[Nr](mt),De===1?X.errorToConsole(st):X[ks](st)}}}function Te(De){return vc(wa(De,Xf,X).cfg,function(Xe){var Pe=Xe.cfg;S=Pe[jc],w=Pe.loggingLevelTelemetry,x=Pe.maxMessageLimit,H=Pe.enableDebug})}function Ee(){return c>=x}function be(De,Xe){var Pe=Lg(a||{});Pe&&Pe[ls]&&Pe[ls](De,Xe)}})}return o.__ieDyn=1,o}();function tp(o){return o||new Jf}function Gt(o,a,c,p,S,w){w===void 0&&(w=!1),tp(o)[Ld](a,c,p,S,w)}function pc(o,a){tp(o)[ks](a)}var Ra,Qf,hh="toGMTString",Zf="toUTCString",nv="cookie",Pa="expires",qg="isCookieUseDisabled",np="disableCookiesUsage",rp="_ckMgr",ed=null,nl=null,jp=null,jr,Fu={},$p={},gc=(Ra={cookieCfg:ev((Qf={},Qf[ea]={fb:"cookieDomain",dfVal:Ol},Qf.path={fb:"cookiePath",dfVal:Ol},Qf.enabled=Tu,Qf.ignoreCookies=Tu,Qf.blockedCookies=Tu,Qf)),cookieDomain:Tu,cookiePath:Tu},Ra[np]=Tu,Ra);function ra(){!jr&&(jr=xn(function(){return Rr()}))}function Fi(o){return o?o.isEnabled():!0}function rv(o,a){return a&&o&&bt(o.ignoreCookies)?ss(o.ignoreCookies,a)!==-1:!1}function rl(o,a){return a&&o&&bt(o.blockedCookies)&&ss(o.blockedCookies,a)!==-1?!0:rv(o,a)}function Vl(o,a){var c=a[Hc];if(Ze(c)){var p=void 0;tt(o[qg])||(p=!o[qg]),tt(o[np])||(p=!o[np]),c=p}return c}function nu(o,a){var c,p,S,w,x,H,G,X,le;o=wa(o||$p,null,a).cfg,x=vc(o,function(Ee){Ee[xs](Ee.cfg,gc),p=Ee.ref(Ee.cfg,"cookieCfg"),S=p[If]||"/",w=p[ea],H=Vl(o,p)!==!1,G=p.getCookie||Yp,X=p.setCookie||ru,le=p.delCookie||ru},a);var Te=(c={isEnabled:function(){var Ee=Vl(o,p)!==!1&&H&&ia(a),be=$p[rp];return Ee&&be&&Te!==be&&(Ee=Fi(be)),Ee},setEnabled:function(Ee){H=Ee!==!1,p[Hc]=Ee},set:function(Ee,be,De,Xe,Pe){var ot=!1;if(Fi(Te)&&!rl(p,Ee)){var st={},mt=Wi(be||Mr),At=Oc(mt,";");if(At!==-1&&(mt=Wi(K(be,At)),st=Ia(F(be,At+1))),sc(st,ea,Xe||w,ei,tt),!Ze(De)){var ur=Bd();if(tt(st[Pa])){var Vr=Vu(),Xr=Vr+De*1e3;if(Xr>0){var _i=new Date;_i.setTime(Xr),sc(st,Pa,iv(_i,ur?hh:Zf)||iv(_i,ur?hh:Zf)||Mr,ei)}}ur||sc(st,"max-age",Mr+De,null,tt)}var Mn=Ml();Mn&&Mn[ic]==="https:"&&(sc(st,"secure",null,null,tt),nl===null&&(nl=!Wp((bs()||{})[so])),nl&&sc(st,"SameSite","None",null,tt)),sc(st,If,Pe||S,null,tt),X(Ee,ip(mt,st)),ot=!0}return ot},get:function(Ee){var be=Mr;return Fi(Te)&&!rv(p,Ee)&&(be=G(Ee)),be},del:function(Ee,be){var De=!1;return Fi(Te)&&(De=Te.purge(Ee,be)),De},purge:function(Ee,be){var De,Xe=!1;if(ia(a)){var Pe=(De={},De[If]=be||"/",De[Pa]="Thu, 01 Jan 1970 00:00:01 GMT",De);Bd()||(Pe["max-age"]="0"),le(Ee,ip(Mr,Pe)),Xe=!0}return Xe}},c[_u]=function(Ee){x&&x.rm(),x=null},c);return Te[rp]=Te,Te}function ia(o){if(ed===null){ed=!1,!jr&&ra();try{var a=jr.v||{};ed=a[nv]!==void 0}catch(c){Gt(o,2,68,"Cannot access document.cookie - "+uo(c),{exception:gn(c)})}}return ed}function Ia(o){var a={};if(o&&o[zn]){var c=Wi(o)[oc](";");vn(c,function(p){if(p=Wi(p||Mr),p){var S=Oc(p,"=");S===-1?a[p]=null:a[Wi(K(p,S))]=Wi(F(p,S+1))}})}return a}function iv(o,a){return et(o[a])?o[a]():null}function ip(o,a){var c=o||Mr;return cn(a,function(p,S){c+="; "+p+(Ze(S)?Mr:"="+S)}),c}function Yp(o){var a=Mr;if(!jr&&ra(),jr.v){var c=jr.v[nv]||Mr;jp!==c&&(Fu=Ia(c),jp=c),a=Wi(Fu[o]||Mr)}return a}function ru(o,a){!jr&&ra(),jr.v&&(jr.v[nv]=o+"="+a)}function Wp(o){return Ut(o)?!!(ji(o,"CPU iPhone OS 12")||ji(o,"iPad; CPU OS 12")||ji(o,"Macintosh; Intel Mac OS X 10_14")&&ji(o,"Version/")&&ji(o,"Safari")||ji(o,"Macintosh; Intel Mac OS X 10_14")&&Is(o,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ji(o,"Chrome/5")||ji(o,"Chrome/6")||ji(o,"UnrealEngine")&&!ji(o,"Chrome")||ji(o,"UCBrowser/12")||ji(o,"UCBrowser/11")):!1}var ov={perfEvtsSendAll:!1};function Kp(o){o.h=null;var a=o.cb;o.cb=[],vn(a,function(c){dt(c.fn,[c.arg])})}function iu(o,a,c,p){vn(o,function(S){S&&S[a]&&(c?(c.cb[Nr]({fn:p,arg:S}),c.h=c.h||Qu(Kp,0,c)):dt(p,[S]))})}var mh=function(){function o(a){this.listeners=[];var c,p,S=[],w={h:null,cb:[]},x=wa(a,ov);p=x[nc](function(H){c=!!H.cfg.perfEvtsSendAll}),No(o,this,function(H){Bn(H,"listeners",{g:function(){return S}}),H[Fs]=function(G){S[Nr](G)},H[rc]=function(G){for(var X=ss(S,G);X>-1;)S[jt](X,1),X=ss(S,G)},H[zi]=function(G){iu(S,zi,w,function(X){X[zi](G)})},H[Jn]=function(G,X){iu(S,Jn,w,function(le){le[Jn](G,X)})},H[Eu]=function(G,X){iu(S,Eu,X?w:null,function(le){le[Eu](G,X)})},H[mi]=function(G){G&&(c||!G[Uv]())&&iu(S,mi,null,function(X){G[yu]?Qu(function(){return X[mi](G)},0):X[mi](G)})},H[Ba]=function(G){G&&G[zn]&&iu(S,Ba,w,function(X){X[Ba](G)})},H[Qc]=function(G){G&&G[fs]&&iu(S,Qc,w,function(X){X[Qc](G)})},H[Zc]=function(G,X){if(G>0){var le=X||0;iu(S,Zc,w,function(Te){Te[Zc](G,le)})}},H[_u]=function(G){var X=function(){p&&p.rm(),p=null,S=[],w.h&&w.h[ma](),w.h=null,w.cb=[]},le;if(iu(S,"unload",null,function(Te){var Ee=Te[_u](G);Ee&&(le||(le=[]),le[Nr](Ee))}),le)return Il(function(Te){return Ga(Kv(le),function(){X(),Te()})});X()}})}return o.__ieDyn=1,o}(),hc="ctx",zp="ParentContextKey",l="ChildrenContextKey",g=null,y=function(){function o(a,c,p){var S=this;if(S.start=Vu(),S[Ni]=a,S[yu]=p,S[Uv]=function(){return!1},et(c)){var w;Bn(S,"payload",{g:function(){return!w&&et(c)&&(w=c(),c=null),w}})}S[bl]=function(x){return x?x===o[zp]||x===o[l]?S[x]:(S[hc]||{})[x]:null},S[yo]=function(x,H){if(x)if(x===o[zp])S[x]||(S[Uv]=function(){return!0}),S[x]=H;else if(x===o[l])S[x]=H;else{var G=S[hc]=S[hc]||{};G[x]=H}},S[Ud]=function(){var x=0,H=S[bl](o[l]);if(bt(H))for(var G=0;G<H[zn];G++){var X=H[G];X&&(x+=X[$a])}S[$a]=Vu()-S.start,S.exTime=S[$a]-x,S[Ud]=function(){}}}return o.ParentContextKey="parent",o.ChildrenContextKey="childEvts",o}(),R=function(){function o(a){this.ctx={},No(o,this,function(c){c.create=function(p,S,w){return new y(p,S,w)},c.fire=function(p){p&&(p[Ud](),a&&et(a[mi])&&a[mi](p))},c[yo]=function(p,S){if(p){var w=c[hc]=c[hc]||{};w[p]=S}},c[bl]=function(p){return(c[hc]||{})[p]}})}return o.__ieDyn=1,o}(),j="CoreUtils.doPerf";function re(o,a,c,p,S){if(o){var w=o;if(w[bu]&&(w=w[bu]()),w){var x=void 0,H=w[bl](j);try{if(x=w.create(a(),p,S),x){if(H&&x[yo]&&(x[yo](y[zp],H),H[bl]&&H[yo])){var G=H[bl](y[l]);G||(G=[],H[yo](y[l],G)),G[Nr](x)}return w[yo](j,x),c(x)}}catch(X){x&&x[yo]&&x[yo]("exception",X)}finally{x&&w.fire(x),w[yo](j,H)}}}return c()}function ue(){return g}var pe="00000000000000000000000000000000",ve="0000000000000000";function Ne(o,a,c){return o&&o[zn]===a&&o!==c?!!o.match(/^[\da-f]*$/i):!1}function Ot(o){return Ne(o,32,pe)}function en(o){return Ne(o,16,ve)}var Fn=Qv("plugin");function Ft(o){return Fn.get(o,"state",{},!0)}function Mt(o,a){for(var c=[],p=null,S=o[Ls](),w;S;){var x=S[Sa]();if(x){p&&p[El]&&x[Jo]&&p[El](x),w=Ft(x);var H=!!w[Ar];x[Ar]&&(H=x[Ar]()),H||c[Nr](x),p=x,S=S[Ls]()}}vn(c,function(G){var X=o[ao]();G[mu](o.getCfg(),X,a,o[Ls]()),w=Ft(G),!G[ao]&&!w[ao]&&(w[ao]=X),w[Ar]=!0,delete w[xi]})}function $n(o){return o.sort(function(a,c){var p=0;if(c){var S=c[Jo];a[Jo]?p=S?a[Wd]-c[Wd]:1:S&&(p=-1)}else p=a?1:-1;return p})}function Sn(o){var a={};return{getName:function(){return a[Ni]},setName:function(c){o&&o.setName(c),a[Ni]=c},getTraceId:function(){return a[bf]},setTraceId:function(c){o&&o.setTraceId(c),Ot(c)&&(a[bf]=c)},getSpanId:function(){return a[Ea]},setSpanId:function(c){o&&o.setSpanId(c),en(c)&&(a[Ea]=c)},getTraceFlags:function(){return a[Xo]},setTraceFlags:function(c){o&&o.setTraceFlags(c),a[Xo]=c}}}var sr="TelemetryPluginChain",dr="_hasRun",pn="_getTelCtx",Di=0;function il(o,a,c){for(;o;){if(o[Sa]()===c)return o;o=o[Ls]()}return nd([c],a.config||{},a)}function Lu(o,a,c,p){var S=null,w=[];a||(a=wa({},null,c[si])),p!==null&&(S=p?il(o,c,p):o);var x={_next:G,ctx:{core:function(){return c},diagLog:function(){return xu(c,a.cfg)},getCfg:function(){return a.cfg},getExtCfg:le,getConfig:Te,hasNext:function(){return!!S},getNext:function(){return S},setNext:function(be){S=be},iterate:Ee,onComplete:H}};function H(be,De){for(var Xe=[],Pe=2;Pe<arguments.length;Pe++)Xe[Pe-2]=arguments[Pe];be&&w[Nr]({func:be,self:tt(De)?x.ctx:De,args:Xe})}function G(){var be=S;if(S=be?be[Ls]():null,!be){var De=w;De&&De[zn]>0&&(vn(De,function(Xe){try{Xe.func.call(Xe.self,Xe.args)}catch(Pe){Gt(c[si],2,73,"Unexpected Exception during onComplete - "+gn(Pe))}}),w=[])}return be}function X(be,De){var Xe=null,Pe=a.cfg;if(Pe&&be){var ot=Pe[Nl];!ot&&De&&(ot={}),Pe[Nl]=ot,ot=a.ref(Pe,Nl),ot&&(Xe=ot[be],!Xe&&De&&(Xe={}),ot[be]=Xe,Xe=a.ref(ot,be))}return Xe}function le(be,De){var Xe=X(be,!0);return De&&cn(De,function(Pe,ot){if(Ze(Xe[Pe])){var st=a.cfg[Pe];(st||!Ze(st))&&(Xe[Pe]=st)}ba(a,Xe,Pe,ot)}),a[xs](Xe,De)}function Te(be,De,Xe){Xe===void 0&&(Xe=!1);var Pe,ot=X(be,!1),st=a.cfg;return ot&&(ot[De]||!Ze(ot[De]))?Pe=ot[De]:(st[De]||!Ze(st[De]))&&(Pe=st[De]),Pe||!Ze(Pe)?Pe:Xe}function Ee(be){for(var De;De=x._next();){var Xe=De[Sa]();Xe&&be(Xe)}}return x}function Xl(o,a,c,p){var S=wa(a),w=Lu(o,S,c,p),x=w.ctx;function H(X){var le=w._next();return le&&le[Jo](X,x),!le}function G(X,le){return X===void 0&&(X=null),bt(X)&&(X=nd(X,S.cfg,c,le)),Xl(X||x[Ls](),S.cfg,c,le)}return x[_o]=H,x[Ta]=G,x}function td(o,a,c){var p=wa(a.config),S=Lu(o,p,a,c),w=S.ctx;function x(G){var X=S._next();return X&&X[_u](w,G),!X}function H(G,X){return G===void 0&&(G=null),bt(G)&&(G=nd(G,p.cfg,a,X)),td(G||w[Ls](),a,X)}return w[_o]=x,w[Ta]=H,w}function sv(o,a,c){var p=wa(a.config),S=Lu(o,p,a,c),w=S.ctx;function x(G){return w.iterate(function(X){et(X[Su])&&X[Su](w,G)})}function H(G,X){return G===void 0&&(G=null),bt(G)&&(G=nd(G,p.cfg,a,X)),sv(G||w[Ls](),a,X)}return w[_o]=x,w[Ta]=H,w}function nd(o,a,c,p){var S=null,w=!p;if(bt(o)&&o[zn]>0){var x=null;vn(o,function(H){if(!w&&p===H&&(w=!0),w&&H&&et(H[Jo])){var G=rd(H,a,c);S||(S=G),x&&x._setNext(G),x=G}})}return p&&!S?nd([p],a,c):S}function rd(o,a,c){var p=null,S=et(o[Jo]),w=et(o[El]),x;o?x=o[Js]+"-"+o[Wd]+"-"+Di++:x="Unknown-0-"+Di++;var H={getPlugin:function(){return o},getNext:function(){return p},processTelemetry:le,unload:Te,update:Ee,_id:x,_setNext:function(be){p=be}};function G(){var be;return o&&et(o[pn])&&(be=o[pn]()),be||(be=Xl(H,a,c)),be}function X(be,De,Xe,Pe,ot){var st=!1,mt=o?o[Js]:sr,At=be[dr];return At||(At=be[dr]={}),be.setNext(p),o&&re(be[ao](),function(){return mt+":"+Xe},function(){At[x]=!0;try{var ur=p?p._id:Mr;ur&&(At[ur]=!1),st=De(be)}catch(Xr){var Vr=p?At[p._id]:!0;Vr&&(st=!0),(!p||!Vr)&&Gt(be[ls](),1,73,"Plugin ["+mt+"] failed during "+Xe+" - "+gn(Xr)+", run flags: "+gn(At))}},Pe,ot),st}function le(be,De){De=De||G();function Xe(Pe){if(!o||!S)return!1;var ot=Ft(o);return ot[xi]||ot[Yd]?!1:(w&&o[El](p),o[Jo](be,Pe),!0)}X(De,Xe,"processTelemetry",function(){return{item:be}},!be.sync)||De[_o](be)}function Te(be,De){function Xe(){var Pe=!1;if(o){var ot=Ft(o),st=o[ao]||ot[ao];o&&(!st||st===be.core())&&!ot[xi]&&(ot[ao]=null,ot[xi]=!0,ot[Ar]=!1,o[xi]&&o[xi](be,De)===!0&&(Pe=!0))}return Pe}X(be,Xe,"unload",function(){},De[yu])||be[_o](De)}function Ee(be,De){function Xe(){var Pe=!1;if(o){var ot=Ft(o),st=o[ao]||ot[ao];o&&(!st||st===be.core())&&!ot[xi]&&o[Su]&&o[Su](be,De)===!0&&(Pe=!0)}return Pe}X(be,Xe,"update",function(){},!1)||be[_o](De)}return Nt(H)}function av(){var o=[];function a(p){p&&o[Nr](p)}function c(p,S){vn(o,function(w){try{w(p,S)}catch(x){Gt(p[ls](),2,73,"Unexpected error calling unload handler - "+gn(x))}}),o=[]}return{add:a,run:c}}function id(){var o=[];function a(p){var S=o;o=[],vn(S,function(w){try{(w.rm||w.remove).call(w)}catch(x){Gt(p,2,73,"Unloading:"+gn(x))}})}function c(p){p&&gl(o,p)}return{run:a,add:c}}var Je,$t="getPlugin",wn=(Je={},Je[Nl]={isVal:Ol,v:{}},Je),ti=function(){function o(){var a=this,c,p,S,w,x;X(),No(o,a,function(le){le[mu]=function(Te,Ee,be,De){G(Te,Ee,De),c=!0},le[xi]=function(Te,Ee){var be,De=le[ao];if(!De||Te&&De!==Te[ao]())return;var Xe,Pe=!1,ot=Te||td(null,De,S&&S[$t]?S[$t]():S),st=Ee||(be={reason:0},be[yu]=!1,be);function mt(){Pe||(Pe=!0,w.run(ot,Ee),x.run(ot[ls]()),Xe===!0&&ot[_o](st),X())}return!le[Ya]||le[Ya](ot,st,mt)!==!0?mt():Xe=!0,Xe},le[Su]=function(Te,Ee){var be=le[ao];if(!be||Te&&be!==Te[ao]())return;var De,Xe=!1,Pe=Te||sv(null,be,S&&S[$t]?S[$t]():S),ot=Ee||{reason:0};function st(){Xe||(Xe=!0,G(Pe.getCfg(),Pe.core(),Pe[Ls]()))}return!le._doUpdate||le._doUpdate(Pe,ot,st)!==!0?st():De=!0,De},co(le,"_addUnloadCb",function(){return w},"add"),co(le,"_addHook",function(){return x},"add"),Bn(le,"_unloadHooks",{g:function(){return x}})}),a[ls]=function(le){return H(le)[ls]()},a[Ar]=function(){return c},a.setInitialized=function(le){c=le},a[El]=function(le){S=le},a[_o]=function(le,Te){Te?Te[_o](le):S&&et(S[Jo])&&S[Jo](le,null)},a._getTelCtx=H;function H(le){le===void 0&&(le=null);var Te=le;if(!Te){var Ee=p||Xl(null,{},a[ao]);S&&S[$t]?Te=Ee[Ta](null,S[$t]):Te=Ee[Ta](null,S)}return Te}function G(le,Te,Ee){wa(le,wn,xu(Te)),!Ee&&Te&&(Ee=Te[Oo]()[Ls]());var be=S;S&&S[$t]&&(be=S[$t]()),a[ao]=Te,p=Xl(Ee,le,Te,be)}function X(){c=!1,a[ao]=null,p=null,S=null,x=id(),w=av()}}return o.__ieDyn=1,o}();function So(o,a,c){var p={id:a,fn:c};gl(o,p);var S={remove:function(){vn(o,function(w,x){if(w.id===p.id)return o[jt](x,1),-1})}};return S}function Do(o,a,c){for(var p=!1,S=o[zn],w=0;w<S;++w){var x=o[w];if(x)try{if(x.fn[Bo](null,[a])===!1){p=!0;break}}catch(H){Gt(c,2,64,"Telemetry initializer failed: "+uo(H),{exception:gn(H)},!0)}}return!p}var Gi=function(o){Tf(a,o);function a(){var c=o.call(this)||this;c.identifier="TelemetryInitializerPlugin",c.priority=199;var p,S;w(),No(a,c,function(x,H){x.addTelemetryInitializer=function(G){return So(S,p++,G)},x[Jo]=function(G,X){Do(S,G,X?X[ls]():x[ls]())&&x[_o](G,X)},x[Ya]=function(){w()}});function w(){p=0,S=[]}return c}return a.__ieDyn=1,a}(ti),gs,ou="Plugins must provide initialize method",Jl="_notificationManager",Ug="SDK is still unloading...",mc="SDK is not initialized",uv=100,_h=5e4,Bi=Xn((gs={cookieCfg:{}},gs[Jc]={rdOnly:!0,ref:!0,v:[]},gs[Xc]={rdOnly:!0,ref:!0,v:[]},gs[Nl]={ref:!0,v:{}},gs[zv]=Tu,gs.loggingLevelConsole=0,gs.diagnosticLogInterval=Tu,gs));function su(o,a){return new R(a)}function Hg(o,a,c){var p,S=[],w=[],x={};return vn(c,function(H){(Ze(H)||Ze(H[mu]))&&En(ou);var G=H[Wd],X=H[Js];H&&G&&(Ze(x[G])?x[G]=X:pc(o,"Two extensions have same priority #"+G+" - "+x[G]+", "+X)),!G||G<a?S[Nr](H):w[Nr](H)}),p={},p[ao]=S,p[Xc]=w,p}function yh(o,a){var c=!1;return vn(a,function(p){if(p===o)return c=!0,-1}),c}function Gp(o,a,c,p){c&&cn(c,function(S,w){p&&zo(w)&&zo(a[S])&&Gp(o,a[S],w,p),p&&zo(w)&&zo(a[S])?Gp(o,a[S],w,p):o.set(a,S,w)})}function Sh(o,a){var c=null,p=-1;return vn(o,function(S,w){if(S.w===a)return c=S,p=w,-1}),{i:p,l:c}}function Dh(o,a){var c=Sh(o,a).l;return c||(c={w:a,rm:function(){var p=Sh(o,a);p.i!==-1&&o[jt](p.i,1)}},o[Nr](c)),c}function Nm(o,a,c){vn(a,function(p){var S=vc(o,p.w,c);delete p.w,p.rm=function(){S.rm()}})}function Ch(o,a,c,p){return a.add(o[nc](function(S){var w=S.cfg.disableDbgExt;w===!0&&p&&(c[rc](p),p=null),c&&!p&&w!==!0&&(p=Ag(S.cfg),c[Fs](p))})),p}function Th(o){return Bn({rm:function(){o.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(o)+">"}})}var Ql=function(){function o(){var a,c,p,S,w,x,H,G,X,le,Te,Ee,be,De,Xe,Pe,ot,st,mt,At,ur,Vr,Xr,_i,Mn,Cn,zr,Uo,Zi,Dt,Tn,bi;No(o,this,function(at){Le(),at._getDbgPlgTargets=function(){return[Xr,S]},at[Ar]=function(){return c},at.activeStatus=function(){return Cn},at._setPendingStatus=function(){Cn=3},at[mu]=function(Ke,Wt,qn,ln){be&&En(Ug),at[Ar]()&&En("Core cannot be initialized more than once"),a=wa(Ke,Bi,qn||at[si],!1),Ke=a.cfg,Yu(a[nc](function(yi){var jo=yi.cfg,Fa=Cn===3;if(!Fa){Uo=jo.initInMemoMaxSize||uv;var Wu=jo[_a],gp=jo.endpointUrl;if(Ze(Wu)){ur=null,Cn=Os[Or];var hp="Please provide instrumentation key";c?(Gt(p,1,100,hp),eo()):En(hp);return}var $m=[];if(dn(Wu)?($m[Nr](Wu),ur=null):ur=Wu,dn(gp)?($m[Nr](gp),zr=null):zr=gp,$m[zn]){Zi=!1,Cn=3;var O_=Ol(jo.initTimeOut)?jo.initTimeOut:_h,UD=Eg($m);Qu(function(){Zi||jn()},O_),Ga(UD,function(Fh){try{if(Zi)return;if(!Fh.rejected){var Lh=Fh[ya];if(Lh&&Lh[zn]){var Dy=Lh[0];if(ur=Dy&&Dy[ya],Lh[zn]>1){var Cy=Lh[1];zr=Cy&&Cy[ya]}}ur&&(Ke[_a]=ur,Ke.endpointUrl=zr)}jn()}catch{Zi||jn()}})}else jn();var Ym=yi.ref(yi.cfg,Nl);cn(Ym,function(Fh){yi.ref(Ym,Fh)})}})),w=ln,mt=Ch(a,st,w&&at[Ad](),mt),kh(),at[si]=qn;var Vn=Ke[Jc];if(le=[],le[Nr].apply(le,Mc(Mc([],Wt,!1),Vn)),Te=Ke[Xc],Zo(null),(!Ee||Ee[zn]===0)&&En("No "+Xc+" available"),Te&&Te[zn]>1){var qi=at[Sa]("TeeChannelController");(!qi||!qi.plugin)&&Gt(p,1,28,"TeeChannel required")}Nm(Ke,Vr,p),Vr=null,c=!0,Cn===Os.ACTIVE&&eo()},at.getChannels=function(){var Ke=[];return Ee&&vn(Ee,function(Wt){Ke[Nr](Wt)}),Nt(Ke)},at.track=function(Ke){re(at[bu](),function(){return"AppInsightsCore:track"},function(){Ke===null&&(Ho(Ke),En("Invalid telemetry item")),!Ke[Ni]&&Ze(Ke[Ni])&&(Ho(Ke),En("telemetry name required")),Ke[Qs]=Ke[Qs]||ur,Ke[$a]=Ke[$a]||kl(new Date),Ke.ver=Ke.ver||"4.0",!be&&at[Ar]()&&Cn===Os.ACTIVE?ca()[_o](Ke):Cn!==Os[Or]&&S[zn]<=Uo&&S[Nr](Ke)},function(){return{item:Ke}},!Ke.sync)},at[Oo]=ca,at[Ad]=function(){return w||(w=new mh(a.cfg),at[Jl]=w),w},at[Fs]=function(Ke){at.getNotifyMgr()[Fs](Ke)},at[rc]=function(Ke){w&&w[rc](Ke)},at.getCookieMgr=function(){return G||(G=nu(a.cfg,at[si])),G},at.setCookieMgr=function(Ke){G!==Ke&&(Wl(G,!1),G=Ke)},at[bu]=function(){return x||H||ue()},at.setPerfMgr=function(Ke){x=Ke},at.eventCnt=function(){return S[zn]},at.releaseQueue=function(){if(c&&S[zn]>0){var Ke=S;S=[],Cn===2?vn(Ke,function(Wt){Wt[Qs]=Wt[Qs]||ur,ca()[_o](Wt)}):Gt(p,2,20,"core init status is not active")}},at[Tl]=function(Ke){return Xe=Ke||null,bi=!1,Dt&&Dt[ma](),wi(!0)};function jn(){Zi=!0,Ze(ur)?(Cn=Os[Or],Gt(p,1,112,"ikey can't be resolved from promises")):Cn=Os.ACTIVE,eo()}function eo(){c&&(at.releaseQueue(),at[Tl]())}function wi(Ke){if((!Dt||!Dt[Hc])&&!bi){var Wt=Ke||p&&p.queue[zn]>0;Wt&&(Tn||(Tn=!0,Yu(a[nc](function(qn){var ln=qn.cfg.diagnosticLogInterval;(!ln||!(ln>0))&&(ln=1e4);var Vn=!1;Dt&&(Vn=Dt[Hc],Dt[ma]()),Dt=Fv(Oh,ln),Dt.unref(),Dt[Hc]=Vn}))),Dt[Hc]=!0)}return Dt}at[Md]=function(){bi=!0,Dt&&Dt[ma](),Oh()},zd(at,function(){return De},["addTelemetryInitializer"]),at[_u]=function(Ke,Wt,qn){var ln;Ke===void 0&&(Ke=!0),c||En(mc),be&&En(Ug);var Vn=(ln={reason:50},ln[yu]=Ke,ln.flushComplete=!1,ln),qi;Ke&&!Wt&&(qi=Il(function(Fa){Wt=Fa}));var yi=td(hv(),at);yi[Da](function(){st.run(at[si]),xg([G,w,p],Ke,function(){Le(),Wt&&Wt(Vn)})},at);function jo(Fa){Vn.flushComplete=Fa,be=!0,ot.run(yi,Vn),at[Md](),yi[_o](Vn)}return Oh(),vp(Ke,jo,6,qn),qi},at[Sa]=cu,at.addPlugin=function(Ke,Wt,qn,ln){if(!Ke){ln&&ln(!1),xh(ou);return}var Vn=cu(Ke[Js]);if(Vn&&!Wt){ln&&ln(!1),xh("Plugin ["+Ke[Js]+"] is already loaded!");return}var qi={reason:16};function yi(Wu){le[Nr](Ke),qi.added=[Ke],Zo(qi),ln&&ln(!0)}if(Vn){var jo=[Vn.plugin],Fa={reason:2,isAsync:!!qn};ll(jo,Fa,function(Wu){Wu?(qi.removed=jo,qi.reason|=32,yi()):ln&&ln(!1)})}else yi()},at.updateCfg=function(Ke,Wt){Wt===void 0&&(Wt=!0);var qn;if(at[Ar]()){qn={reason:1,cfg:a.cfg,oldCfg:Ju({},a.cfg),newConfig:Ju({},Ke),merge:Wt},Ke=qn.newConfig;var ln=a.cfg;Ke[Jc]=ln[Jc],Ke[Xc]=ln[Xc]}a._block(function(Vn){var qi=Vn.cfg;Gp(Vn,qi,Ke,Wt),Wt||cn(qi,function(yi){Kn(Ke,yi)||Vn.set(qi,yi,Tu)}),Vn[xs](qi,Bi)},!0),a[ja](),qn&&pp(qn)},at.evtNamespace=function(){return Pe},at.flush=vp,at.getTraceCtx=function(Ke){return At||(At=Sn()),At},at.setTraceCtx=function(Ke){At=Ke||null},at.addUnloadHook=Yu,co(at,"addUnloadCb",function(){return ot},"add"),at.onCfgChange=function(Ke){var Wt;return c?Wt=vc(a.cfg,Ke,at[si]):Wt=Dh(Vr,Ke),Th(Wt)},at.getWParam=function(){return yr()||a.cfg.enableWParam?0:-1};function uu(){var Ke={};_i=[];var Wt=function(qn){qn&&vn(qn,function(ln){if(ln[Js]&&ln[Ca]&&!Ke[ln.identifier]){var Vn=ln[Js]+"="+ln[Ca];_i[Nr](Vn),Ke[ln.identifier]=ln}})};Wt(Ee),Te&&vn(Te,function(qn){Wt(qn)}),Wt(le)}function Le(){c=!1,a=wa({},Bi,at[si]),a.cfg[jc]=1,Bn(at,"config",{g:function(){return a.cfg},s:function(Wt){at.updateCfg(Wt,!1)}}),Bn(at,"pluginVersionStringArr",{g:function(){return _i||uu(),_i}}),Bn(at,"pluginVersionString",{g:function(){return Mn||(_i||uu(),Mn=_i.join(";")),Mn||Mr}}),Bn(at,"logger",{g:function(){return p||(p=new Jf(a.cfg),a[si]=p),p},s:function(Wt){a[si]=Wt,p!==Wt&&(Wl(p,!1),p=Wt)}}),at[si]=new Jf(a.cfg),Xr=[];var Ke=at.config[Jc]||[];Ke.splice(0,Ke[zn]),gl(Ke,Xr),De=new Gi,S=[],Wl(w,!1),w=null,x=null,H=null,Wl(G,!1),G=null,X=null,le=[],Te=null,Ee=null,be=!1,Xe=null,Pe=Ul("AIBaseCore",!0),ot=av(),At=null,ur=null,st=id(),Vr=[],Mn=null,_i=null,bi=!1,Dt=null,Tn=!1,Cn=0,zr=null,Uo=null,Zi=!1}function ca(){var Ke=Xl(hv(),a.cfg,at);return Ke[Da](wi),Ke}function Zo(Ke){var Wt=Hg(at[si],Zv,le);X=null,Mn=null,_i=null,Ee=(Te||[])[0]||[],Ee=$n(gl(Ee,Wt[Xc]));var qn=gl($n(Wt[ao]),Ee);Xr=Nt(qn);var ln=at.config[Jc]||[];ln.splice(0,ln[zn]),gl(ln,Xr);var Vn=ca();Ee&&Ee[zn]>0&&Mt(Vn[Ta](Ee),qn),Mt(Vn,qn),Ke&&pp(Ke)}function cu(Ke){var Wt=null,qn=null,ln=[];return vn(Xr,function(Vn){if(Vn[Js]===Ke&&Vn!==De)return qn=Vn,-1;Vn.getChannel&&ln[Nr](Vn)}),!qn&&ln[zn]>0&&vn(ln,function(Vn){if(qn=Vn.getChannel(Ke),!qn)return-1}),qn&&(Wt={plugin:qn,setEnabled:function(Vn){Ft(qn)[Yd]=!Vn},isEnabled:function(){var Vn=Ft(qn);return!Vn[xi]&&!Vn[Yd]},remove:function(Vn,qi){var yi;Vn===void 0&&(Vn=!0);var jo=[qn],Fa=(yi={reason:1},yi[yu]=Vn,yi);ll(jo,Fa,function(Wu){Wu&&Zo({reason:32,removed:jo}),qi&&qi(Wu)})}}),Wt}function hv(){if(!X){var Ke=(Xr||[]).slice();ss(Ke,De)===-1&&Ke[Nr](De),X=nd($n(Ke),a.cfg,at)}return X}function ll(Ke,Wt,qn){if(Ke&&Ke[zn]>0){var ln=nd(Ke,a.cfg,at),Vn=td(ln,at);Vn[Da](function(){var qi=!1,yi=[];vn(le,function(Fa,Wu){yh(Fa,Ke)?qi=!0:yi[Nr](Fa)}),le=yi,Mn=null,_i=null;var jo=[];Te&&(vn(Te,function(Fa,Wu){var gp=[];vn(Fa,function(hp){yh(hp,Ke)?qi=!0:gp[Nr](hp)}),jo[Nr](gp)}),Te=jo),qn&&qn(qi),wi()}),Vn[_o](Wt)}else qn(!1)}function Oh(){if(p&&p.queue){var Ke=p.queue.slice(0);p.queue[zn]=0,vn(Ke,function(Wt){var qn,ln=(qn={},qn[Ni]=Xe||"InternalMessageId: "+Wt[qd],qn[Qs]=ur,qn[$a]=kl(new Date),qn.baseType=Bl.dataType,qn.baseData={message:Wt[$c]},qn);at.track(ln)})}}function vp(Ke,Wt,qn,ln){var Vn=1,qi=!1,yi=null;ln=ln||5e3;function jo(){Vn--,qi&&Vn===0&&(yi&&yi[ma](),yi=null,Wt&&Wt(qi),Wt=null)}if(Ee&&Ee[zn]>0){var Fa=ca()[Ta](Ee);Fa.iterate(function(Wu){if(Wu.flush){Vn++;var gp=!1;Wu.flush(Ke,function(){gp=!0,jo()},qn)||gp||(Ke&&yi==null?yi=Qu(function(){yi=null,jo()},ln):jo())}})}return qi=!0,jo(),!0}function kh(){var Ke;Yu(a[nc](function(Wt){var qn=Wt.cfg.enablePerfMgr;if(qn){var ln=Wt.cfg[zv];(Ke!==ln||!Ke)&&(ln||(ln=su),Bv(Wt.cfg,zv,ln),Ke=ln,H=null),!x&&!H&&et(ln)&&(H=ln(at,at[Ad]()))}else H=null,Ke=null}))}function pp(Ke){var Wt=sv(hv(),at);Wt[Da](wi),(!at._updateHook||at._updateHook(Wt,Ke)!==!0)&&Wt[_o](Ke)}function xh(Ke){var Wt=at[si];Wt?(Gt(Wt,2,73,Ke),wi()):En(Ke)}function Ho(Ke){var Wt=at[Ad]();Wt&&Wt[Jn]([Ke],2)}function Yu(Ke){st.add(Ke)}})}return o.__ieDyn=1,o}();function od(o,a){try{if(o&&o!==""){var c=Hs().parse(o);if(c&&c[Vo]&&c[Vo]>=c.itemsAccepted&&c.itemsReceived-c.itemsAccepted===c.errors[zn])return c}}catch(p){Gt(a,1,43,"Cannot parse the response. "+(p[Ni]||gn(p)),{response:o})}return null}var Au="",Zl="NoResponseBody",Eh="&"+Zl+"=true",jg="POST",Bp=function(){function o(){var a=0,c,p,S,w,x,H,G,X,le,Te,Ee,be,De,Xe;No(o,this,function(Pe,ot){var st=!0;Zi(),Pe[mu]=function(Dt,Tn){S=Tn,p&&Gt(S,1,28,"Sender is already initialized"),Pe.SetConfig(Dt),p=!0},Pe._getDbgPlgTargets=function(){return[p,w,H,c]},Pe.SetConfig=function(Dt){try{if(x=Dt.senderOnCompleteCallBack||{},H=!!Dt.disableCredentials,G=Dt.fetchCredentials,w=!!Dt.isOneDs,c=!!Dt.enableSendPromise,le=!!Dt.disableXhr,Te=!!Dt.disableBeacon,Ee=!!Dt.disableBeaconSync,Xe=Dt.timeWrapper,De=!!Dt.addNoResponse,be=!!Dt.disableFetchKeepAlive,X={sendPOST:Cn},w||(st=!1),H){var Tn=Ml();Tn&&Tn.protocol&&Tn.protocol[tc]()==="file:"&&(st=!1)}return!0}catch{}return!1},Pe.getSyncFetchPayload=function(){return a},Pe.getSenderInst=function(Dt,Tn){return Dt&&Dt[zn]?Vr(Dt,Tn):null},Pe.getFallbackInst=function(){return X},Pe[Ya]=function(Dt,Tn){Zi()};function mt(Dt,Tn){Xr(Tn,200,{},Dt)}function At(Dt,Tn){Gt(S,2,26,"Failed to send telemetry.",{message:Dt}),Xr(Tn,400,{})}function ur(Dt){At("No endpoint url is provided for the batch",Dt)}function Vr(Dt,Tn){for(var bi,at=0,jn=null,eo=0;jn==null&&eo<Dt[zn];)at=Dt[eo],!le&&at===1?Vd()?jn=Uo:uc()&&(jn=Cn):at===2&&fo(Tn)&&(!Tn||!be)?jn=zr:at===3&&Ou()&&(Tn?!Ee:!Te)&&(jn=Mn),eo++;return jn?(bi={_transport:at,_isSync:Tn},bi[za]=jn,bi):null}function Xr(Dt,Tn,bi,at){try{Dt&&Dt(Tn,bi,at)}catch{}}function _i(Dt,Tn){var bi=bs(),at=Dt[Ka];if(!at)return ur(Tn),!0;at=Dt[Ka]+(De?Eh:Au);var jn=Dt[fs],eo=w?jn:new Blob([jn],{type:"text/plain;charset=UTF-8"}),wi=bi.sendBeacon(at,eo);return wi}function Mn(Dt,Tn,bi){var at=Dt[fs];try{if(at)if(_i(Dt,Tn))mt(Au,Tn);else{var jn=x&&x.beaconOnRetry;jn&&et(jn)?jn(Dt,Tn,_i):(X&&X[za](Dt,Tn,!0),Gt(S,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(eo){w&&pc(S,"Failed to send telemetry using sendBeacon API. Ex:"+gn(eo)),Xr(Tn,w?0:400,{},Au)}}function Cn(Dt,Tn,bi){var at,jn,eo,wi=Dt[Hv]||{};!bi&&c&&(at=Il(function(Zo,cu){jn=Zo,eo=cu})),w&&bi&&Dt.disableXhrSync&&(bi=!1);var uu=Dt[Ka];if(!uu){ur(Tn),jn&&jn(!1);return}var Le=Fl(jg,uu,st,!0,bi,Dt[Ef]);w||Le[Hd]("Content-type","application/json"),vn(it(wi),function(Zo){Le[Hd](Zo,wi[Zo])}),Le.onreadystatechange=function(){w||(ca(Le),Le.readyState===4&&jn&&jn(!0))},Le.onload=function(){w&&ca(Le)};function ca(Zo){var cu=x&&x.xhrOnComplete,hv=cu&&et(cu);if(hv)cu(Zo,Tn,Dt);else{var ll=Va(Zo);Xr(Tn,Zo[Ms],Xv(Zo,w),ll)}}return Le.onerror=function(Zo){Xr(Tn,w?Le[Ms]:400,Xv(Le,w),w?Au:ds(Le)),eo&&eo(Zo)},Le.ontimeout=function(){Xr(Tn,w?Le[Ms]:500,Xv(Le,w),w?Au:ds(Le)),jn&&jn(!1)},Le.send(Dt[fs]),at}function zr(Dt,Tn,bi){var at,jn=Dt[Ka],eo=Dt[fs],wi=w?eo:new Blob([eo],{type:"application/json"}),uu,Le,ca,Zo=new Headers,cu=eo[zn],hv=!1,ll=!1,Oh=Dt[Hv]||{},vp=(at={method:jg,body:wi},at[Fg]=!0,at);Dt.headers&&it(Dt.headers)[zn]>0&&(vn(it(Oh),function(Ho){Zo.append(Ho,Oh[Ho])}),vp[Hv]=Zo),G?vp.credentials=G:st&&w&&(vp.credentials="include"),bi&&(vp.keepalive=!0,a+=cu,w?Dt._sendReason===2&&(hv=!0,De&&(jn+=Eh)):hv=!0);var kh=new Request(jn,vp);try{kh[Fg]=!0}catch{}if(!bi&&c&&(uu=Il(function(Ho,Yu){Le=Ho,ca=Yu})),!jn){ur(Tn),Le&&Le(!1);return}function pp(Ho){Xr(Tn,w?0:400,{},w?Au:Ho)}function xh(Ho,Yu,Ke){var Wt=Ho[Ms],qn=x.fetchOnComplete;qn&&et(qn)?qn(Ho,Tn,Ke||Au,Yu):Xr(Tn,Wt,{},Ke||Au)}try{Ga(fetch(w?jn:kh,w?vp:null),function(Ho){if(bi&&(a-=cu,cu=0),!ll)if(ll=!0,Ho.rejected)pp(Ho.reason&&Ho.reason[$c]),ca&&ca(Ho.reason);else{var Yu=Ho[ya];try{!w&&!Yu.ok?(pp(Yu.statusText),Le&&Le(!1)):w&&!Yu.body?(xh(Yu,null,Au),Le&&Le(!0)):Ga(Yu.text(),function(Ke){xh(Yu,Dt,Ke[ya]),Le&&Le(!0)})}catch(Ke){pp(gn(Ke)),ca&&ca(Ke)}}})}catch(Ho){ll||(pp(gn(Ho)),ca&&ca(Ho))}return hv&&!ll&&(ll=!0,Xr(Tn,200,{}),Le&&Le(!0)),w&&!ll&&Dt[Ef]>0&&Xe&&Xe.set(function(){ll||(ll=!0,Xr(Tn,500,{}),Le&&Le(!0))},Dt[Ef]),uu}function Uo(Dt,Tn,bi){var at=fr(),jn=new XDomainRequest,eo=Dt[fs];jn.onload=function(){var Zo=Va(jn),cu=x&&x.xdrOnComplete;cu&&et(cu)?cu(jn,Tn,Dt):Xr(Tn,200,{},Zo)},jn.onerror=function(){Xr(Tn,400,{},w?Au:Xa(jn))},jn.ontimeout=function(){Xr(Tn,500,{})},jn.onprogress=function(){};var wi=at&&at.location&&at.location[ic]||"",uu=Dt[Ka];if(!uu){ur(Tn);return}if(!w&&uu.lastIndexOf(wi,0)!==0){var Le="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Gt(S,2,40,". "+Le),At(Le,Tn);return}var ca=w?uu:uu[As](/^(https?:)/,"");jn.open(jg,ca),Dt[Ef]&&(jn[Ef]=Dt[Ef]),jn.send(eo),w&&bi?Xe&&Xe.set(function(){jn.send(eo)},0):jn.send(eo)}function Zi(){a=0,p=!1,c=!1,S=null,w=null,x=null,H=null,G=null,X=null,le=!1,Te=!1,Ee=!1,be=!1,De=!1,Xe=null}})}return o.__ieDyn=1,o}(),Vp="on",cv="attachEvent",nm="addEventListener",bh="detachEvent",op="removeEventListener",ef="events";Ul("aiEvtPageHide"),Ul("aiEvtPageShow");var w_=/\.[\.]+/g,rm=/[\.]+$/,Om=1,wh=Qv("events"),R_=/^([^.]*)(?:\.(.+)|)/;function sd(o){return o&&o[As]?o[As](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Mr):o}function Xp(o,a){var c;if(a){var p=Mr;bt(a)?(p=Mr,vn(a,function(w){w=sd(w),w&&(w[0]!=="."&&(w="."+w),p+=w)})):p=sd(a),p&&(p[0]!=="."&&(p="."+p),o=(o||Mr)+p)}var S=R_.exec(o||Mr)||[];return c={},c[ai]=S[1],c.ns=(S[2]||Mr).replace(w_,".").replace(rm,Mr)[oc](".").sort().join("."),c}function $g(o,a,c){c===void 0&&(c=!0);var p=wh.get(o,ef,{},c),S=p[a];return S||(S=p[a]=[]),S}function ad(o,a,c,p){o&&a&&a[ai]&&(o[op]?o[op](a[ai],c,p):o[bh]&&o[bh](Vp+a[ai],c))}function Jp(o,a,c,p){var S=!1;return o&&a&&a[ai]&&c&&(o[nm]?(o[nm](a[ai],c,p),S=!0):o[cv]&&(o[cv](Vp+a[ai],c),S=!0)),S}function im(o,a,c,p){for(var S=a[zn];S--;){var w=a[S];w&&(!c.ns||c.ns===w.evtName.ns)&&(!p||p(w))&&(ad(o,w.evtName,w[Ki],w.capture),a[jt](S,1))}}function km(o,a,c){if(a[ai])im(o,$g(o,a[ai]),a,c);else{var p=wh.get(o,ef,{});cn(p,function(S,w){im(o,w,a,c)}),it(p)[zn]===0&&wh.kill(o,ef)}}function lv(o,a){var c;return a?(bt(a)?c=[o].concat(a):c=[o,a],c=Xp("xx",c).ns[oc](".")):c=o,c}function xm(o,a,c,p,S){var w;S===void 0&&(S=!1);var x=!1;if(o)try{var H=Xp(a,p);if(x=Jp(o,H,c,S),x&&wh.accept(o)){var G=(w={guid:Om++,evtName:H},w[Ki]=c,w.capture=S,w);$g(o,H.type)[Nr](G)}}catch{}return x}function P_(o,a,c,p,S){if(S===void 0&&(S=!1),o)try{var w=Xp(a,p),x=!1;km(o,w,function(H){return w.ns&&!c||H[Ki]===c?(x=!0,!0):!1}),x||ad(o,w,c,S)}catch{}}var om="sampleRate",Yg="ProcessLegacy",sm="http.method",Rh="https://dc.services.visualstudio.com",Qp="/v2/track",fv="not_specified",am=qv({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Wg="split",Yr="length",Mu="toLowerCase",dv="ingestionendpoint",sp="toString",Zp="push",Kg="removeItem",ud="name",vv="message",Fm="count",ap="stringify",tf="pathname",ol="exceptions",Na="parsedStack",qu="properties",nf="measurements",cd="sizeInBytes",_c="typeName",yc="severityLevel",up="problemGroup",pv="isManual",Lm="CreateFromInterface",eg="assembly",sl="fileName",Ph="hasFullStack",tg="level",ld="method",ng="line",rg="duration",um="receivedResponse";function cm(o,a,c){var p=a[Yr],S=Am(o,a);if(S[Yr]!==p){for(var w=0,x=S;c[x]!==void 0;)w++,x=F(S,0,147)+m(w);S=x}return S}function Am(o,a){var c;return a&&(a=Wi(Kr(a)),a[Yr]>150&&(c=F(a,0,150),Gt(o,2,57,"name is too long.  It has been truncated to 150 characters.",{name:a},!0))),c||a}function hs(o,a,c){c===void 0&&(c=1024);var p;return a&&(c=c||1024,a=Wi(Kr(a)),a[Yr]>c&&(p=F(a,0,c),Gt(o,2,61,"string value is too long. It has been truncated to "+c+" characters.",{value:a},!0))),p||a}function Uu(o,a){return f(o,a,2048,66)}function cp(o,a){var c;return a&&a[Yr]>32768&&(c=F(a,0,32768),Gt(o,2,56,"message is too long, it has been truncated to 32768 characters.",{message:a},!0)),c||a}function $i(o,a){var c;if(a){var p=""+a;p[Yr]>32768&&(c=F(p,0,32768),Gt(o,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:a},!0))}return c||a}function lp(o,a){if(a){var c={};cn(a,function(p,S){if(_r(S)&&Nu())try{S=Hs()[ap](S)}catch(w){Gt(o,2,49,"custom property is not valid",{exception:w},!0)}S=hs(o,S,8192),p=cm(o,p,c),c[p]=S}),a=c}return a}function fp(o,a){if(a){var c={};cn(a,function(p,S){p=cm(o,p,c),c[p]=S}),a=c}return a}function Mm(o,a){return a&&f(o,a,128,69)[sp]()}function f(o,a,c,p){var S;return a&&(a=Wi(Kr(a)),a[Yr]>c&&(S=F(a,0,c),Gt(o,2,p,"input is too long, it has been truncated to "+c+" characters.",{data:a},!0))),S||a}function m(o){var a="00"+o;return te(a,a[Yr]-3)}var b=Rr()||{},P=0,q=[null,null,null,null,null];function B(o){var a=P,c=q,p=c[a];return b.createElement?c[a]||(p=c[a]=b.createElement("a")):p={host:V(o,!0)},p.href=o,a++,a>=c[Yr]&&(a=0),P=a,p}function V(o,a){var c=ae(o,a)||"";if(c){var p=c.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(p!=null&&p[Yr]>3&&Ut(p[2])&&p[2][Yr]>0)return p[2]+(p[3]||"")}return c}function ae(o,a){var c=null;if(o){var p=o.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(p!=null&&p[Yr]>2&&Ut(p[2])&&p[2][Yr]>0&&(c=p[2]||"",a&&p[Yr]>2)){var S=(p[1]||"")[Mu](),w=p[3]||"";(S==="http"&&w===":80"||S==="https"&&w===":443")&&(w=""),c+=w}}return c}var ye=[Rh+Qp,"https://breeze.aimon.applicationinsights.io"+Qp,"https://dc-int.services.visualstudio.com"+Qp];function Se(o){return ss(ye,o[Mu]())!==-1}function Be(o,a,c,p){var S,w=p,x=p;if(a&&a[Yr]>0){var H=B(a);if(S=H.host,!w)if(H[tf]!=null){var G=H.pathname[Yr]===0?"/":H[tf];G.charAt(0)!=="/"&&(G="/"+G),x=H[tf],w=hs(o,c?c+" "+G:G)}else w=hs(o,a)}else S=p,w=p;return{target:S,name:w,data:x}}var pt=qc({LocalStorage:0,SessionStorage:1}),vt=void 0,Ge="";function Re(o){try{if(Ze(Rt()))return null;var a=new Date()[sp](),c=rn(o===pt.LocalStorage?"localStorage":"sessionStorage"),p=Ge+a;c.setItem(p,a);var S=c.getItem(p)!==a;if(c[Kg](p),!S)return c}catch{}return null}function ft(){return St()?Re(pt.SessionStorage):null}function Ye(o){Ge=o||""}function St(o){return(o||vt===void 0)&&(vt=!!Re(pt.SessionStorage)),vt}function Ve(o,a){var c=ft();if(c!==null)try{return c.getItem(a)}catch(p){vt=!1,Gt(o,2,2,"Browser failed read of session storage. "+uo(p),{exception:gn(p)})}return null}function We(o,a,c){var p=ft();if(p!==null)try{return p.setItem(a,c),!0}catch(S){vt=!1,Gt(o,2,4,"Browser failed write to session storage. "+uo(S),{exception:gn(S)})}return!1}function gt(o,a){var c=ft();if(c!==null)try{return c[Kg](a),!0}catch(p){vt=!1,Gt(o,2,6,"Browser failed removal of session storage item. "+uo(p),{exception:gn(p)})}return!1}var Rn=";",Ln="=";function Yn(o){if(!o)return{};var a=o[Wg](Rn),c=mg(a,function(S,w){var x=w[Wg](Ln);if(x[Yr]===2){var H=x[0][Mu](),G=x[1];S[H]=G}return S},{});if(it(c)[Yr]>0){if(c.endpointsuffix){var p=c.location?c.location+".":"";c[dv]=c[dv]||"https://"+p+"dc."+c.endpointsuffix}c[dv]=c[dv]||Rh,Is(c[dv],"/")&&(c[dv]=c[dv].slice(0,-1))}return c}var Cr=function(){function o(a,c,p){var S=this,w=this;w.ver=1,w.sampleRate=100,w.tags={},w[ud]=hs(a,p)||fv,w.data=c,w.time=kl(new Date),w.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return S.sampleRate===100?4:1},tags:1,data:1}}return o}(),kr=function(){function o(a,c,p,S){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var w=this;w.ver=2,w[ud]=hs(a,c)||fv,w[qu]=lp(a,p),w[nf]=fp(a,S)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Event",o.dataType="EventData",o}(),ui="<no_method>",ni="error",An="stack",Vi="stackDetails",Tt="errorSrc",qt="message",ar="description";function Gn(o,a){var c=o;return c&&!Ut(c)&&(JSON&&JSON[ap]?(c=JSON[ap](o),a&&(!c||c==="{}")&&(et(o[sp])?c=o[sp]():c=""+o)):c=""+o+" - (Missing JSON.stringify)"),c||""}function tn(o,a){var c=o;return o&&(c&&!Ut(c)&&(c=o[qt]||o[ar]||c),c&&!Ut(c)&&(c=Gn(c,!0)),o.filename&&(c=c+" @"+(o.filename||"")+":"+(o.lineno||"?")+":"+(o.colno||"?"))),a&&a!=="String"&&a!=="Object"&&a!=="Error"&&Oc(c||"",a)===-1&&(c=a+": "+c),c||""}function Pr(o){try{if(_r(o))return"hasFullStack"in o&&"typeName"in o}catch{}return!1}function sn(o){try{if(_r(o))return"ver"in o&&"exceptions"in o&&"properties"in o}catch{}return!1}function Lo(o){return o&&o.src&&Ut(o.src)&&o.obj&&bt(o.obj)}function Lt(o){var a=o||"";Ut(a)||(Ut(a[An])?a=a[An]:a=""+a);var c=a[Wg](`
`);return{src:a,obj:c}}function Ci(o){for(var a=[],c=o[Wg](`
`),p=0;p<c[Yr];p++){var S=c[p];c[p+1]&&(S+="@"+c[p+1],p++),a[Zp](S)}return{src:o,obj:a}}function Ti(o){var a=null;if(o)try{if(o[An])a=Lt(o[An]);else if(o[ni]&&o[ni][An])a=Lt(o[ni][An]);else if(o.exception&&o.exception[An])a=Lt(o.exception[An]);else if(Lo(o))a=o;else if(Lo(o[Vi]))a=o[Vi];else if(fr()&&fr().opera&&o[qt])a=Ci(o[vv]);else if(o.reason&&o.reason[An])a=Lt(o.reason[An]);else if(Ut(o))a=Lt(o);else{var c=o[qt]||o[ar]||"";Ut(o[Tt])&&(c&&(c+=`
`),c+=" from "+o[Tt]),c&&(a=Lt(c))}}catch(p){a=Lt(p)}return a||{src:"",obj:null}}function ms(o){var a="";return o&&(o.obj?vn(o.obj,function(c){a+=c+`
`}):a=o.src||""),a}function al(o){var a,c=o.obj;if(c&&c[Yr]>0){a=[];var p=0,S=0;vn(c,function(De){var Xe=De[sp]();if(Hu.regex.test(Xe)){var Pe=new Hu(Xe,p++);S+=Pe[cd],a[Zp](Pe)}});var w=32*1024;if(S>w)for(var x=0,H=a[Yr]-1,G=0,X=x,le=H;x<H;){var Te=a[x][cd],Ee=a[H][cd];if(G+=Te+Ee,G>w){var be=le-X+1;a.splice(X,be);break}X=x,le=H,x++,H--}}return a}function js(o){var a="";if(o&&(a=o.typeName||o[ud]||"",!a))try{var c=/function (.{1,200})\(/,p=c.exec(o.constructor[sp]());a=p&&p[Yr]>1?p[1]:""}catch{}return a}function fd(o){if(o)try{if(!Ut(o)){var a=js(o),c=Gn(o,!1);return(!c||c==="{}")&&(o[ni]&&(o=o[ni],a=js(o)),c=Gn(o,!0)),Oc(c,a)!==0&&a!=="String"?a+":"+c:c}}catch{}return""+(o||"")}var au=function(){function o(a,c,p,S,w,x){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var H=this;H.ver=2,sn(c)?(H[ol]=c[ol]||[],H[qu]=c[qu],H[nf]=c[nf],c[yc]&&(H[yc]=c[yc]),c.id&&(H.id=c.id,c[qu].id=c.id),c[up]&&(H[up]=c[up]),Ze(c[pv])||(H[pv]=c[pv])):(p||(p={}),x&&(p.id=x),H[ol]=[new Oa(a,c,p)],H[qu]=lp(a,p),H[nf]=fp(a,S),w&&(H[yc]=w),x&&(H.id=x))}return o.CreateAutoException=function(a,c,p,S,w,x,H,G){var X,le=js(w||x||a);return X={},X[vv]=tn(a,le),X.url=c,X.lineNumber=p,X.columnNumber=S,X.error=fd(w||x||a),X.evt=fd(x||a),X[_c]=le,X.stackDetails=Ti(H||w||x),X.errorSrc=G,X},o.CreateFromInterface=function(a,c,p,S){var w=c[ol]&&Nc(c[ol],function(H){return Oa[Lm](a,H)}),x=new o(a,Xs(Xs({},c),{exceptions:w}),p,S);return x},o.prototype.toInterface=function(){var a,c=this,p=c.exceptions,S=c.properties,w=c.measurements,x=c.severityLevel,H=c.problemGroup,G=c.id,X=c.isManual,le=p instanceof Array&&Nc(p,function(Te){return Te.toInterface()})||void 0;return a={ver:"4.0"},a[ol]=le,a.severityLevel=x,a.properties=S,a.measurements=w,a.problemGroup=H,a.id=G,a.isManual=X,a},o.CreateSimpleException=function(a,c,p,S,w,x){var H;return{exceptions:[(H={},H[Ph]=!0,H.message=a,H.stack=w,H.typeName=c,H)]}},o.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",o.dataType="ExceptionData",o.formatError=fd,o}(),Oa=function(){function o(a,c,p){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var S=this;if(Pr(c))S[_c]=c[_c],S[vv]=c[vv],S[An]=c[An],S[Na]=c[Na]||[],S[Ph]=c[Ph];else{var w=c,x=w&&w.evt;nn(w)||(w=w[ni]||x||w),S[_c]=hs(a,js(w))||fv,S[vv]=cp(a,tn(c||w,S[_c]))||fv;var H=c[Vi]||Ti(c);S[Na]=al(H),bt(S[Na])&&Nc(S[Na],function(G){G[eg]=hs(a,G[eg]),G[sl]=hs(a,G[sl])}),S[An]=$i(a,ms(H)),S.hasFullStack=bt(S.parsedStack)&&S.parsedStack[Yr]>0,p&&(p[_c]=p[_c]||S[_c])}}return o.prototype.toInterface=function(){var a,c=this,p=c[Na]instanceof Array&&Nc(c[Na],function(w){return w.toInterface()}),S=(a={id:c.id,outerId:c.outerId,typeName:c[_c],message:c[vv],hasFullStack:c[Ph],stack:c[An]},a[Na]=p||void 0,a);return S},o.CreateFromInterface=function(a,c){var p=c[Na]instanceof Array&&Nc(c[Na],function(w){return Hu[Lm](w)})||c[Na],S=new o(a,Xs(Xs({},c),{parsedStack:p}));return S},o}(),Hu=function(){function o(a,c){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var p=this;if(p[cd]=0,typeof a=="string"){var S=a;p[tg]=c,p[ld]=ui,p[eg]=Wi(S),p[sl]="",p[ng]=0;var w=S.match(o.regex);w&&w[Yr]>=5&&(p[ld]=Wi(w[2])||p[ld],p[sl]=Wi(w[4]),p[ng]=parseInt(w[5])||0)}else p[tg]=a[tg],p[ld]=a[ld],p[eg]=a[eg],p[sl]=a[sl],p[ng]=a[ng],p[cd]=0;p.sizeInBytes+=p.method[Yr],p.sizeInBytes+=p.fileName[Yr],p.sizeInBytes+=p.assembly[Yr],p[cd]+=o.baseSize,p.sizeInBytes+=p.level.toString()[Yr],p.sizeInBytes+=p.line.toString()[Yr]}return o.CreateFromInterface=function(a){return new o(a,null)},o.prototype.toInterface=function(){var a=this;return{level:a[tg],method:a[ld],assembly:a[eg],fileName:a[sl],line:a[ng]}},o.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,o.baseSize=58,o}(),Xi=function(){function o(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o}(),Br=function(){function o(a,c,p,S,w,x,H,G,X){this.aiDataContract={ver:1,metrics:1,properties:0};var le=this;le.ver=2;var Te=new Xi;Te[Fm]=S>0?S:void 0,Te.max=isNaN(x)||x===null?void 0:x,Te.min=isNaN(w)||w===null?void 0:w,Te[ud]=hs(a,c)||fv,Te.value=p,Te.stdDev=isNaN(H)||H===null?void 0:H,le.metrics=[Te],le[qu]=lp(a,G),le[nf]=fp(a,X)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",o.dataType="MetricData",o}(),Ji="";function Ao(o){(isNaN(o)||o<0)&&(o=0),o=Math.round(o);var a=Ji+o%1e3,c=Ji+Math.floor(o/1e3)%60,p=Ji+Math.floor(o/(1e3*60))%60,S=Ji+Math.floor(o/(1e3*60*60))%24,w=Math.floor(o/(1e3*60*60*24));return a=a[Yr]===1?"00"+a:a[Yr]===2?"0"+a:a,c=c[Yr]<2?"0"+c:c,p=p[Yr]<2?"0"+p:p,S=S[Yr]<2?"0"+S:S,(w>0?w+".":Ji)+S+":"+p+":"+c+"."+a}var ju=function(){function o(a,c,p,S,w,x,H){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var G=this;G.ver=2,G.id=Mm(a,H),G.url=Uu(a,p),G[ud]=hs(a,c)||fv,isNaN(S)||(G[rg]=Ao(S)),G[qu]=lp(a,w),G[nf]=fp(a,x)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",o.dataType="PageviewData",o}(),ul=function(){function o(a,c,p,S,w,x,H,G,X,le,Te,Ee){X===void 0&&(X="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var be=this;be.ver=2,be.id=c,be[rg]=Ao(w),be.success=x,be.resultCode=H+"",be.type=hs(a,X);var De=Be(a,p,G,S);be.data=Uu(a,S)||De.data,be.target=hs(a,De.target),le&&(be.target="".concat(be.target," | ").concat(le)),be[ud]=hs(a,De[ud]),be[qu]=lp(a,Te),be[nf]=fp(a,Ee)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",o.dataType="RemoteDependencyData",o}(),$s=function(){function o(a,c,p,S,w){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var x=this;x.ver=2,c=c||fv,x[vv]=cp(a,c),x[qu]=lp(a,S),x[nf]=fp(a,w),p&&(x[yc]=p)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Message",o.dataType="MessageData",o}(),dd=function(){function o(a,c,p,S,w,x,H){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var G=this;G.ver=2,G.url=Uu(a,p),G[ud]=hs(a,c)||fv,G[qu]=lp(a,w),G[nf]=fp(a,x),H&&(G.domProcessing=H.domProcessing,G[rg]=H[rg],G.networkConnect=H.networkConnect,G.perfTotal=H.perfTotal,G[um]=H[um],G.sentRequest=H.sentRequest)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",o.dataType="PageviewPerformanceData",o}(),$u=function(){function o(a,c){this.aiDataContract={baseType:1,baseData:1},this.baseType=a,this.baseData=c}return o}(),zg=qc({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function cl(o){var a="ai."+o+".";return function(c){return a+c}}var vd=cl("application"),go=cl("device"),dp=cl("location"),pd=cl("operation"),ig=cl("session"),Sc=cl("user"),_s=cl("cloud"),gd=cl("internal"),i=function(o){Tf(a,o);function a(){return o.call(this)||this}return a}(Vv({applicationVersion:vd("ver"),applicationBuild:vd("build"),applicationTypeId:vd("typeId"),applicationId:vd("applicationId"),applicationLayer:vd("layer"),deviceId:go("id"),deviceIp:go("ip"),deviceLanguage:go("language"),deviceLocale:go("locale"),deviceModel:go("model"),deviceFriendlyName:go("friendlyName"),deviceNetwork:go("network"),deviceNetworkName:go("networkName"),deviceOEMName:go("oemName"),deviceOS:go("os"),deviceOSVersion:go("osVersion"),deviceRoleInstance:go("roleInstance"),deviceRoleName:go("roleName"),deviceScreenResolution:go("screenResolution"),deviceType:go("type"),deviceMachineName:go("machineName"),deviceVMName:go("vmName"),deviceBrowser:go("browser"),deviceBrowserVersion:go("browserVersion"),locationIp:dp("ip"),locationCountry:dp("country"),locationProvince:dp("province"),locationCity:dp("city"),operationId:pd("id"),operationName:pd("name"),operationParentId:pd("parentId"),operationRootId:pd("rootId"),operationSyntheticSource:pd("syntheticSource"),operationCorrelationVector:pd("correlationVector"),sessionId:ig("id"),sessionIsFirst:ig("isFirst"),sessionIsNew:ig("isNew"),userAccountAcquisitionDate:Sc("accountAcquisitionDate"),userAccountId:Sc("accountId"),userAgent:Sc("userAgent"),userId:Sc("id"),userStoreRegion:Sc("storeRegion"),userAuthUserId:Sc("authUserId"),userAnonymousUserAcquisitionDate:Sc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Sc("authUserAcquisitionDate"),cloudName:_s("name"),cloudRole:_s("role"),cloudRoleVer:_s("roleVer"),cloudRoleInstance:_s("roleInstance"),cloudEnvironment:_s("environment"),cloudLocation:_s("location"),cloudDeploymentUnit:_s("deploymentUnit"),internalNodeName:gd("nodeName"),internalSdkVersion:gd("sdkVersion"),internalAgentVersion:gd("agentVersion"),internalSnippet:gd("snippet"),internalSdkSrc:gd("sdkSrc")})),u=new i;function d(o,a){P_(o,null,null,a)}function _(o){var a=Rr(),c=bs(),p=!1,S=[],w=1;c&&!Ze(c.onLine)&&!c.onLine&&(w=2);var x=0,H=Ee(),G=lv(Ul("OfflineListener"),o);try{if(le(fr())&&(p=!0),a){var X=a.body||a;X.ononline&&le(X)&&(p=!0)}}catch{p=!1}function le(mt){var At=!1;return mt&&(At=xm(mt,"online",Xe,G),At&&xm(mt,"offline",Pe,G)),At}function Te(){return H}function Ee(){return!(x===2||w===2)}function be(){var mt=Ee();H!==mt&&(H=mt,vn(S,function(At){var ur={isOnline:H,rState:w,uState:x};try{At(ur)}catch{}}))}function De(mt){x=mt,be()}function Xe(){w=1,be()}function Pe(){w=2,be()}function ot(){var mt=fr();if(mt&&p){if(d(mt,G),a){var At=a.body||a;tt(At.ononline)||d(At,G)}p=!1}}function st(mt){return S[Zp](mt),{rm:function(){var At=S.indexOf(mt);if(At>-1)return S.splice(At,1)}}}return{isOnline:Te,isListening:function(){return p},unload:ot,addListener:st,setOnlineState:De}}var T="AppInsightsChannelPlugin",N="duration",A="tags",k="deviceType",U="data",Y="name",J="traceID",ee="length",se="stringify",de="measurements",ce="dataType",Ie="envelopeType",xe="toString",ct="_get",ht="enqueue",wt="count",Hn="eventsLimitInMem",Wn="push",Li="item",ci="emitLineDelimitedJson",Ai="clear",Ys="createNew",ys="markAsSent",hd="clearSent",Gg="bufferOverride",md="BUFFER_KEY",Et="SENT_BUFFER_KEY",Dn="concat",Ei="MAX_BUFFER_SIZE",nt="triggerSend",an="diagLog",Qi="initialize",oa="_sender",ka="endpointUrl",Ir="instrumentationKey",Ss="customHeaders",Qo="maxBatchSizeInBytes",sa="onunloadDisableBeacon",_d="isBeaconApiDisabled",Dc="alwaysUseXhrOverride",og="disableXhr",gv="enableSessionStorageBuffer",yd="_buffer",sg="onunloadDisableFetch",Ih="disableSendBeaconSplit",Co="enableSendPromise",aa="getSenderInst",je="unloadTransports",Yt="convertUndefined",On="maxBatchInterval",hn="serialize",kn="_onError",Oi="_onPartialSuccess",gi="_onSuccess",To="itemsReceived",ua="itemsAccepted",xa="oriPayload",Sd="baseType",ag="sampleRate",lm="eventsSendRequest",yy="getSamplingScore",AD="getHashCodeScore",qm="baseType",Mi="baseData",Mo="properties",I_="true";function qo(o,a,c){return sc(o,a,c,ei)}function xb(o,a,c){var p=c[A]=c[A]||{},S=a.ext=a.ext||{},w=a[A]=a[A]||[],x=S.user;x&&(qo(p,u.userAuthUserId,x.authId),qo(p,u.userId,x.id||x.localId));var H=S.app;H&&qo(p,u.sessionId,H.sesId);var G=S.device;G&&(qo(p,u.deviceId,G.id||G.localId),qo(p,u[k],G.deviceClass),qo(p,u.deviceIp,G.ip),qo(p,u.deviceModel,G.model),qo(p,u[k],G[k]));var X=a.ext.web;if(X){qo(p,u.deviceLanguage,X.browserLang),qo(p,u.deviceBrowserVersion,X.browserVer),qo(p,u.deviceBrowser,X.browser);var le=c[U]=c[U]||{},Te=le[Mi]=le[Mi]||{},Ee=Te[Mo]=Te[Mo]||{};qo(Ee,"domain",X.domain),qo(Ee,"isManual",X.isManual?I_:null),qo(Ee,"screenRes",X.screenRes),qo(Ee,"userConsent",X.userConsent?I_:null)}var be=S.os;be&&(qo(p,u.deviceOS,be[Y]),qo(p,u.deviceOSVersion,be.osVer));var De=S.trace;De&&(qo(p,u.operationParentId,De.parentID),qo(p,u.operationName,hs(o,De[Y])),qo(p,u.operationId,De[J]));for(var Xe={},Pe=w[ee]-1;Pe>=0;Pe--){var ot=w[Pe];cn(ot,function(mt,At){Xe[mt]=At}),w.splice(Pe,1)}cn(w,function(mt,At){Xe[mt]=At});var st=Xs(Xs({},p),Xe);st[u.internalSdkVersion]||(st[u.internalSdkVersion]=hs(o,"javascript:".concat(Zk.Version),64)),c[A]=wu(st)}function Nh(o,a,c){Ze(o)||cn(o,function(p,S){fn(S)?c[p]=S:Ut(S)?a[p]=S:Nu()&&(a[p]=Hs()[se](S))})}function fm(o,a){Ze(o)||cn(o,function(c,p){o[c]=p||a})}function dm(o,a,c,p){var S=new Cr(o,p,a);qo(S,"sampleRate",c[om]),(c[Mi]||{}).startTime&&(S.time=kl(c[Mi].startTime)),S.iKey=c.iKey;var w=c.iKey.replace(/-/g,"");return S[Y]=S[Y].replace("{0}",w),xb(o,c,S),c[A]=c[A]||[],wu(S)}function vm(o,a){Ze(a[Mi])&&Gt(o,1,46,"telemetryItem.baseData cannot be null.")}var Zk={Version:"3.3.4"};function ex(o,a,c){vm(o,a);var p=a[Mi][de]||{},S=a[Mi][Mo]||{};Nh(a[U],S,p),Ze(c)||fm(S,c);var w=a[Mi];if(Ze(w))return pc(o,"Invalid input for dependency data"),null;var x=w[Mo]&&w[Mo][sm]?w[Mo][sm]:"GET",H=new ul(o,w.id,w.target,w[Y],w[N],w.success,w.responseCode,x,w.type,w.correlationContext,S,p),G=new $u(ul[ce],H);return dm(o,ul[Ie],a,G)}function Fb(o,a,c){vm(o,a);var p={},S={};a[qm]!==kr[ce]&&(p.baseTypeSource=a[qm]),a[qm]===kr[ce]?(p=a[Mi][Mo]||{},S=a[Mi][de]||{}):a[Mi]&&Nh(a[Mi],p,S),Nh(a[U],p,S),Ze(c)||fm(p,c);var w=a[Mi][Y],x=new kr(o,w,p,S),H=new $u(kr[ce],x);return dm(o,kr[Ie],a,H)}function tx(o,a,c){vm(o,a);var p=a[Mi][de]||{},S=a[Mi][Mo]||{};Nh(a[U],S,p),Ze(c)||fm(S,c);var w=a[Mi],x=au.CreateFromInterface(o,w,S,p),H=new $u(au[ce],x);return dm(o,au[Ie],a,H)}function nx(o,a,c){vm(o,a);var p=a[Mi],S=p[Mo]||{},w=p[de]||{};Nh(a[U],S,w),Ze(c)||fm(S,c);var x=new Br(o,p[Y],p.average,p.sampleCount,p.min,p.max,p.stdDev,S,w),H=new $u(Br[ce],x);return dm(o,Br[Ie],a,H)}function rx(o,a,c){vm(o,a);var p,S=a[Mi];!Ze(S)&&!Ze(S[Mo])&&!Ze(S[Mo][N])?(p=S[Mo][N],delete S[Mo][N]):!Ze(a[U])&&!Ze(a[U][N])&&(p=a[U][N],delete a[U][N]);var w=a[Mi],x;((a.ext||{}).trace||{})[J]&&(x=a.ext.trace[J]);var H=w.id||x,G=w[Y],X=w.uri,le=w[Mo]||{},Te=w[de]||{};if(Ze(w.refUri)||(le.refUri=w.refUri),Ze(w.pageType)||(le.pageType=w.pageType),Ze(w.isLoggedIn)||(le.isLoggedIn=w.isLoggedIn[xe]()),!Ze(w[Mo])){var Ee=w[Mo];cn(Ee,function(Xe,Pe){le[Xe]=Pe})}Nh(a[U],le,Te),Ze(c)||fm(le,c);var be=new ju(o,G,X,p,le,Te,H),De=new $u(ju[ce],be);return dm(o,ju[Ie],a,De)}function ix(o,a,c){vm(o,a);var p=a[Mi],S=p[Y],w=p.uri||p.url,x=p[Mo]||{},H=p[de]||{};Nh(a[U],x,H),Ze(c)||fm(x,c);var G=new dd(o,S,w,void 0,x,H,p),X=new $u(dd[ce],G);return dm(o,dd[Ie],a,X)}function ox(o,a,c){vm(o,a);var p=a[Mi].message,S=a[Mi].severityLevel,w=a[Mi][Mo]||{},x=a[Mi][de]||{};Nh(a[U],w,x),Ze(c)||fm(w,c);var H=new $s(o,p,S,w,x),G=new $u($s[ce],H);return dm(o,$s[Ie],a,G)}var Lb=function(){function o(a,c){var p=[],S=!1,w=c.maxRetryCnt;this[ct]=function(){return p},this._set=function(x){return p=x,p},No(o,this,function(x){x[ht]=function(H){if(x[wt]()>=c[Hn]){S||(Gt(a,2,105,"Maximum in-memory buffer size reached: "+x[wt](),!0),S=!0);return}H.cnt=H.cnt||0,!(!Ze(w)&&H.cnt>w)&&p[Wn](H)},x[wt]=function(){return p[ee]},x.size=function(){for(var H=p[ee],G=0;G<p[ee];G++)H+=p[G].item[ee];return c[ci]||(H+=2),H},x[Ai]=function(){p=[],S=!1},x.getItems=function(){return p.slice(0)},x.batchPayloads=function(H){if(H&&H[ee]>0){var G=[];vn(H,function(le){G[Wn](le[Li])});var X=c[ci]?G.join(`
`):"["+G.join(",")+"]";return X}return null},x[Ys]=function(H,G,X){var le=p.slice(0);H=H||a,G=G||{};var Te=X?new Ab(H,G):new MD(H,G);return vn(le,function(Ee){Te[ht](Ee)}),Te}})}return o.__ieDyn=1,o}(),MD=function(o){Tf(a,o);function a(c,p){var S=o.call(this,c,p)||this;return No(a,S,function(w,x){w[ys]=function(H){x[Ai]()},w[hd]=function(H){}}),S}return a.__ieDyn=1,a}(Lb),sx=["AI_buffer","AI_sentBuffer"],Ab=function(o){Tf(a,o);function a(p,S){var w=o.call(this,p,S)||this,x=!1,H=S?.namePrefix,G=S[Gg]||{getItem:Ve,setItem:We},X=G.getItem,le=G.setItem,Te=S.maxRetryCnt;return No(a,w,function(Ee,be){var De=At(a[md]),Xe=At(a[Et]),Pe=Xr(),ot=Xe[Dn](Pe),st=Ee._set(De[Dn](ot));st[ee]>a[Ei]&&(st[ee]=a[Ei]),Vr(a[Et],[]),Vr(a[md],st),Ee[ht]=function(Mn){if(Ee[wt]()>=a[Ei]){x||(Gt(p,2,67,"Maximum buffer size reached: "+Ee[wt](),!0),x=!0);return}Mn.cnt=Mn.cnt||0,!(!Ze(Te)&&Mn.cnt>Te)&&(be[ht](Mn),Vr(a.BUFFER_KEY,Ee[ct]()))},Ee[Ai]=function(){be[Ai](),Vr(a.BUFFER_KEY,Ee[ct]()),Vr(a[Et],[]),x=!1},Ee[ys]=function(Mn){Vr(a[md],Ee._set(mt(Mn,Ee[ct]())));var Cn=At(a[Et]);Cn instanceof Array&&Mn instanceof Array&&(Cn=Cn[Dn](Mn),Cn[ee]>a[Ei]&&(Gt(p,1,67,"Sent buffer reached its maximum size: "+Cn[ee],!0),Cn[ee]=a[Ei]),Vr(a[Et],Cn))},Ee[hd]=function(Mn){var Cn=At(a[Et]);Cn=mt(Mn,Cn),Vr(a[Et],Cn)},Ee[Ys]=function(Mn,Cn,zr){zr=!!zr;var Uo=Ee[ct]().slice(0),Zi=At(a[Et]).slice(0);Mn=Mn||p,Cn=Cn||{},Ee[Ai]();var Dt=zr?new a(Mn,Cn):new MD(Mn,Cn);return vn(Uo,function(Tn){Dt[ht](Tn)}),zr&&Dt[ys](Zi),Dt};function mt(Mn,Cn){var zr=[],Uo=[];return vn(Mn,function(Zi){Uo[Wn](Zi[Li])}),vn(Cn,function(Zi){!et(Zi)&&ss(Uo,Zi[Li])===-1&&zr[Wn](Zi)}),zr}function At(Mn){var Cn=Mn;return Cn=H?H+"_"+Cn:Cn,ur(Cn)}function ur(Mn){try{var Cn=X(p,Mn);if(Cn){var zr=Hs().parse(Cn);if(Ut(zr)&&(zr=Hs().parse(zr)),zr&&bt(zr))return zr}}catch(Uo){Gt(p,1,42," storage key: "+Mn+", "+uo(Uo),{exception:gn(Uo)})}return[]}function Vr(Mn,Cn){var zr=Mn;try{zr=H?H+"_"+zr:zr;var Uo=JSON[se](Cn);le(p,zr,Uo)}catch(Zi){le(p,zr,JSON[se]([])),Gt(p,2,41," storage key: "+zr+", "+uo(Zi)+". Buffer cleared",{exception:gn(Zi)})}}function Xr(){var Mn=[];try{return vn(sx,function(Cn){var zr=_i(Cn);if(Mn=Mn[Dn](zr),H){var Uo=H+"_"+Cn,Zi=_i(Uo);Mn=Mn[Dn](Zi)}}),Mn}catch(Cn){Gt(p,2,41,"Transfer events from previous buffers: "+uo(Cn)+". previous Buffer items can not be removed",{exception:gn(Cn)})}return[]}function _i(Mn){try{var Cn=ur(Mn),zr=[];return vn(Cn,function(Uo){var Zi={item:Uo,cnt:0};zr[Wn](Zi)}),gt(p,Mn),zr}catch{}return[]}}),w}var c;return c=a,a.VERSION="_1",a.BUFFER_KEY="AI_buffer"+c.VERSION,a.SENT_BUFFER_KEY="AI_sentBuffer"+c.VERSION,a.MAX_BUFFER_SIZE=2e3,a}(Lb),ax=function(){function o(a){No(o,this,function(c){c[hn]=function(x){var H=p(x,"root");try{return Hs()[se](H)}catch(G){Gt(a,1,48,G&&et(G[xe])?G[xe]():"Error serializing object",null,!0)}};function p(x,H){var G="__aiCircularRefCheck",X={};if(!x)return Gt(a,1,48,"cannot serialize object because it is null or undefined",{name:H},!0),X;if(x[G])return Gt(a,2,50,"Circular reference detected while serializing object",{name:H},!0),X;if(!x.aiDataContract){if(H==="measurements")X=w(x,"number",H);else if(H==="properties")X=w(x,"string",H);else if(H==="tags")X=w(x,"string",H);else if(bt(x))X=S(x,H);else{Gt(a,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:H},!0);try{Hs()[se](x),X=x}catch(le){Gt(a,1,48,le&&et(le[xe])?le[xe]():"Error serializing object",null,!0)}}return X}return x[G]=!0,cn(x.aiDataContract,function(le,Te){var Ee=et(Te)?Te()&1:Te&1,be=et(Te)?Te()&4:Te&4,De=Te&2,Xe=x[le]!==void 0,Pe=_r(x[le])&&x[le]!==null;if(Ee&&!Xe&&!De)Gt(a,1,24,"Missing required field specification. The field is required but not present on source",{field:le,name:H});else if(!be){var ot=void 0;Pe?De?ot=S(x[le],le):ot=p(x[le],le):ot=x[le],ot!==void 0&&(X[le]=ot)}}),delete x[G],X}function S(x,H){var G;if(x)if(!bt(x))Gt(a,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:H},!0);else{G=[];for(var X=0;X<x[ee];X++){var le=x[X],Te=p(le,H+"["+X+"]");G[Wn](Te)}}return G}function w(x,H,G){var X;return x&&(X={},cn(x,function(le,Te){if(H==="string")Te===void 0?X[le]="undefined":Te===null?X[le]="null":Te[xe]?X[le]=Te[xe]():X[le]="invalid field: toString() is not defined.";else if(H==="number")if(Te===void 0)X[le]="undefined";else if(Te===null)X[le]="null";else{var Ee=parseFloat(Te);X[le]=Ee}else X[le]="invalid field: "+G+" is of unknown type.",Gt(a,1,X[le],null,!0)})),X}})}return o.__ieDyn=1,o}(),ux=8,cx=function(){function o(){}return o.prototype.getHashCodeScore=function(a){var c=this.getHashCode(a)/o.INT_MAX_VALUE;return c*100},o.prototype.getHashCode=function(a){if(a==="")return 0;for(;a[ee]<ux;)a=a[Dn](a);for(var c=5381,p=0;p<a[ee];++p)c=(c<<5)+c+a.charCodeAt(p),c=c&c;return Math.abs(c)},o.INT_MAX_VALUE=2147483647,o}(),lx=function(){function o(){var a=this,c=new cx,p=new i;a[yy]=function(S){var w=0;return S[A]&&S[A][p.userId]?w=c.getHashCodeScore(S[A][p.userId]):S.ext&&S.ext.user&&S.ext.user.id?w=c[AD](S.ext.user.id):S[A]&&S[A][p.operationId]?w=c.getHashCodeScore(S[A][p.operationId]):S.ext&&S.ext.telemetryTrace&&S.ext.telemetryTrace[J]?w=c.getHashCodeScore(S.ext.telemetryTrace[J]):w=Math.random()*100,w}}return o}(),fx=function(){function o(a,c){this.INT_MAX_VALUE=2147483647;var p=c||xu(null);(a>100||a<0)&&(p.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:a},!0),a=100),this[ag]=a,this.samplingScoreGenerator=new lx}return o.prototype.isSampledIn=function(a){var c=this[ag],p=!1;return c==null||c>=100||a.baseType===Br[ce]?!0:(p=this.samplingScoreGenerator[yy](a)<c,p)},o}(),Eo,Bg,ug=void 0,Mb="",dx=65e3;function qb(o){try{return o.responseText}catch{}return null}function vx(o){return o&&o.sendPOST}var Ub=Xn((Eo={endpointUrl:Kl(ei,Rh+Qp)},Eo[ci]=ta(),Eo[On]=15e3,Eo[Qo]=102400,Eo.disableTelemetry=ta(),Eo[gv]=ta(!0),Eo.isRetryDisabled=ta(),Eo[_d]=ta(!0),Eo[Ih]=ta(!0),Eo[og]=ta(),Eo[sg]=ta(),Eo[sa]=ta(),Eo[Ir]=ug,Eo.namePrefix=ug,Eo.samplingPercentage=Kl(px,100),Eo[Ss]=ug,Eo[Yt]=ug,Eo[Hn]=1e4,Eo[Gg]=!1,Eo.httpXHROverride={isVal:vx,v:ug},Eo[Dc]=ta(),Eo.transports=ug,Eo.retryCodes=ug,Eo.maxRetryCnt={isVal:fn,v:10},Eo));function px(o){return!isNaN(o)&&o>0&&o<=100}var gx=(Bg={},Bg[kr.dataType]=Fb,Bg[$s.dataType]=ox,Bg[ju.dataType]=rx,Bg[dd.dataType]=ix,Bg[au.dataType]=tx,Bg[Br.dataType]=nx,Bg[ul.dataType]=ex,Bg),Hb=function(o){Tf(a,o);function a(){var c=o.call(this)||this;c.priority=1001,c.identifier=T;var p,S,w,x,H,G,X,le=0,Te,Ee,be,De,Xe,Pe,ot,st,mt,At,ur,Vr,Xr,_i,Mn,Cn,zr,Uo,Zi,Dt,Tn,bi,at,jn,eo,wi,uu;return No(a,c,function(Le,ca){Wb(),Le.pause=function(){Fh(),w=!0},Le.resume=function(){w&&(w=!1,S=null,yi(),Ym())},Le.flush=function(he,He,Kt){if(he===void 0&&(he=!0),!w){Fh();try{return Le[nt](he,null,Kt||1)}catch(zt){Gt(Le[an](),1,22,"flush failed, telemetry will not be collected: "+uo(zt),{exception:gn(zt)})}}},Le.onunloadFlush=function(){if(!w)if(ot||Dt)try{return Le[nt](!0,Wu,2)}catch(he){Gt(Le[an](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+uo(he),{exception:gn(he)})}else Le.flush(!1)},Le.addHeader=function(he,He){X[he]=He},Le[Qi]=function(he,He,Kt,zt){Le.isInitialized()&&Gt(Le[an](),1,28,"Sender is already initialized"),ca[Qi](he,He,Kt,zt);var vr=Le.identifier;H=new ax(He.logger),p=0,S=null,Le[oa]=null,G=0;var Qn=Le[an]();be=lv(Ul("Sender"),He.evtNamespace&&He.evtNamespace()),Ee=_(be),Le._addHook(vc(he,function(qr){var bo=qr.cfg;bo.storagePrefix&&Ye(bo.storagePrefix);var mv=Xl(null,bo,He),Tr=mv.getExtCfg(vr,Ub),Kb=Tr[ka];if(De&&Kb===De){var HD=bo[ka];HD&&HD!==Kb&&(Tr[ka]=HD)}dn(Tr[Ir])&&(Tr[Ir]=bo[Ir]),Bn(Le,"_senderConfig",{g:function(){return Tr}}),Xe!==Tr[ka]&&(De=Xe=Tr[ka]),He.activeStatus()===Os.PENDING?Le.pause():He.activeStatus()===Os.ACTIVE&&Le.resume(),At&&At!==Tr[Ss]&&vn(At,function(Ku){delete X[Ku.header]}),Pe=Tr[Qo],ot=(Tr[sa]===!1||Tr[_d]===!1)&&Ou(),st=Tr[sa]===!1&&Ou(),mt=Tr[_d]===!1&&Ou(),Dt=Tr[Dc],Tn=!!Tr[og],uu=Tr.retryCodes;var jD=Tr[Gg],Wm=!!Tr[gv]&&(!!jD||St()),zb=Tr.namePrefix,yx=Wm!==Cn||Wm&&Uo!==zb||Wm&&zr!==jD;if(Le[yd]){if(yx)try{Le._buffer=Le._buffer[Ys](Qn,Tr,Wm)}catch(Ku){Gt(Le[an](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+uo(Ku),{exception:gn(Ku)})}yi()}else Le[yd]=Wm?new Ab(Qn,Tr):new MD(Qn,Tr);Uo=zb,Cn=Wm,zr=jD,bi=!Tr[sg]&&fo(!0),eo=!!Tr[Ih],Le._sample=new fx(Tr.samplingPercentage,Qn),Vr=Tr[Ir],!dn(Vr)&&!Yb(Vr,bo)&&Gt(Qn,1,100,"Invalid Instrumentation key "+Vr),At=Tr[Ss],Ut(De)&&!Se(De)&&At&&At[ee]>0?vn(At,function(Ku){c.addHeader(Ku.header,Ku.value)}):At=null,Zi=Tr[Co];var Gb=cu();wi?wi.SetConfig(Gb):(wi=new Bp,wi[Qi](Gb,Qn));var Ty=Tr.httpXHROverride,Ey=null,k_=null,Sx=kf([3,1,2],Tr.transports);Ey=wi&&wi[aa](Sx,!1);var $D=wi&&wi.getFallbackInst();at=function(Ku,pm){return ln($D,Ku,pm)},jn=function(Ku,pm){return ln($D,Ku,pm,!1)},Ey=Dt?Ty:Ey||Ty||$D,Le[oa]=function(Ku,pm){return ln(Ey,Ku,pm)},bi&&(Te=$m);var YD=kf([3,1],Tr[je]);bi||(YD=YD.filter(function(Ku){return Ku!==2})),k_=wi&&wi[aa](YD,!0),k_=Dt?Ty:k_||Ty,(Dt||Tr[je]||!Te)&&k_&&(Te=function(Ku,pm){return ln(k_,Ku,pm)}),Te||(Te=at),ur=Tr.disableTelemetry,Xr=Tr[Yt]||ug,_i=Tr.isRetryDisabled,Mn=Tr[On]}))},Le.processTelemetry=function(he,He){var Kt;He=Le._getTelCtx(He);var zt=He[an]();try{var vr=pp(he,zt);if(!vr)return;var Qn=xh(he,zt);if(!Qn)return;var qr=H[hn](Qn),bo=Le[yd];yi(qr);var mv=(Kt={},Kt[Li]=qr,Kt.cnt=0,Kt);bo[ht](mv),Ym()}catch(Tr){Gt(zt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+uo(Tr),{exception:gn(Tr)})}Le.processNext(he,He)},Le.isCompletelyIdle=function(){return!w&&le===0&&Le._buffer[wt]()===0},Le.getOfflineListener=function(){return Ee},Le._xhrReadyStateChange=function(he,He,Kt){if(!hp(He))return hv(he,He,Kt)},Le[nt]=function(he,He,Kt){he===void 0&&(he=!0);var zt;if(!w)try{var vr=Le[yd];if(ur)vr[Ai]();else if(vr[wt]()>0){var Qn=vr.getItems();Cy(Kt||0,he),He?zt=He.call(Le,Qn,he):zt=Le[oa](Qn,he)}Fh()}catch(bo){var qr=lo();(!qr||qr>9)&&Gt(Le[an](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+uo(bo),{exception:gn(bo)})}return zt},Le.getOfflineSupport=function(){var he;return he={getUrl:function(){return De},createPayload:Ke},he[hn]=Ho,he.batch=Yu,he.shouldProcess=function(He){return!!pp(He)},he},Le._doTeardown=function(he,He){Le.onunloadFlush(),Wl(Ee,!1),Wb()},Le[kn]=function(he,He,Kt){if(!hp(he))return ll(he,He)},Le[Oi]=function(he,He){if(!hp(he))return Oh(he,He)},Le[gi]=function(he,He){if(!hp(he))return vp(he)},Le._xdrOnLoad=function(he,He){if(!hp(He))return Zo(he,He)};function Zo(he,He){var Kt=qb(he);if(he&&(Kt+""=="200"||Kt===""))p=0,Le[gi](He,0);else{var zt=od(Kt);zt&&zt[To]&&zt[To]>zt[ua]&&!_i?Le[Oi](He,zt):Le[kn](He,Xa(he))}}function cu(){var he;try{var He={xdrOnComplete:function(zt,vr,Qn){var qr=kh(Qn);if(qr)return Zo(zt,qr)},fetchOnComplete:function(zt,vr,Qn,qr){var bo=kh(qr);if(bo)return jo(zt.status,bo,zt.url,bo[ee],zt.statusText,Qn||"")},xhrOnComplete:function(zt,vr,Qn){var qr=kh(Qn);if(qr)return hv(zt,qr,qr[ee])},beaconOnRetry:function(zt,vr,Qn){return gp(zt,vr,Qn)}},Kt=(he={},he[Co]=Zi,he.isOneDs=!1,he.disableCredentials=!1,he[og]=Tn,he.disableBeacon=!mt,he.disableBeaconSync=!st,he.senderOnCompleteCallBack=He,he);return Kt}catch{}return null}function hv(he,He,Kt){he.readyState===4&&jo(he.status,He,he.responseURL,Kt,ds(he),qb(he)||he.response)}function ll(he,He,Kt){Gt(Le[an](),2,26,"Failed to send telemetry.",{message:He}),Le._buffer&&Le._buffer[hd](he)}function Oh(he,He){for(var Kt=[],zt=[],vr=He.errors.reverse(),Qn=0,qr=vr;Qn<qr.length;Qn++){var bo=qr[Qn],mv=he.splice(bo.index,1)[0];Lh(bo.statusCode)?zt[Wn](mv):Kt[Wn](mv)}he[ee]>0&&Le[gi](he,He[ua]),Kt[ee]>0&&Le[kn](Kt,ds(null,["partial success",He[ua],"of",He.itemsReceived].join(" "))),zt[ee]>0&&(O_(zt),Gt(Le[an](),2,40,"Partial success. Delivered: "+he[ee]+", Failed: "+Kt[ee]+". Will retry to send "+zt[ee]+" our of "+He[To]+" items"))}function vp(he,He){Le._buffer&&Le._buffer[hd](he)}function kh(he){try{if(he){var He=he,Kt=He[xa];return Kt&&Kt[ee]?Kt:null}}catch{}return null}function pp(he,He){if(ur)return!1;if(!he)return He&&Gt(He,1,7,"Cannot send empty telemetry"),!1;if(he.baseData&&!he[Sd])return He&&Gt(He,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(he[Sd]||(he[Sd]="EventData"),!Le[oa])return He&&Gt(He,1,28,"Sender was not initialized"),!1;if(Wt(he))he[om]=Le._sample[ag];else return He&&Gt(He,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Le._sample[ag]}),!1;return!0}function xh(he,He){var Kt=he.iKey||Vr,zt=a.constructEnvelope(he,Kt,He,Xr);if(!zt){Gt(He,1,47,"Unable to create an AppInsights envelope");return}var vr=!1;if(he[A]&&he[A][Yg]&&(vn(he[A][Yg],function(Qn){try{Qn&&Qn(zt)===!1&&(vr=!0,pc(He,"Telemetry processor check returns false"))}catch(qr){Gt(He,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+uo(qr),{exception:gn(qr)},!0)}}),delete he[A][Yg]),!vr)return zt}function Ho(he){var He=Mb,Kt=Le[an]();try{var zt=pp(he,Kt),vr=null;zt&&(vr=xh(he,Kt)),vr&&(He=H[hn](vr))}catch{}return He}function Yu(he){var He=Mb;return he&&he[ee]&&(He="["+he.join(",")+"]"),He}function Ke(he){var He,Kt=qi();return He={urlString:De},He[U]=he,He.headers=Kt,He}function Wt(he){return Le._sample.isSampledIn(he)}function qn(he,He,Kt,zt){He===200&&he?Le._onSuccess(he,he[ee]):zt&&Le[kn](he,zt)}function ln(he,He,Kt,zt){zt===void 0&&(zt=!0);var vr=function(bo,mv,Tr){return qn(He,bo,mv,Tr)},Qn=Vn(He),qr=he&&he.sendPOST;return qr&&Qn?(zt&&Le._buffer[ys](He),qr(Qn,vr,!Kt)):null}function Vn(he){var He;if(bt(he)&&he[ee]>0){var Kt=Le[yd].batchPayloads(he),zt=qi(),vr=(He={},He[U]=Kt,He.urlString=De,He.headers=zt,He.disableXhrSync=Tn,He.disableFetchKeepAlive=!bi,He[xa]=he,He);return vr}return null}function qi(){try{var he=X||{};return Se(De)&&(he[am[6]]=am[7]),he}catch{}return null}function yi(he){var He=he?he[ee]:0;return Le[yd].size()+He>Pe?((!Ee||Ee.isOnline())&&Le[nt](!0,null,10),!0):!1}function jo(he,He,Kt,zt,vr,Qn){var qr=null;if(Le._appId||(qr=od(Qn),qr&&qr.appId&&(Le._appId=qr.appId)),(he<200||he>=300)&&he!==0){if((he===301||he===307||he===308)&&!Fa(Kt)){Le[kn](He,vr);return}if(Ee&&!Ee.isOnline()){if(!_i){var bo=10;O_(He,bo),Gt(Le[an](),2,40,". Offline - Response Code: ".concat(he,". Offline status: ").concat(!Ee.isOnline(),". Will retry to send ").concat(He.length," items."))}return}!_i&&Lh(he)?(O_(He),Gt(Le[an](),2,40,". Response code "+he+". Will retry to send "+He[ee]+" items.")):Le[kn](He,vr)}else Fa(Kt),he===206?(qr||(qr=od(Qn)),qr&&!_i?Le[Oi](He,qr):Le[kn](He,vr)):(p=0,Le[gi](He,zt))}function Fa(he){return G>=10?!1:!Ze(he)&&he!==""&&he!==De?(De=he,++G,!0):!1}function Wu(he,He){if(Te)Te(he,!1);else{var Kt=wi&&wi[aa]([3],!0);return ln(Kt,he,He)}}function gp(he,He,Kt){var zt=he,vr=zt&&zt[xa];if(eo)jn&&jn(vr,!0),Gt(Le[an](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Qn=[],qr=0;qr<vr[ee];qr++){var bo=vr[qr],mv=[bo],Tr=Vn(mv);Kt(Tr,He)?Le._onSuccess(mv,mv[ee]):Qn[Wn](bo)}Qn[ee]>0&&(jn&&jn(Qn,!0),Gt(Le[an](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function hp(he){try{if(he&&he[ee])return Ut(he[0])}catch{}return null}function $m(he,He){var Kt=null;if(bt(he)){for(var zt=he[ee],vr=0;vr<he[ee];vr++)zt+=he[vr].item[ee];var Qn=wi.getSyncFetchPayload();Qn+zt<=dx?Kt=2:Ou()?Kt=3:(Kt=1,Gt(Le[an](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var qr=wi&&wi[aa]([Kt],!0);return ln(qr,he,He)}return null}function O_(he,He){if(He===void 0&&(He=1),!(!he||he[ee]===0)){var Kt=Le[yd];Kt[hd](he),p++;for(var zt=0,vr=he;zt<vr.length;zt++){var Qn=vr[zt];Qn.cnt=Qn.cnt||0,Qn.cnt++,Kt[ht](Qn)}UD(He),Ym()}}function UD(he){var He=10,Kt;if(p<=1)Kt=He;else{var zt=(Math.pow(2,p)-1)/2,vr=Math.floor(Math.random()*zt*He)+1;vr=he*vr,Kt=Math.max(Math.min(vr,3600),He)}var Qn=Vu()+Kt*1e3;S=Qn}function Ym(){if(!x&&!w){var he=S?Math.max(0,S-Vu()):0,He=Math.max(Mn,he);x=Qu(function(){x=null,Le[nt](!0,null,1)},He)}}function Fh(){x&&x.cancel(),x=null,S=null}function Lh(he){return Ze(uu)?he===401||he===408||he===429||he===500||he===502||he===503||he===504:uu[ee]&&uu.indexOf(he)>-1}function Dy(){var he="getNotifyMgr";return Le.core[he]?Le.core[he]():Le.core._notificationManager}function Cy(he,He){var Kt=Dy();if(Kt&&Kt[lm])try{Kt[lm](he,He)}catch(zt){Gt(Le[an](),1,74,"send request notification failed: "+uo(zt),{exception:gn(zt)})}}function Yb(he,He){var Kt=He.disableInstrumentationKeyValidation,zt=Ze(Kt)?!1:Kt;if(zt)return!0;var vr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Qn=new RegExp(vr);return Qn.test(he)}function Wb(){Le[oa]=null,Le[yd]=null,Le._appId=null,Le._sample=null,X={},Ee=null,p=0,S=null,w=!1,x=null,H=null,G=0,le=0,Te=null,be=null,De=null,Xe=null,Pe=0,ot=!1,At=null,ur=!1,Vr=null,Xr=ug,_i=!1,Cn=null,Uo=ug,Tn=!1,bi=!1,eo=!1,at=null,jn=null,wi=null,Bn(Le,"_senderConfig",{g:function(){return Zt({},Ub)}})}}),c}return a.constructEnvelope=function(c,p,S,w){var x;p!==c.iKey&&!Ze(p)?x=Xs(Xs({},c),{iKey:p}):x=c;var H=gx[x.baseType]||Fb;return H(S,x,w)},a}(ti),Um="instrumentationKey",Sy="connectionString",jb="instrumentationkey",Hm="endpointUrl",$b="ingestionendpoint",N_="userOverrideEndpointUrl",jm,qD=void 0,hx=(jm={diagnosticLogInterval:Kl(mx,1e4)},jm[Sy]=qD,jm[Hm]=qD,jm[Um]=qD,jm.extensionConfig={},jm);function mx(o){return o&&o>0}var _x=function(){function o(a){var c=new Ql,p;(Ze(a)||Ze(a[Um])&&Ze(a[Sy]))&&En("Invalid input configuration"),No(o,this,function(w){Bn(w,"config",{g:function(){return p}}),x(),w.initialize=x,w.track=S,zd(w,c,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function x(){var H=wa(a||{},hx);p=H.cfg,c.addUnloadHook(vc(H,function(){var G=p[Sy];if(dn(G)){var X=Pl(function(be,De){Ga(G,function(Xe){var Pe=Xe.value,ot=p[Um];if(!Xe.rejected&&Pe){p[Sy]=Pe;var st=Yn(Pe);ot=st[jb]||ot}be(ot)})}),le=Pl(function(be,De){Ga(G,function(Xe){var Pe=Xe.value,ot=p[Hm];if(!Xe.rejected&&Pe){var st=Yn(Pe),mt=st[$b];ot=mt?mt+Qp:ot}be(ot)})});p[Um]=X,p[Hm]=p[N_]||le}if(Ut(G)){var Te=Yn(G),Ee=Te[$b];p[Hm]=p[N_]?p[N_]:Ee+Qp,p[Um]=Te[jb]||p[Um]}p[Hm]=p[N_]?p[N_]:p[Hm]})),c.initialize(p,[new Hb])}});function S(w){w&&(w.baseData=w.baseData||{},w.baseType=w.baseType||"EventData"),c.track(w)}}return o.__ieDyn=1,o}();t.AppInsightsCore=Ql,t.ApplicationInsights=_x,t.Sender=Hb,t.SeverityLevel=zg,t.arrForEach=vn,t.isNullOrUndefined=Ze,t.proxyFunctions=zd,t.throwError=En})});var bk=Oe(gg=>{"use strict";var x1=gg&&gg.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),F1=gg&&gg.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),L1=gg&&gg.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&x1(e,t,n);return F1(e,t),e};Object.defineProperty(gg,"__esModule",{value:!0});gg.appInsightsClientFactory=void 0;var A1=Ck(),M1=Db(),q1=async(t,e,n,r,s)=>{let v;try{let D=await Promise.resolve().then(()=>L1(Ek())),E={};if(r){let $={alwaysUseXhrOverride:!0,httpXHROverride:r};E[A1.BreezeChannelIdentifier]=$}let I;t.startsWith("InstrumentationKey=")||(I=t);let M=I?{instrumentationKey:I}:{connectionString:t};v=new D.ApplicationInsights({...M,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:E})}catch(D){return Promise.reject(D)}return{logEvent:(D,E)=>{let I={...E?.properties,...E?.measurements};s?.length&&M1.TelemetryUtil.applyReplacements(I,s),v?.track({name:D,data:I,baseType:"EventData",ext:{user:{id:e,authId:e},app:{sesId:n}},baseData:{name:D,properties:E?.properties,measurements:E?.measurements}})},flush:async()=>{v?.flush(!1)},dispose:async()=>new Promise(E=>{v?.unload(!0,()=>{E(),v=void 0},1e3)})}};gg.appInsightsClientFactory=q1});var wk=Oe(TD=>{"use strict";Object.defineProperty(TD,"__esModule",{value:!0});TD.BaseTelemetryReporter=void 0;var Cb=class{constructor(e,n,r){this.telemetrySender=e,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,n,r,s){s?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logUsage(e,{properties:n,measurements:r})}sendTelemetryEvent(e,n,r){this.internalSendTelemetryEvent(e,n,r,!1)}sendRawTelemetryEvent(e,n,r){let s={...n};for(let v of Object.keys(s??{})){let h=s[v];typeof v=="string"&&h!==void 0&&(s[v]=new this.vscodeAPI.TelemetryTrustedValue(typeof h=="string"?h:h.value))}this.sendTelemetryEvent(e,s,r)}sendDangerousTelemetryEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,n,r,!0)}internalSendTelemetryErrorEvent(e,n,r,s){s?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logError(e,{properties:n,measurements:r})}sendTelemetryErrorEvent(e,n,r){this.internalSendTelemetryErrorEvent(e,n,r,!1)}sendDangerousTelemetryErrorEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,n,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};TD.BaseTelemetryReporter=Cb});var Rk=Oe(ED=>{"use strict";Object.defineProperty(ED,"__esModule",{value:!0});ED.BaseTelemetrySender=void 0;var ih;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(ih||(ih={}));var Tb=class{constructor(e,n){this._instantiationStatus=ih.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=e}sendEventData(e,n){if(!this._telemetryClient){this._instantiationStatus!==ih.INSTANTIATED&&this._eventQueue.push({eventName:e,data:n});return}this._telemetryClient.logEvent(e,n)}sendErrorData(e,n){if(!this._telemetryClient){this._instantiationStatus!==ih.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:n});return}let r={stack:e.stack,message:e.message,name:e.name};if(n){let s=n.properties||n;n.properties={...s,...r}}else n={properties:r};this._telemetryClient.logEvent("unhandlederror",n)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:n})=>this.sendEventData(e,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:n})=>this.sendErrorData(e,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===ih.NOT_INSTANTIATED&&(this._instantiationStatus=ih.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=ih.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=ih.INSTANTIATED}))}};ED.BaseTelemetrySender=Tb});var Nk=Oe(oh=>{"use strict";var U1=oh&&oh.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),H1=oh&&oh.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wb=oh&&oh.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&U1(e,t,n);return H1(e,t),e};Object.defineProperty(oh,"__esModule",{value:!0});var j1=wb(require("https")),Eb=wb(require("os")),bD=wb(require("vscode")),$1=Sk(),Y1=bk(),W1=wk(),K1=Rk(),Pk=Db();function Ik(){return{sendPOST:(e,n)=>{let r={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let s=j1.request(e.urlString,r,v=>{v.on("data",function(h){n(v.statusCode??200,v.headers,h.toString())}),v.on("error",function(){n(0,{})})});s.write(e.data,v=>{v&&n(0,{})}),s.end()}catch{n(0,{})}}}}var bb=class extends W1.BaseTelemetryReporter{constructor(e,n){let r=h=>(0,Y1.appInsightsClientFactory)(h,bD.env.machineId,bD.env.sessionId,Ik(),n);Pk.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(r=h=>(0,$1.oneDataSystemClientFactory)(h,bD,Ik()));let s={release:Eb.release(),platform:Eb.platform(),architecture:Eb.arch()},v=new K1.BaseTelemetrySender(e,r);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(v,bD,{additionalCommonProperties:Pk.TelemetryUtil.getAdditionalCommonProperties(s)})}};oh.default=bb});var aq={};wx(aq,{activate:()=>oq,deactivate:()=>sq,languageClientManager:()=>em,workspaceTracker:()=>ah});module.exports=Rx(aq);var hg=Ui(require("vscode"));var Xb=require("node:child_process"),wy=Ui(require("node:os")),Ah=Ui(require("vscode"));var Vb="elixir.lens.test.run",cg="jakebecker.elixir-ls";function Jb(t){let e=Ah.commands.registerCommand("extension.copyDebugInfo",()=>{let n=(0,Xb.execSync)("elixir --version"),r=Ah.extensions.getExtension(cg);if(!r)return;let s=`
* Elixir & Erlang versions (elixir --version): ${n}
* VSCode ElixirLS version: ${r.packageJSON.version}
* Operating System Version: ${wy.platform()} ${wy.release()}
`;Ah.window.showInformationMessage(`Copied to clipboard: ${s}`),Ah.env.clipboard.writeText(s)});t.subscriptions.push(e)}var rh=Ui(require("vscode")),pD=Ui(gy());var dk="Expand macro result";function P1(t){let e="";for(let[n,r]of Object.entries(t))e+=`<div>
      <h4>${n}</h4>
      <code><pre>${r}</pre></code>
    </div>`;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${dk}</title>
</head>
<body>
  ${e}
</body>
</html>`}function vk(t,e){let n=rh.commands.registerCommand("extension.expandMacro",async()=>{let r=rh.extensions.getExtension(cg),s=rh.window.activeTextEditor;if(!r||!s)return;if(s.selection.isEmpty){console.error("ElixirLS: selection is empty");return}let v=s.document.uri,h=e.getClientPromiseByDocument(s.document);if(!h){console.error(`ElixirLS: no language client for document ${v.fsPath}`);return}let D=await h;if(!D.initializeResult){console.error(`ElixirLS: unable to execute command on server ${D.name} in state ${pD.State[D.state]}`);return}let I={command:D.initializeResult.capabilities.executeCommandProvider?.commands.find(W=>W.startsWith("expandMacro:")),arguments:[v.toString(),s.document.getText(s.selection),s.selection.start.line]},M=await D.sendRequest(pD.ExecuteCommandRequest.type,I),$=rh.window.createWebviewPanel("expandMacro",dk,rh.ViewColumn.One,{});$.webview.html=P1(M)});t.subscriptions.push(n)}var E_=Ui(require("vscode")),gD=Ui(gy());function mb(t,e,n){let r=`extension.${n}`,s=E_.commands.registerCommand(r,async()=>{let v=E_.extensions.getExtension(cg),h=E_.window.activeTextEditor;if(!v||!h)return;let D=h.document.uri,E=e.getClientPromiseByDocument(h.document);if(!E){console.error(`ElixirLS: no language client for document ${D.fsPath}`);return}let I=await E;if(!I.initializeResult){console.error(`ElixirLS: unable to execute command on server ${I.name} in state ${gD.State[I.state]}`);return}let M=I.initializeResult.capabilities.executeCommandProvider?.commands.find(z=>z.startsWith("manipulatePipes:")),$=D.toString(),W=[n,$,h.selection.start.line,h.selection.start.character],ne={command:M,arguments:W};await I.sendRequest(gD.ExecuteCommandRequest.type,ne)});t.subscriptions.push(s)}var hD=Ui(require("vscode")),mD=Ui(_b());function yb(t,e,n){let r=`extension.${n?"mixCleanIncludeDeps":"mixClean"}`,s=hD.commands.registerCommand(r,async()=>{hD.extensions.getExtension(cg)&&await Promise.all(e.allClientsPromises().map(async h=>{let D=await h;if(!D.initializeResult){console.error(`ElixirLS: unable to execute command on server ${D.name} in state ${mD.State[D.state]}`);return}let I={command:D.initializeResult.capabilities.executeCommandProvider?.commands.find(M=>M.startsWith("mixClean:")),arguments:[n]};await D.sendRequest(mD.ExecuteCommandRequest.type,I)}))});t.subscriptions.push(s)}var RD=Ui(require("vscode"));var Ok=Ui(Nk()),z1="InstrumentationKey=0979629c-3be4-4b0d-93f2-2be81cccd799;IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/;ApplicationId=7ad820f6-e2a9-4df6-97d8-d72ce90b8460",G1="00000000-0000-0000-0000-000000000000",B1=[{eventName:"build",samplingFactor:.004},{eventName:"build_error",samplingFactor:.1},{eventName:"test_controller_resolve_error",samplingFactor:.01},{eventName:"dialyzer",samplingFactor:.04},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_foldingRange",samplingFactor:2e-4},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_completion",samplingFactor:.002},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_codeAction",samplingFactor:2e-4},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_hover",samplingFactor:.002},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_documentSymbol",samplingFactor:5e-4},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"workspace_symbol",samplingFactor:.02},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_codeLens",samplingFactor:.003},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"workspace_executeCommand:getExUnitTestsInFile",samplingFactor:.003},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_signatureHelp",samplingFactor:.004},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_definition",samplingFactor:.004},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_onTypeFormatting",samplingFactor:.006},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"textDocument_formatting",samplingFactor:.008},{eventName:"lsp_request",propertyKey:"elixir_ls.lsp_command",propertyValue:"initialize",samplingFactor:.03},{eventName:"dap_request",propertyKey:"elixir_ls.dap_command",propertyValue:"threads",samplingFactor:.05},{eventName:"dap_request",propertyKey:"elixir_ls.dap_command",propertyValue:"initialize",samplingFactor:.2},{eventName:"dap_request",propertyKey:"elixir_ls.dap_command",propertyValue:"launch",samplingFactor:.2},{eventName:"dap_request",propertyKey:"elixir_ls.dap_command",propertyValue:"disconnect",samplingFactor:.2},{eventName:"unhandlederror",samplingFactor:.01}];function V1(t,e,n){return!(t!==n.eventName||n.propertyKey&&(!e||e[n.propertyKey]!==n.propertyValue))}function hy(t,e,n){let r=1;for(let s of B1)if(V1(t,e,s)){r=s.samplingFactor;break}(r===1||Math.random()<=r)&&n(r)}var ii,Rb=class extends Ok.default{constructor(){super(process.env.ELS_TEST?G1:z1)}sendTelemetryEvent(e,n,r){process.env.ELS_TEST||hy(e,n,s=>super.sendTelemetryEvent(e,n,this.appendCount(e,s,r)))}sendTelemetryErrorEvent(e,n,r){process.env.ELS_TEST||hy(e,n,s=>super.sendTelemetryErrorEvent(e,n,this.appendCount(e,s,r)))}sendRawTelemetryEvent(e,n,r){process.env.ELS_TEST||hy(e,n,s=>super.sendRawTelemetryEvent(e,n,this.appendCount(e,s,r)))}sendDangerousTelemetryErrorEvent(e,n,r){process.env.ELS_TEST||hy(e,n,s=>super.sendDangerousTelemetryErrorEvent(e,n,this.appendCount(e,s,r)))}sendDangerousTelemetryEvent(e,n,r){process.env.ELS_TEST||hy(e,n,s=>super.sendDangerousTelemetryEvent(e,n,this.appendCount(e,s,r)))}appendCount(e,n,r){let s=`elixir_ls.${e}_count`;if(!r){let h={};return h[s]=1/n,h}let v=!1;return Object.keys(r).forEach(h=>{h.endsWith("_count")&&(r[h]/=n,v=!0)}),v||(r[s]=1/n),r}};function kk(t){ii=new Rb,t.subscriptions.push(ii)}function Pb(t){let e=t,n=["elixir_sense","language_server","debug_adapter","elixir_ls_utils","elixir","mix","eex","ex_unit"];for(let s of n){let v=new RegExp(`(.*)(/${s}/)([^\\s]+)`,"g");e=e.replace(v,(h,D,E,I)=>{let M=I.replace(/\//g,"_");return`USER_PATH_${s}_${M}`})}return e=e.replace(/\/\d+/g,s=>s.replace("/","_")),e=e.replace(/key (.*?) not found/g,"k_ey $1 not found"),e=e.replace(/badkey/g,"badk_ey"),e=e.replace(/bad key/g,"bad k_ey"),e=e.replace(/unknown key/g,"unknown k_ey"),e=e.replace(/does not have the key/g,"does not have the k_ey"),e=e.replace(/token missing/g,"t_oken missing"),e=e.replace(/unexpected token/g,"unexpected t_oken"),e=e.replace(/Unexpected token/g,"Unexpected t_oken"),e=e.replace(/reserved token/g,"reserved t_oken"),["key","token","sig","secret","signature","password","passwd","pwd","android:value"].forEach(s=>{let v=new RegExp(`(${s})[^a-zA-Z0-9]`,"gi"),h=`${s[0]}_${s.slice(1)}`;e=e.replace(v,h)}),e=e.replace(/@([a-zA-Z0-9-]+\.[a-zA-Z0-9-]+)/g,"_at_$1"),e}function wD(t){if(!t)return t;for(let e in t)t[e]=Pb(t[e]);return t}function xk(t,e){let n=RD.commands.registerCommand("extension.restart",async()=>{RD.extensions.getExtension(cg)&&(ii.sendTelemetryEvent("restart_command"),e.restart())});t.subscriptions.push(n)}function Fk(t,e){Jb(t),vk(t,e),xk(t,e),yb(t,e,!1),yb(t,e,!0),mb(t,e,"fromPipe"),mb(t,e,"toPipe")}var PD=Ui(require("vscode"));function Lk(t){PD.extensions.getExtension(t)&&PD.window.showErrorMessage(`Warning: ${t} is not compatible with ElixirLS, please uninstall ${t}`)}function Ak(){Lk("mjmcloug.vscode-elixir"),Lk("sammkj.vscode-elixir-formatter")}var Zh=Ui(require("vscode"));var Mk=Ui(require("node:os")),qk=Ui(require("node:path")),Uk=Ui(require("vscode")),X1=t=>t+(Mk.platform()==="win32"?".bat":".sh");function ID(t,e,n){let r=Uk.workspace.getConfiguration("elixirLS",n).get("languageServerOverridePath"),s=X1(e),v=process.env.ELS_LOCAL==="1"?"./elixir-ls/scripts/":"./elixir-ls-release/";return r?qk.join(r,s):t.asAbsolutePath(v+s)}var Ib=class{constructor(e){this._context=e}createDebugAdapterDescriptor(e,n){console.log("DebugAdapterExecutableFactory called with session",e,"executable",n);let r=ID(this._context,"debug_adapter",e.workspaceFolder),s=n.options??{};e.workspaceFolder&&(s.cwd=e.workspaceFolder.uri.fsPath),e.configuration.env&&(s.env={...s.env??{},...e.configuration.env});let v=new Zh.DebugAdapterExecutable(r,n.args,s);return e.workspaceFolder?console.log(`ElixirLS: starting DAP session in workspace folder ${e.workspaceFolder.name} with executable`,v):console.log("ElixirLS: starting folderless DAP session with executable",v),ii.sendTelemetryEvent("debug_session_starting",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"}),v}},Nb=class{constructor(e){this.startTimes=new Map;this._onExited=new Zh.EventEmitter;this._onOutput=new Zh.EventEmitter;this._context=e}dispose(){this._onExited.dispose(),this._onOutput.dispose()}get onExited(){return this._onExited.event}get onOutput(){return this._onOutput.event}createDebugAdapterTracker(e){return{onWillStartSession:()=>{this.startTimes.set(e.id,performance.now())},onWillStopSession:()=>{this.startTimes.delete(e.id)},onError:n=>{console.warn(`ElixirLS: Debug session ${e.id}: `,n),ii.sendTelemetryErrorEvent("debug_session_error",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.debug_session_error":String(n),"elixir_ls.debug_session_error_stack":n.stack??""})},onExit:(n,r)=>{n===0?console.log(`ElixirLS: Debug session ${e.id}: DAP process exited with code `,n):console.error(`ElixirLS: Debug session ${e.id}: DAP process exited with code `,n," signal ",r),ii.sendTelemetryErrorEvent("debug_session_exit",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.debug_session_exit_code":String(n),"elixir_ls.debug_session_exit_signal":String(r)})},onDidSendMessage:n=>{if(n.type==="event"){let r=n;if(r.event==="output"){let s=n;if(s.body.category!=="telemetry")this._onOutput.fire({sessionId:e.id,output:s});else{let v=s.body.data;v.name.endsWith("_error")?ii.sendTelemetryErrorEvent(v.name,{...wD(v.properties),"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"},v.measurements):ii.sendTelemetryEvent(v.name,{...v.properties,"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"},v.measurements)}}if(r.event==="initialized"){let s=performance.now()-this.startTimes.get(e.id);ii.sendTelemetryEvent("debug_session_initialized",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless"},{"elixir_ls.debug_session_initialize_time":s})}if(r.event==="exited"){let s=n;ii.sendTelemetryEvent("debug_session_debuggee_exited",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.debug_session_debuggee_exit_code":String(s.body.exitCode)}),this._onExited.fire({sessionId:e.id,code:s.body.exitCode})}}else if(n.type==="response"&&!n.success){let s=n;if(s.body.error){let v=s.body.error;v.sendTelemetry&&ii.sendTelemetryErrorEvent("dap_request_error",{"elixir_ls.debug_session_mode":e.workspaceFolder?"workspaceFolder":"folderless","elixir_ls.dap_command":s.command,"elixir_ls.dap_error":s.message,"elixir_ls.dap_error_message":Pb(v.format)})}}}}}},b_;function Hk(t){let e=new Ib(t);t.subscriptions.push(Zh.debug.registerDebugAdapterDescriptorFactory("mix_task",e)),b_=new Nb(t),t.subscriptions.push(Zh.debug.registerDebugAdapterTrackerFactory("mix_task",b_)),t.subscriptions.push(b_)}var pl=Ui(require("vscode")),xD=Ui(_b());var jk=Ui(require("node:fs")),Ob=Ui(require("node:path")),bv=Ui(require("vscode"));function ND(t){let e=bv.workspace.getConfiguration("elixirLS",t).get("projectDir");return e?Ob.join(t.uri.fsPath,e):t.uri.fsPath}var OD=class{sortedWorkspaceFolders(){return this._sortedWorkspaceFolders===void 0&&(this._sortedWorkspaceFolders=bv.workspace.workspaceFolders?bv.workspace.workspaceFolders.map(e=>{let n=e.uri.toString();return n.charAt(n.length-1)!=="/"&&(n=`${n}/`),n}).sort((e,n)=>e.length-n.length):[]),this._sortedWorkspaceFolders}getOuterMostWorkspaceFolder(e){return this._getOuterMostWorkspaceFolder(e,!1)}_getOuterMostWorkspaceFolder(e,n){let r=e.uri.toString();r.charAt(r.length-1)!=="/"&&(r=`${r}/`);let s=bv.workspace.getConfiguration("elixirLS",e).get("useCurrentRootFolderAsProjectDir"),v=null,h=s?[r]:this.sortedWorkspaceFolders();for(let D of h)if(r.startsWith(D)){let E=bv.workspace.getWorkspaceFolder(bv.Uri.parse(D));if(E){v||(v=E);let I=ND(E),M=Ob.join(I,"mix.exs");if(jk.existsSync(M))return E}}if(v)return v;if(!n)return this.handleDidChangeWorkspaceFolders(),this._getOuterMostWorkspaceFolder(e,!0);throw`not able to find outermost workspace folder for ${e.uri.fsPath}`}handleDidChangeWorkspaceFolders(){this._sortedWorkspaceFolders=void 0}getProjectDirForUri(e){let n=bv.workspace.getWorkspaceFolder(e);if(n){let r=this.getOuterMostWorkspaceFolder(n);return ND(r)}}get mode(){return bv.workspace.workspaceFile?"MULTI_ROOT":bv.workspace.workspaceFolders&&bv.workspace.workspaceFolders.length!==0?"SINGLE_FOLDER":"NO_WORKSPACE"}};var FD=["elixir","eex","html-eex","phoenix-heex"],J1=["surface"],Q1=FD.concat(J1),Wk=FD.flatMap(t=>[{language:t,scheme:"file"},{language:t,scheme:"untitled"},{language:t,scheme:"embedded-content"}]),Z1=FD.map(t=>({language:t,scheme:"untitled"})),eq=t=>FD.map(e=>({language:e,scheme:"file",pattern:t})),$k={documentSelector:Wk,revealOutputChannelOn:xD.RevealOutputChannelOn.Never};function Yk(t,e){let n={command:`"${ID(t,"language_server",e.workspaceFolder)}"`,options:{shell:!0}},r={run:n,debug:n},s;e.workspaceFolder?(console.log(`ElixirLS: starting LSP client for ${e.workspaceFolder.uri.fsPath} with server options`,r,"client options",e),s=`ElixirLS - ${e.workspaceFolder?.name}`,ii.sendTelemetryEvent("language_client_starting",{"elixir_ls.language_client_mode":"workspaceFolder"})):(console.log("ElixirLS: starting default LSP client with server options",r,"client options",e),s="ElixirLS - (default)",ii.sendTelemetryEvent("language_client_starting",{"elixir_ls.language_client_mode":"default"}));let v=new xD.LanguageClient("elixirLS",s,r,e),h=[];h.push(v.onTelemetry(E=>{E.name.endsWith("_error")?ii.sendTelemetryErrorEvent(E.name,wD(E.properties),E.measurements):ii.sendTelemetryEvent(E.name,E.properties,E.measurements)}));let D=new Promise((E,I)=>{let M=performance.now();v.start().then(()=>{let $=performance.now()-M;e.workspaceFolder?console.log(`ElixirLS: started LSP client for ${e.workspaceFolder.uri.toString()}`):console.log("ElixirLS: started default LSP client"),ii.sendTelemetryEvent("language_client_started",{"elixir_ls.language_client_mode":e.workspaceFolder?"workspaceFolder":"default"},{"elixir_ls.language_client_activation_time":$}),E(v)}).catch($=>{ii.sendTelemetryErrorEvent("language_client_start_error",{"elixir_ls.language_client_mode":e.workspaceFolder?"workspaceFolder":"default","elixir_ls.language_client_start_error":String($),"elixir_ls.language_client_start_error_stack":$?.stack??""}),e.workspaceFolder?console.error(`ElixirLS: failed to start LSP client for ${e.workspaceFolder.uri.toString()}: ${$}`):console.error(`ElixirLS: failed to start default LSP client: ${$}`),I($)})});return[v,D,h]}var kD=class{constructor(e){this.defaultClient=null;this.defaultClientPromise=null;this.defaultClientDisposables=null;this.clients=new Map;this.clientsPromises=new Map;this.clientsDisposables=new Map;this._onDidChange=new pl.EventEmitter;this._workspaceTracker=e}get onDidChange(){return this._onDidChange.event}getDefaultClient(){return this.defaultClient}allClients(){let e=[...this.clients.values()];return this.defaultClient&&e.push(this.defaultClient),e}allClientsPromises(){let e=[...this.clientsPromises.values()];return this.defaultClientPromise&&e.push(this.defaultClientPromise),e}restart(){let e=async(n,r,s)=>new Promise((v,h)=>{ii.sendTelemetryEvent("language_client_restarting",{"elixir_ls.language_client_mode":r?"default":"workspaceFolder"});let D=performance.now();n.restart().then(()=>{let E=performance.now()-D;ii.sendTelemetryEvent("language_client_started",{"elixir_ls.language_client_mode":r?"default":"workspaceFolder"},{"elixir_ls.language_client_activation_time":E}),console.log(r?"ElixirLS: started default LSP client":`ElixirLS: started LSP client for ${s}`),v(n)}).catch(E=>{ii.sendTelemetryErrorEvent("language_client_restart_error",{"elixir_ls.language_client_mode":r?"default":"workspaceFolder","elixir_ls.language_client_start_error":String(E),"elixir_ls.language_client_start_error_stack":E?.stack??""}),console.error(r?`ElixirLS: failed to start default LSP client: ${E}`:`ElixirLS: failed to start LSP client for ${s}: ${E}`),h(E)})});for(let[n,r]of this.clients)console.log(`ElixirLS: restarting LSP client for ${n}`),this.clientsPromises.set(n,e(r,!1,n));this.defaultClient&&(console.log("ElixirLS: restarting default LSP client"),this.defaultClientPromise=e(this.defaultClient,!0))}getClientByUri(e){let n=pl.workspace.getWorkspaceFolder(e);if(!n)if(pl.workspace.workspaceFolders&&pl.workspace.workspaceFolders.length!==0)n=pl.workspace.workspaceFolders[0];else{if(this.defaultClient)return this.defaultClient;throw"default client LSP not started"}n=this._workspaceTracker.getOuterMostWorkspaceFolder(n);let r=this.clients.get(n.uri.toString());if(r)return r;throw`LSP client for ${n.uri.toString()} not started`}getClientPromiseByUri(e){let n=pl.workspace.getWorkspaceFolder(e);if(!n)if(pl.workspace.workspaceFolders&&pl.workspace.workspaceFolders.length!==0)n=pl.workspace.workspaceFolders[0];else return this.defaultClientPromise;return n=this._workspaceTracker.getOuterMostWorkspaceFolder(n),this.clientsPromises.get(n.uri.toString())}getClientByDocument(e){return e.languageId!=="elixir"?null:this.getClientByUri(e.uri)}getClientPromiseByDocument(e){return e.languageId!=="elixir"?null:this.getClientPromiseByUri(e.uri)}handleDidOpenTextDocument(e,n){if(!Q1.includes(e.languageId))return;let r=e.uri,s=pl.workspace.getWorkspaceFolder(r);if(!s)if(pl.workspace.workspaceFolders&&pl.workspace.workspaceFolders.length!==0)s=pl.workspace.workspaceFolders[0];else{this.defaultClient||([this.defaultClient,this.defaultClientPromise,this.defaultClientDisposables]=Yk(n,$k),this._onDidChange.fire());return}if(s=this._workspaceTracker.getOuterMostWorkspaceFolder(s),!this.clients.has(s.uri.toString())){let v;if(this._workspaceTracker.mode==="MULTI_ROOT"){let M=`${s.uri.fsPath}/**/*`,$=s.index===0?Z1:[];v=[...eq(M),...$]}else if(this._workspaceTracker.mode==="SINGLE_FOLDER")v=Wk;else if(this._workspaceTracker.mode==="NO_WORKSPACE")throw"this should not happen";let h={...$k,documentSelector:v,workspaceFolder:s},[D,E,I]=Yk(n,h);this.clients.set(s.uri.toString(),D),this.clientsPromises.set(s.uri.toString(),E),this.clientsDisposables.set(s.uri.toString(),I),this._onDidChange.fire()}}async deactivate(){let e=[],n=[],r=!1;this.defaultClient&&(this.defaultClientDisposables?.forEach(s=>s.dispose()),e.push(this.defaultClientPromise),n.push(this.defaultClient),this.defaultClient=null,this.defaultClientPromise=null,this.defaultClientDisposables=null,r=!0);for(let[s,v]of this.clients.entries())this.clientsDisposables.get(s)?.forEach(h=>h.dispose()),e.push(this.clientsPromises.get(s)),n.push(v),r=!0;this.clients.clear(),this.clientsPromises.clear(),this.clientsDisposables.clear(),r&&this._onDidChange.fire();try{await Promise.all(e)}catch{}try{await Promise.all(n.map(s=>s.dispose()))}catch{}}async handleWorkspaceFolderRemoved(e){let n=e.uri.toString(),r=this.clients.get(n);if(r){console.log("ElixirLS: Stopping LSP client for",e.uri.fsPath),this.clientsDisposables.get(n)?.forEach(v=>v.dispose());let s=this.clientsPromises.get(n);this.clients.delete(n),this.clientsPromises.delete(n),this._onDidChange.fire();try{await s}catch(v){console.warn("ElixirLS: error during wait for stoppable LSP client state",v),ii.sendTelemetryErrorEvent("language_client_stop_error",{"elixir_ls.language_client_stop_error":String(v),"elixir_ls.language_client_start_error_stack":v?.stack??""})}try{await r.dispose()}catch(v){console.warn("ElixirLS: error during LSP client dispose",v),ii.sendTelemetryErrorEvent("language_client_stop_error",{"elixir_ls.language_client_stop_error":String(v),"elixir_ls.language_client_start_error_stack":v?.stack??""})}}}};var Pn=Ui(require("vscode")),my=class t{static{this.TaskType="mix"}provideTasks(){let e=Pn.workspace.workspaceFolders;if(!e||!e[0])return Pn.window.showErrorMessage("no workspace open..."),[];let n=[],r=new Pn.Task({type:t.TaskType,task:"Run tests"},e[0],"Run tests",t.TaskType,new Pn.ShellExecution("mix test"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);r.group=Pn.TaskGroup.Test,n.push(r);let s=new Pn.Task({type:t.TaskType,task:"Run tests with coverage"},e[0],"Run tests with coverage",t.TaskType,new Pn.ShellExecution("mix test.coverage"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);s.group=Pn.TaskGroup.Test,n.push(s);let v=new Pn.Task({type:t.TaskType,task:"Run test at cursor"},e[0],"Run test at cursor",t.TaskType,new Pn.ShellExecution("mix test ${relativeFile}:${lineNumber}"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);v.group=Pn.TaskGroup.Test,n.push(v);let h=new Pn.Task({type:t.TaskType,task:"Run tests in current file"},e[0],"Run tests in current file",t.TaskType,new Pn.ShellExecution("mix test ${relativeFile}"),["$mixCompileError","$mixCompileWarning","$mixTestFailure"]);h.group=Pn.TaskGroup.Test,n.push(h);let D=new Pn.Task({type:t.TaskType,task:"Build"},e[0],"Build",t.TaskType,new Pn.ShellExecution("mix compile"),["$mixCompileError","$mixCompileWarning"]);D.group=Pn.TaskGroup.Build,n.push(D);let E=new Pn.Task({type:t.TaskType,task:"Build dependencies"},e[0],"Build dependencies",t.TaskType,new Pn.ShellExecution("mix deps.compile"),["$mixCompileError","$mixCompileWarning"]);E.group=Pn.TaskGroup.Build,n.push(E);let I=new Pn.Task({type:t.TaskType,task:"Clean project"},e[0],"Clean project",t.TaskType,new Pn.ShellExecution("mix clean"));I.group=Pn.TaskGroup.Clean,n.push(I);let M=new Pn.Task({type:t.TaskType,task:"Clean project and deps"},e[0],"Clean project and deps",t.TaskType,new Pn.ShellExecution("mix clean --deps"));M.group=Pn.TaskGroup.Clean,n.push(M);let $=new Pn.Task({type:t.TaskType,task:"Print app tree"},e[0],"Print app tree",t.TaskType,new Pn.ShellExecution("mix app.tree"));n.push($);let W=new Pn.Task({type:t.TaskType,task:"List deps"},e[0],"List deps",t.TaskType,new Pn.ShellExecution("mix deps"));n.push(W);let ne=new Pn.Task({type:t.TaskType,task:"Clean all deps"},e[0],"Clean all deps",t.TaskType,new Pn.ShellExecution("mix deps.clean --all"));ne.group=Pn.TaskGroup.Clean,n.push(ne);let z=new Pn.Task({type:t.TaskType,task:"Clean all unused deps"},e[0],"Clean all unused deps",t.TaskType,new Pn.ShellExecution("mix deps.clean --unlock --unused"));z.group=Pn.TaskGroup.Clean,n.push(z);let _e=new Pn.Task({type:t.TaskType,task:"Get deps"},e[0],"Get deps",t.TaskType,new Pn.ShellExecution("mix deps.get"));n.push(_e);let ge=new Pn.Task({type:t.TaskType,task:"Update all deps"},e[0],"Update all deps",t.TaskType,new Pn.ShellExecution("mix deps.update --all"));n.push(ge);let Ae=new Pn.Task({type:t.TaskType,task:"Format"},e[0],"Format",t.TaskType,new Pn.ShellExecution("mix format"));n.push(Ae);let Me=new Pn.Task({type:t.TaskType,task:"Run"},e[0],"Run",t.TaskType,new Pn.ShellExecution("mix run"));n.push(Me);let ze=new Pn.Task({type:t.TaskType,task:"Run no halt"},e[0],"Run no halt",t.TaskType,new Pn.ShellExecution("mix run --no-halt"));n.push(ze);let rt=new Pn.Task({type:t.TaskType,task:"Generates sample files for releases"},e[0],"Generates sample files for releases",t.TaskType,new Pn.ShellExecution("mix release.init"));n.push(rt);let Pt=new Pn.Task({type:t.TaskType,task:"Trace file dependencies"},e[0],"Trace file dependencies",t.TaskType,new Pn.ShellExecution("mix xref trace ${relativeFile}"));n.push(Pt);let on=new Pn.Task({type:t.TaskType,task:"Print file dependency graph"},e[0],"Print file dependency graph",t.TaskType,new Pn.ShellExecution("mix xref graph"));return n.push(on),n}resolveTask(e){}};var _y=Ui(require("node:path")),Gu=Ui(require("vscode"));function Kk(t){async function e(r,s){let v=await Gu.workspace.openTextDocument(r),h=await Gu.window.showTextDocument(v),D=new Gu.Position(s-1,0),E=new Gu.Selection(D,D);h.revealRange(E),h.selection=E}let n=Gu.window.registerTerminalLinkProvider({provideTerminalLinks:(r,s)=>{let v=/(?:\((?<app>[_a-z0-9]+) \d+.\d+.\d+\) )(?<file>[_a-z0-9/]*[_a-z0-9]+.ex):(?<line>\d+)/,h=r.line.match(v);return h===null?[]:[{startIndex:h.index,length:h[0].length,data:{app:h.groups?.app??"",file:h.groups?.file??"",line:Number.parseInt(h.groups?.line??"1")}}]},handleTerminalLink:async({data:{app:r,file:s,line:v}})=>{if(_y.isAbsolute(s)){let h=Gu.Uri.file(s);(await Gu.workspace.fs.stat(h))?.type&(Gu.FileType.File|Gu.FileType.SymbolicLink)&&e(h,v)}else{let h=_y.join("apps",r,s),D=_y.join("deps",r,s),E=await Gu.workspace.findFiles(`{${h},${s},${D}}`);if(E.length===1)e(E[0],v);else if(E.length>1){let I=E.map($=>({label:$.toString(),uri:$})),M=await Gu.window.showQuickPick(I);if(!M)return;await e(M.uri,v)}}}});t.subscriptions.push(n)}var xr=Ui(require("vscode")),LD=Ui(gy());var zk=Ui(require("node:os")),sh=Ui(require("vscode"));function tq(t,e){let r=sh.workspace.getConfiguration("launch",t.workspaceFolder).configurations.findLast(s=>s.name==="mix test");if(r!==void 0)return r.request="launch",r.task="test",r.projectDir=t.cwd,r.env={MIX_ENV:"test",...r.env??{}},r.taskArgs=Bk(t,e),r.requireFiles=["test/**/test_helper.exs","apps/*/test/**/test_helper.exs",t.filePath],r.noDebug=!e,r}function nq(t,e){let n=tq(t,e),r={type:"mix_task",name:"mix test",request:"launch",task:"test",env:{MIX_ENV:"test"},taskArgs:Bk(t,e),startApps:!0,projectDir:t.cwd,requireFiles:["test/**/test_helper.exs","apps/*/test/**/test_helper.exs",t.filePath],noDebug:!e},s=n??r;return console.log("Starting debug session with launch config",s),s}async function Gk(t,e,n){ii.sendTelemetryEvent("run_test",{"elixir_ls.with_debug":"true"});let r=nq(e,n);return new Promise((s,v)=>{let h=[],D=()=>{for(let $ of h)$.dispose()},E="",I=1,M=[];h.push(b_.onOutput($=>{if($.sessionId===E){let W=$.output.body.category;if(W==="stdout"||W==="stderr")M.push($.output.body.output);else if(W==="ex_unit"){let ne=$.output.body.data.event,z=$.output.body.data,_e=e.getTest(z.file,z.module,z.describe,z.name,z.type);_e?ne==="test_started"?t.started(_e):ne==="test_passed"?t.passed(_e,z.time/1e3):ne==="test_failed"?t.failed(_e,new sh.TestMessage(z.message),z.time/1e3):ne==="test_errored"?t.errored(_e,new sh.TestMessage(z.message)):(ne==="test_skipped"||ne==="test_excluded")&&t.skipped(_e):ne!=="test_excluded"&&console.warn(`ElixirLS: Test ${z.file} ${z.module} ${z.describe} ${z.name} not found`)}}})),h.push(b_.onExited($=>{console.log(`ElixirLS: Debug session ${$.sessionId}: debuggee exited with code ${$.code}`),$.sessionId===E&&(I=$.code)})),h.push(sh.debug.onDidStartDebugSession($=>{console.log(`ElixirLS: Debug session ${$.id} started`),E=$.id})),h.push(sh.debug.onDidTerminateDebugSession($=>{console.log(`ElixirLS: Debug session ${$.id} terminated`),D(),I===0?s(M.join("")):v(M.join(""))})),sh.debug.startDebugging(e.workspaceFolder,r).then($=>{$||(ii.sendTelemetryErrorEvent("run_test_error",{"elixir_ls.with_debug":"true"}),D(),v("Unable to start debug session"))},$=>{ii.sendTelemetryErrorEvent("run_test_error",{"elixir_ls.with_debug":"true","elixir_ls.run_test_error":String($),"elixir_ls.run_test_error_stack":$?.stack??""}),D(),v("Unable to start debug session")})})}var rq=["--formatter","ElixirLS.DebugAdapter.ExUnitFormatter"];function Bk(t,e){let n="";typeof t.line=="number"&&(n=`:${t.line}`);let r=[];if(t.module&&(r.push("--only"),r.push(`module:${t.module}`)),t.doctestLine&&(r.push("--only"),r.push(`doctest_line:${t.doctestLine}`)),t.filePath){let v=zk.platform()==="win32"?t.filePath.replace("\\","/"):t.filePath;r.push(`${v}${n}`)}return[...e?["--trace"]:[],...r,...rq]}function Vk(t,e,n){console.log("ElixirLS: creating test controller");let r=xr.tests.createTestController("elixirLSExUnitTests","ExUnit Tests");t.subscriptions.push(r),r.resolveHandler=async we=>{if(we)try{await W(we)}catch(ke){console.error("ElixirLS: unable to resolve tests in ",we.uri?.fsPath,ke),ii.sendTelemetryErrorEvent("test_controller_resolve_error",{"elixir_ls.test_controller_resolve_error":String(ke),"elixir_ls.test_controller_resolve_error_stack":ke?.stack??""})}else try{await ne()}catch(ke){console.error("ElixirLS: unable to resolve tests in workspace",ke),ii.sendTelemetryErrorEvent("test_controller_resolve_error",{"elixir_ls.test_controller_resolve_error":String(ke),"elixir_ls.test_controller_resolve_error_stack":ke?.stack??""})}},t.subscriptions.push(xr.workspace.onDidOpenTextDocument($),xr.workspace.onDidChangeTextDocument(we=>$(we.document)));let s;(Qt=>(Qt[Qt.WorkspaceFolder=0]="WorkspaceFolder",Qt[Qt.File=1]="File",Qt[Qt.Module=2]="Module",Qt[Qt.Describe=3]="Describe",Qt[Qt.TestCase=4]="TestCase",Qt[Qt.Doctest=5]="Doctest"))(s||={});let v=new WeakMap,h=we=>v.get(we)??4,D=new WeakMap;function E(we){let ke=xr.workspace.getWorkspaceFolder(we);if(!ke)return;ke=n.getOuterMostWorkspaceFolder(ke);let Qe=r.items.get(ke.uri.toString());if(Qe)return Qe;let dt=r.createTestItem(ke.uri.toString(),ke.name,ke.uri);return dt.canResolveChildren=!0,dt.range=new xr.Range(0,0,0,0),r.items.add(dt),v.set(dt,0),dt}function I(we,ke){let Qe=r.items.get(we.toString());if(Qe)return Qe;let dt=we.fsPath.slice(ke.length),It=r.createTestItem(we.toString(),dt,we);It.canResolveChildren=!0,It.range=new xr.Range(0,0,0,0);let yt=E(we);if(yt)return yt.children.add(It),v.set(It,1),It}function M(we,ke){if(we.scheme!=="file"||!we.path.endsWith("_test.exs"))return!1;let dt=we.fsPath.slice(ke.length).split("/"),It=dt[1];return!(It==="_build"||It==="deps"||dt.find(yt=>yt==="node_modules"||yt.startsWith(".")))}function $(we){let ke=n.getProjectDirForUri(we.uri);ke&&M(we.uri,ke)&&W(I(we.uri,ke))}async function W(we){if(!we||!we.uri?.toString().endsWith(".exs"))return;let ke=e.getClientPromiseByUri(we.uri);if(!ke){console.error(`ElixirLS: no language client for document ${we.uri?.fsPath}`);return}let Qe=await ke;if(!Qe.initializeResult){console.error(`ElixirLS: unable to execute command on server ${Qe.name} in state ${LD.State[Qe.state]}`);return}let dt=Qe.initializeResult.capabilities.executeCommandProvider?.commands.find(Qt=>Qt.startsWith("getExUnitTestsInFile:"));console.log("ElixirLS: Finding tests in ",we.uri?.toString());let It={command:dt,arguments:[we.uri?.toString()]},yt=[];try{yt=await Qe.sendRequest(LD.ExecuteCommandRequest.type,It)}catch(Qt){console.error(`ElixirLS: unable to get tests in file ${we.uri?.fsPath}: ${Qt}`)}for(let Qt of yt){let un=r.createTestItem(Qt.module,Qt.module,we.uri);un.range=new xr.Range(Qt.line,0,Qt.line+1,0),v.set(un,2),we.children.add(un);for(let Nn of Qt.describes){let tt;if(Nn.describe){let ut=r.createTestItem(Nn.describe,Nn.describe,we.uri);ut.range=new xr.Range(Nn.line,0,Nn.line+1,0),ut.description="describe",v.set(ut,3),un.children.add(ut),tt=ut.children}else tt=un.children;for(let ut of Nn.tests.filter(mn=>mn.type!=="doctest")){let mn=r.createTestItem(ut.name,ut.name,we.uri);mn.range=new xr.Range(ut.line,0,ut.line+1,0),mn.description=ut.type,mn.tags=ut.tags.map(Jt=>new xr.TestTag(Jt)),tt.add(mn)}let Zr=Nn.tests.filter(ut=>ut.type==="doctest"),Ze=new Map;for(let ut of Zr){let mn=ut.tags.find(_r=>_r.startsWith("doctest:"))?.replace("doctest:",""),Jt=Number(ut.tags.find(_r=>_r.startsWith("doctest_line:"))?.replace("doctest_line:","")),Ut=Ze.get(mn);Ut||(Ut=r.createTestItem(mn,mn,we.uri),Ut.range=new xr.Range(ut.line,0,ut.line+1,0),Ut.description=ut.type,v.set(Ut,5),tt.add(Ut),Ze.set(mn,Ut));let et=r.createTestItem(ut.name,ut.name,xr.Uri.file(ut.doctest_module_path));et.range=new xr.Range(Jt,0,Jt+1,0),et.description=ut.type,et.tags=ut.tags.map(_r=>new xr.TestTag(_r)),D.set(et,we.uri),Ut.children.add(et)}}}}async function ne(){if(!xr.workspace.workspaceFolders)return;let we=[...new Set(xr.workspace.workspaceFolders.map(ke=>n.getOuterMostWorkspaceFolder(ke)))];await Promise.all(we.map(async ke=>{let Qe=ND(ke);console.log("ElixirLS: registering watcher in",ke.name,"projectDir",Qe);let dt=new xr.RelativePattern(Qe,"**/*_test.exs"),It=xr.workspace.createFileSystemWatcher(dt);t.subscriptions.push(It),It.onDidCreate(Qt=>I(Qt,Qe)),It.onDidChange(Qt=>W(I(Qt,Qe))),It.onDidDelete(Qt=>r.items.delete(Qt.toString()));let yt=await xr.workspace.findFiles(dt);for(let Qt of yt)M(Qt,Qe)&&I(Qt,Qe);return It}))}function z(we,ke,Qe){for(let dt of ke.split(`
`))we.appendOutput(dt,void 0,Qe),we.appendOutput(`\r
`,void 0,Qe)}function _e(we,ke,Qe){if(Qe==="doctest"){let dt;return we.children.forEach(It=>{if(h(It)===5){let yt=It.children.get(ke);yt&&(dt=yt)}}),dt}return we.children.get(ke)}function ge(we,ke,Qe,dt){if(ke){let It=we.children.get(ke);if(It)return _e(It,Qe,dt)}else return _e(we,Qe,dt)}function Ae(we,ke,Qe,dt,It){let yt=we.children.get(ke);if(yt)return ge(yt,Qe,dt,It)}function Me(we,ke,Qe,dt,It,yt){let Qt=we.children.get(xr.Uri.file(ke).toString());if(Qt)return Ae(Qt,Qe,dt,It,yt)}async function ze(we,ke,Qe){let dt=r.createTestRun(ke),It=[];for(ke.include?ke.include.forEach(yt=>{It.push(yt),dt.enqueued(yt)}):r.items.forEach(yt=>{It.push(yt),dt.enqueued(yt)});It.length>0&&!Qe.isCancellationRequested;){let yt=It.pop();if(!yt||!yt.uri||ke.exclude?.includes(yt))continue;let Qt=!1,un,Nn=n.getProjectDirForUri(yt.uri);if(!Nn)continue;let tt=yt.uri?.fsPath.slice(Nn.length+1),Zr=xr.workspace.getWorkspaceFolder(yt.uri);if(!Zr)continue;switch(h(yt)){case 0:{let ut=[];yt.children.forEach(mn=>{mn.children.size===0&&ut.push(W(mn))}),await Promise.allSettled(ut)}un={cwd:Nn,workspaceFolder:Zr,getTest:(ut,mn,Jt,Ut,et)=>Me(yt,ut,mn,Jt,Ut,et)};break;case 1:yt.children.size===0&&await W(yt),un={cwd:Nn,filePath:tt,workspaceFolder:Zr,getTest:(ut,mn,Jt,Ut,et)=>Ae(yt,mn,Jt,Ut,et)};break;case 2:un={cwd:Nn,filePath:tt,module:yt.id,workspaceFolder:Zr,getTest:(ut,mn,Jt,Ut,et)=>ge(yt,Jt,Ut,et)};break;case 3:un={cwd:Nn,filePath:tt,line:(yt.range?.start.line??0)+1,workspaceFolder:Zr,getTest:(ut,mn,Jt,Ut,et)=>_e(yt,Ut,et)};break;case 5:un={cwd:Nn,filePath:tt,line:(yt.range?.start.line??0)+1,workspaceFolder:Zr,getTest:(ut,mn,Jt,Ut)=>yt.children.get(Ut)};break;case 4:if(yt.description==="doctest"){let ut=D.get(yt);if(!ut)continue;let mn=n.getProjectDirForUri(ut);if(!mn)continue;let Jt=ut.fsPath.slice(mn.length+1),Ut=xr.workspace.getWorkspaceFolder(ut);if(!Ut)continue;un={cwd:mn,filePath:Jt,doctestLine:Number(yt.tags.find(et=>et.id.startsWith("doctest_line:"))?.id.replace("doctest_line:",""))+1,workspaceFolder:Ut,getTest:(et,_r,bt,Po)=>{if(Po===yt.id)return yt}}}else un={cwd:Nn,filePath:tt,line:(yt.range?.start.line??0)+1,workspaceFolder:Zr,getTest:(ut,mn,Jt,Ut)=>{if(Ut===yt.id)return yt}};break;default:throw`unexpected ItemType ${h(yt)}`}let Ze=performance.now();try{let ut=await Gk(dt,un,we);z(dt,ut,yt)}catch(ut){z(dt,ut,yt),dt.errored(yt,new xr.TestMessage(ut),performance.now()-Ze)}Qt&&yt.children.forEach(ut=>{It.push(ut),dt.enqueued(ut)})}dt.end()}let rt=r.createRunProfile("Run",xr.TestRunProfileKind.Run,(we,ke)=>{ze(!1,we,ke)});t.subscriptions.push(rt);let Pt=r.createRunProfile("Debug",xr.TestRunProfileKind.Debug,(we,ke)=>{ze(!0,we,ke)});t.subscriptions.push(Pt);let on=xr.commands.registerCommand(Vb,async we=>{let ke=xr.Uri.file(we.filePath),Qe=n.getProjectDirForUri(ke);if(!Qe)throw`Unable to find project dir for ${ke}`;await W(I(ke,Qe));function dt(un,Nn){if(Nn.length===0)return un;let[tt,...Zr]=Nn;if(!tt)return dt(un,Zr);let Ze=un.children.get(tt);return Ze?dt(Ze,Zr):un}function It(un,Nn){let tt=un.get(Nn);if(tt)return tt;for(let[Zr,Ze]of un)if(tt=It(Ze.children,Nn),tt)return tt}let yt=It(r.items,ke.toString());if(!yt){console.warn(`ElixirLS: Test item ${ke.toString()} not found`);return}let Qt=dt(yt,[we.module,we.describe,we.testName]);ze(!1,new xr.TestRunRequest([Qt]),new xr.CancellationTokenSource().token),xr.commands.executeCommand("vscode.revealTestInExplorer",Qt)});t.subscriptions.push(on)}var Xk=require("node:child_process"),kb=Ui(require("vscode"));function iq(t){try{return(0,Xk.execSync)(`${t} -e " "`)}catch{return!1}}function Jk(){let t=iq("elixir");return t?t.length>0?(kb.window.showErrorMessage("Running 'elixir' command caused extraneous print to stdout. See VS Code's developer console for details."),console.warn(`Running 'elixir -e ""' printed to stdout:
${t.toString()}`),!1):!0:(kb.window.showErrorMessage("Failed to run 'elixir' command. ElixirLS will probably fail to launch. Logged PATH to Development Console."),console.warn(`Failed to run 'elixir' command. Current process's PATH: ${process.env.PATH}`),!1)}console.log("ElixirLS: Loading extension");var ah=new OD,em=new kD(ah),Qk=t=>{hg.workspace.textDocuments.forEach(e=>{em.handleDidOpenTextDocument(e,t)})};function oq(t){return console.log("ElixirLS: activating extension in mode",ah.mode),console.log("ElixirLS: Workspace folders are",hg.workspace.workspaceFolders),console.log("ElixirLS: Workspace is",hg.workspace.workspaceFile?.toString()),kk(t),ii.sendTelemetryEvent("extension_activated",{"elixir_ls.workspace_mode":ah.mode}),t.subscriptions.push(hg.workspace.onDidChangeWorkspaceFolders(()=>{console.info("ElixirLS: Workspace folders changed",hg.workspace.workspaceFolders),ah.handleDidChangeWorkspaceFolders()})),Jk(),Ak(),Fk(t,em),Hk(t),Kk(t),Vk(t,em,ah),t.subscriptions.push(hg.workspace.onDidOpenTextDocument(e=>{em.handleDidOpenTextDocument(e,t)})),Qk(t),t.subscriptions.push(hg.workspace.onDidChangeWorkspaceFolders(async e=>{for(let n of e.removed)await em.handleWorkspaceFolderRemoved(n);Qk(t)})),t.subscriptions.push(hg.tasks.registerTaskProvider(my.TaskType,new my)),console.log("ElixirLS: extension activated"),{languageClientManager:em,workspaceTracker:ah}}async function sq(){console.log("ElixirLS: deactivating extension"),ii.sendTelemetryEvent("extension_deactivated",{"elixir_ls.workspace_mode":ah.mode}),ah.handleDidChangeWorkspaceFolders(),await em.deactivate(),console.log("ElixirLS: extension deactivated")}0&&(module.exports={activate,deactivate,languageClientManager,workspaceTracker});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
