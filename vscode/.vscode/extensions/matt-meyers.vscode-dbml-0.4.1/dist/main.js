module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",u="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],i="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",h="[object Map]",v="[object Number]",b="[object Object]",m="[object RegExp]",y="[object Set]",g="[object String]",w="[object Symbol]",_="[object WeakMap]",C="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",x="[object Float64Array]",O="[object Int8Array]",L="[object Int16Array]",I="[object Int32Array]",S="[object Uint8Array]",k="[object Uint16Array]",T="[object Uint32Array]",j=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,K=RegExp(D.source),F=RegExp(R.source),M=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,W=RegExp(G.source),H=/^\s+/,Y=/\s/,V=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ue=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ie=/^(?:0|[1-9]\d*)$/,se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,le=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",he="["+pe+"]",ve="["+fe+"]",be="\\d+",me="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",ge="[^\\ud800-\\udfff"+pe+be+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Ee="[A-Z\\xc0-\\xd6\\xd8-\\xde]",xe="(?:"+ye+"|"+ge+")",Oe="(?:"+Ee+"|"+ge+")",Le="(?:"+ve+"|"+we+")"+"?",Ie="[\\ufe0e\\ufe0f]?"+Le+("(?:\\u200d(?:"+[_e,Ce,Ae].join("|")+")[\\ufe0e\\ufe0f]?"+Le+")*"),Se="(?:"+[me,Ce,Ae].join("|")+")"+Ie,ke="(?:"+[_e+ve+"?",ve,Ce,Ae,de].join("|")+")",Te=RegExp("['’]","g"),je=RegExp(ve,"g"),Ne=RegExp(we+"(?="+we+")|"+ke+Ie,"g"),Pe=RegExp([Ee+"?"+ye+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[he,Ee,"$"].join("|")+")",Oe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[he,Ee+xe,"$"].join("|")+")",Ee+"?"+xe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ee+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",be,Se].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),Re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ke=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Me={};Me[E]=Me[x]=Me[O]=Me[L]=Me[I]=Me[S]=Me["[object Uint8ClampedArray]"]=Me[k]=Me[T]=!0,Me[i]=Me[s]=Me[C]=Me[c]=Me[A]=Me[l]=Me[f]=Me[p]=Me[h]=Me[v]=Me[b]=Me[m]=Me[y]=Me[g]=Me[_]=!1;var Ue={};Ue[i]=Ue[s]=Ue[C]=Ue[A]=Ue[c]=Ue[l]=Ue[E]=Ue[x]=Ue[O]=Ue[L]=Ue[I]=Ue[h]=Ue[v]=Ue[b]=Ue[m]=Ue[y]=Ue[g]=Ue[w]=Ue[S]=Ue["[object Uint8ClampedArray]"]=Ue[k]=Ue[T]=!0,Ue[f]=Ue[p]=Ue[_]=!1;var qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Be=parseFloat,ze=parseInt,$e="object"==typeof global&&global&&global.Object===Object&&global,Ge="object"==typeof self&&self&&self.Object===Object&&self,We=$e||Ge||Function("return this")(),He=t&&!t.nodeType&&t,Ye=He&&"object"==typeof e&&e&&!e.nodeType&&e,Ve=Ye&&Ye.exports===He,Xe=Ve&&$e.process,Qe=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Je=Qe&&Qe.isArrayBuffer,Ze=Qe&&Qe.isDate,et=Qe&&Qe.isMap,tt=Qe&&Qe.isRegExp,nt=Qe&&Qe.isSet,rt=Qe&&Qe.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ut(e,t,n,r){for(var o=-1,u=null==e?0:e.length;++o<u;){var a=e[o];t(r,a,n(a),e)}return r}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function it(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,o=0,u=[];++n<r;){var a=e[n];t(a,n,e)&&(u[o++]=a)}return u}function lt(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function ft(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function pt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function dt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function ht(e,t,n,r){var o=-1,u=null==e?0:e.length;for(r&&u&&(n=e[++o]);++o<u;)n=t(n,e[o],o,e);return n}function vt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mt=Et("length");function yt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function gt(e,t,n,r){for(var o=e.length,u=n+(r?1:-1);r?u--:++u<o;)if(t(e[u],u,e))return u;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):gt(e,Ct,n)}function _t(e,t,n,r){for(var o=n-1,u=e.length;++o<u;)if(r(e[o],t))return o;return-1}function Ct(e){return e!=e}function At(e,t){var n=null==e?0:e.length;return n?Lt(e,t)/n:NaN}function Et(e){return function(t){return null==t?void 0:t[e]}}function xt(e){return function(t){return null==e?void 0:e[t]}}function Ot(e,t,n,r,o){return o(e,(function(e,o,u){n=r?(r=!1,e):t(n,e,o,u)})),n}function Lt(e,t){for(var n,r=-1,o=e.length;++r<o;){var u=t(e[r]);void 0!==u&&(n=void 0===n?u:n+u)}return n}function It(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function St(e){return e?e.slice(0,Ht(e)+1).replace(H,""):e}function kt(e){return function(t){return e(t)}}function Tt(e,t){return pt(t,(function(t){return e[t]}))}function jt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function Pt(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Rt=xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Kt=xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+qe[e]}function Mt(e){return De.test(e)}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function qt(e,t){return function(n){return e(t(n))}}function Bt(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var i=e[n];i!==t&&i!==u||(e[n]=u,a[o++]=n)}return a}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Gt(e){return Mt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):mt(e)}function Wt(e){return Mt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Ht(e){for(var t=e.length;t--&&Y.test(e.charAt(t)););return t}var Yt=xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Vt=function e(t){var n,r=(t=null==t?We:Vt.defaults(We.Object(),t,Vt.pick(We,Ke))).Array,Y=t.Date,fe=t.Error,pe=t.Function,de=t.Math,he=t.Object,ve=t.RegExp,be=t.String,me=t.TypeError,ye=r.prototype,ge=pe.prototype,we=he.prototype,_e=t["__core-js_shared__"],Ce=ge.toString,Ae=we.hasOwnProperty,Ee=0,xe=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Oe=we.toString,Le=Ce.call(he),Ie=We._,Se=ve("^"+Ce.call(Ae).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=Ve?t.Buffer:void 0,Ne=t.Symbol,De=t.Uint8Array,qe=ke?ke.allocUnsafe:void 0,$e=qt(he.getPrototypeOf,he),Ge=he.create,He=we.propertyIsEnumerable,Ye=ye.splice,Xe=Ne?Ne.isConcatSpreadable:void 0,Qe=Ne?Ne.iterator:void 0,mt=Ne?Ne.toStringTag:void 0,xt=function(){try{var e=tu(he,"defineProperty");return e({},"",{}),e}catch(e){}}(),Xt=t.clearTimeout!==We.clearTimeout&&t.clearTimeout,Qt=Y&&Y.now!==We.Date.now&&Y.now,Jt=t.setTimeout!==We.setTimeout&&t.setTimeout,Zt=de.ceil,en=de.floor,tn=he.getOwnPropertySymbols,nn=ke?ke.isBuffer:void 0,rn=t.isFinite,on=ye.join,un=qt(he.keys,he),an=de.max,sn=de.min,cn=Y.now,ln=t.parseInt,fn=de.random,pn=ye.reverse,dn=tu(t,"DataView"),hn=tu(t,"Map"),vn=tu(t,"Promise"),bn=tu(t,"Set"),mn=tu(t,"WeakMap"),yn=tu(he,"create"),gn=mn&&new mn,wn={},_n=Iu(dn),Cn=Iu(hn),An=Iu(vn),En=Iu(bn),xn=Iu(mn),On=Ne?Ne.prototype:void 0,Ln=On?On.valueOf:void 0,In=On?On.toString:void 0;function Sn(e){if(Ga(e)&&!Pa(e)&&!(e instanceof Nn)){if(e instanceof jn)return e;if(Ae.call(e,"__wrapped__"))return Su(e)}return new jn(e)}var kn=function(){function e(){}return function(t){if(!$a(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Tn(){}function jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Nn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Rn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Dn(e);this.size=t.size}function Mn(e,t){var n=Pa(e),r=!n&&Na(e),o=!n&&!r&&Fa(e),u=!n&&!r&&!o&&Za(e),a=n||r||o||u,i=a?It(e.length,be):[],s=i.length;for(var c in e)!t&&!Ae.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||u&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||su(c,s))||i.push(c);return i}function Un(e){var t=e.length;return t?e[Kr(0,t-1)]:void 0}function qn(e,t){return xu(go(e),Xn(t,0,e.length))}function Bn(e){return xu(go(e))}function zn(e,t,n){(void 0!==n&&!ka(e[t],n)||void 0===n&&!(t in e))&&Yn(e,t,n)}function $n(e,t,n){var r=e[t];Ae.call(e,t)&&ka(r,n)&&(void 0!==n||t in e)||Yn(e,t,n)}function Gn(e,t){for(var n=e.length;n--;)if(ka(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return tr(e,(function(e,o,u){t(r,e,n(e),u)})),r}function Hn(e,t){return e&&wo(t,_i(t),e)}function Yn(e,t,n){"__proto__"==t&&xt?xt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Vn(e,t){for(var n=-1,o=t.length,u=r(o),a=null==e;++n<o;)u[n]=a?void 0:bi(e,t[n]);return u}function Xn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qn(e,t,n,r,o,u){var a,s=1&t,f=2&t,_=4&t;if(n&&(a=o?n(e,r,o,u):n(e)),void 0!==a)return a;if(!$a(e))return e;var j=Pa(e);if(j){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ae.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return go(e,a)}else{var N=ou(e),P=N==p||N==d;if(Fa(e))return po(e,s);if(N==b||N==i||P&&!o){if(a=f||P?{}:au(e),!s)return f?function(e,t){return wo(e,ru(e),t)}(e,function(e,t){return e&&wo(t,Ci(t),e)}(a,e)):function(e,t){return wo(e,nu(e),t)}(e,Hn(a,e))}else{if(!Ue[N])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case C:return ho(e);case c:case l:return new r(+e);case A:return function(e,t){var n=t?ho(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case E:case x:case O:case L:case I:case S:case"[object Uint8ClampedArray]":case k:case T:return vo(e,n);case h:return new r;case v:case g:return new r(e);case m:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new r;case w:return o=e,Ln?he(Ln.call(o)):{}}var o}(e,N,s)}}u||(u=new Fn);var D=u.get(e);if(D)return D;u.set(e,a),Xa(e)?e.forEach((function(r){a.add(Qn(r,t,n,r,e,u))})):Wa(e)&&e.forEach((function(r,o){a.set(o,Qn(r,t,n,o,e,u))}));var R=j?void 0:(_?f?Yo:Ho:f?Ci:_i)(e);return at(R||e,(function(r,o){R&&(r=e[o=r]),$n(a,o,Qn(r,t,n,o,e,u))})),a}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=he(e);r--;){var o=n[r],u=t[o],a=e[o];if(void 0===a&&!(o in e)||!u(a))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new me(o);return _u((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var o=-1,u=lt,a=!0,i=e.length,s=[],c=t.length;if(!i)return s;n&&(t=pt(t,kt(n))),r?(u=ft,a=!1):t.length>=200&&(u=jt,a=!1,t=new Kn(t));e:for(;++o<i;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var p=c;p--;)if(t[p]===f)continue e;s.push(l)}else u(t,f,r)||s.push(l)}return s}Sn.templateSettings={escape:M,evaluate:U,interpolate:q,variable:"",imports:{_:Sn}},Sn.prototype=Tn.prototype,Sn.prototype.constructor=Sn,jn.prototype=kn(Tn.prototype),jn.prototype.constructor=jn,Nn.prototype=kn(Tn.prototype),Nn.prototype.constructor=Nn,Pn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Pn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Pn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ae.call(t,e)?t[e]:void 0},Pn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Ae.call(t,e)},Pn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=Gn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Dn.prototype.get=function(e){var t=this.__data__,n=Gn(t,e);return n<0?void 0:t[n][1]},Dn.prototype.has=function(e){return Gn(this.__data__,e)>-1},Dn.prototype.set=function(e,t){var n=this.__data__,r=Gn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(hn||Dn),string:new Pn}},Rn.prototype.delete=function(e){var t=Zo(this,e).delete(e);return this.size-=t?1:0,t},Rn.prototype.get=function(e){return Zo(this,e).get(e)},Rn.prototype.has=function(e){return Zo(this,e).has(e)},Rn.prototype.set=function(e,t){var n=Zo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Dn){var r=n.__data__;if(!hn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(e,t),this.size=n.size,this};var tr=Ao(cr),nr=Ao(lr,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function or(e,t,n){for(var r=-1,o=e.length;++r<o;){var u=e[r],a=t(u);if(null!=a&&(void 0===i?a==a&&!Ja(a):n(a,i)))var i=a,s=u}return s}function ur(e,t){var n=[];return tr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function ar(e,t,n,r,o){var u=-1,a=e.length;for(n||(n=iu),o||(o=[]);++u<a;){var i=e[u];t>0&&n(i)?t>1?ar(i,t-1,n,r,o):dt(o,i):r||(o[o.length]=i)}return o}var ir=Eo(),sr=Eo(!0);function cr(e,t){return e&&ir(e,t,_i)}function lr(e,t){return e&&sr(e,t,_i)}function fr(e,t){return ct(t,(function(t){return qa(e[t])}))}function pr(e,t){for(var n=0,r=(t=so(t,e)).length;null!=e&&n<r;)e=e[Lu(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Pa(e)?r:dt(r,n(e))}function hr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mt&&mt in he(e)?function(e){var t=Ae.call(e,mt),n=e[mt];try{e[mt]=void 0;var r=!0}catch(e){}var o=Oe.call(e);r&&(t?e[mt]=n:delete e[mt]);return o}(e):function(e){return Oe.call(e)}(e)}function vr(e,t){return e>t}function br(e,t){return null!=e&&Ae.call(e,t)}function mr(e,t){return null!=e&&t in he(e)}function yr(e,t,n){for(var o=n?ft:lt,u=e[0].length,a=e.length,i=a,s=r(a),c=1/0,l=[];i--;){var f=e[i];i&&t&&(f=pt(f,kt(t))),c=sn(f.length,c),s[i]=!n&&(t||u>=120&&f.length>=120)?new Kn(i&&f):void 0}f=e[0];var p=-1,d=s[0];e:for(;++p<u&&l.length<c;){var h=f[p],v=t?t(h):h;if(h=n||0!==h?h:0,!(d?jt(d,v):o(l,v,n))){for(i=a;--i;){var b=s[i];if(!(b?jt(b,v):o(e[i],v,n)))continue e}d&&d.push(v),l.push(h)}}return l}function gr(e,t,n){var r=null==(e=mu(e,t=so(t,e)))?e:e[Lu(Uu(t))];return null==r?void 0:ot(r,e,n)}function wr(e){return Ga(e)&&hr(e)==i}function _r(e,t,n,r,o){return e===t||(null==e||null==t||!Ga(e)&&!Ga(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var a=Pa(e),p=Pa(t),d=a?s:ou(e),_=p?s:ou(t),E=(d=d==i?b:d)==b,x=(_=_==i?b:_)==b,O=d==_;if(O&&Fa(e)){if(!Fa(t))return!1;a=!0,E=!1}if(O&&!E)return u||(u=new Fn),a||Za(e)?Go(e,t,n,r,o,u):function(e,t,n,r,o,u,a){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!u(new De(e),new De(t)));case c:case l:case v:return ka(+e,+t);case f:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case h:var i=Ut;case y:var s=1&r;if(i||(i=zt),e.size!=t.size&&!s)return!1;var p=a.get(e);if(p)return p==t;r|=2,a.set(e,t);var d=Go(i(e),i(t),r,o,u,a);return a.delete(e),d;case w:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,d,n,r,o,u);if(!(1&n)){var L=E&&Ae.call(e,"__wrapped__"),I=x&&Ae.call(t,"__wrapped__");if(L||I){var S=L?e.value():e,k=I?t.value():t;return u||(u=new Fn),o(S,k,n,r,u)}}if(!O)return!1;return u||(u=new Fn),function(e,t,n,r,o,u){var a=1&n,i=Ho(e),s=i.length,c=Ho(t).length;if(s!=c&&!a)return!1;var l=s;for(;l--;){var f=i[l];if(!(a?f in t:Ae.call(t,f)))return!1}var p=u.get(e),d=u.get(t);if(p&&d)return p==t&&d==e;var h=!0;u.set(e,t),u.set(t,e);var v=a;for(;++l<s;){f=i[l];var b=e[f],m=t[f];if(r)var y=a?r(m,b,f,t,e,u):r(b,m,f,e,t,u);if(!(void 0===y?b===m||o(b,m,n,r,u):y)){h=!1;break}v||(v="constructor"==f)}if(h&&!v){var g=e.constructor,w=t.constructor;g==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w||(h=!1)}return u.delete(e),u.delete(t),h}(e,t,n,r,o,u)}(e,t,n,r,_r,o))}function Cr(e,t,n,r){var o=n.length,u=o,a=!r;if(null==e)return!u;for(e=he(e);o--;){var i=n[o];if(a&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<u;){var s=(i=n[o])[0],c=e[s],l=i[1];if(a&&i[2]){if(void 0===c&&!(s in e))return!1}else{var f=new Fn;if(r)var p=r(c,l,s,e,t,f);if(!(void 0===p?_r(l,c,3,r,f):p))return!1}}return!0}function Ar(e){return!(!$a(e)||(t=e,xe&&xe in t))&&(qa(e)?Se:ue).test(Iu(e));var t}function Er(e){return"function"==typeof e?e:null==e?Hi:"object"==typeof e?Pa(e)?kr(e[0],e[1]):Sr(e):ns(e)}function xr(e){if(!du(e))return un(e);var t=[];for(var n in he(e))Ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Or(e){if(!$a(e))return function(e){var t=[];if(null!=e)for(var n in he(e))t.push(n);return t}(e);var t=du(e),n=[];for(var r in e)("constructor"!=r||!t&&Ae.call(e,r))&&n.push(r);return n}function Lr(e,t){return e<t}function Ir(e,t){var n=-1,o=Ra(e)?r(e.length):[];return tr(e,(function(e,r,u){o[++n]=t(e,r,u)})),o}function Sr(e){var t=eu(e);return 1==t.length&&t[0][2]?vu(t[0][0],t[0][1]):function(n){return n===e||Cr(n,e,t)}}function kr(e,t){return lu(e)&&hu(t)?vu(Lu(e),t):function(n){var r=bi(n,e);return void 0===r&&r===t?mi(n,e):_r(t,r,3)}}function Tr(e,t,n,r,o){e!==t&&ir(t,(function(u,a){if(o||(o=new Fn),$a(u))!function(e,t,n,r,o,u,a){var i=gu(e,n),s=gu(t,n),c=a.get(s);if(c)return void zn(e,n,c);var l=u?u(i,s,n+"",e,t,a):void 0,f=void 0===l;if(f){var p=Pa(s),d=!p&&Fa(s),h=!p&&!d&&Za(s);l=s,p||d||h?Pa(i)?l=i:Ka(i)?l=go(i):d?(f=!1,l=po(s,!0)):h?(f=!1,l=vo(s,!0)):l=[]:Ya(s)||Na(s)?(l=i,Na(i)?l=ii(i):$a(i)&&!qa(i)||(l=au(s))):f=!1}f&&(a.set(s,l),o(l,s,r,u,a),a.delete(s));zn(e,n,l)}(e,t,a,n,Tr,r,o);else{var i=r?r(gu(e,a),u,a+"",e,t,o):void 0;void 0===i&&(i=u),zn(e,a,i)}}),Ci)}function jr(e,t){var n=e.length;if(n)return su(t+=t<0?n:0,n)?e[t]:void 0}function Nr(e,t,n){t=t.length?pt(t,(function(e){return Pa(e)?function(t){return pr(t,1===e.length?e[0]:e)}:e})):[Hi];var r=-1;return t=pt(t,kt(Jo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ir(e,(function(e,n,o){return{criteria:pt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,u=t.criteria,a=o.length,i=n.length;for(;++r<a;){var s=bo(o[r],u[r]);if(s){if(r>=i)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Pr(e,t,n){for(var r=-1,o=t.length,u={};++r<o;){var a=t[r],i=pr(e,a);n(i,a)&&Br(u,so(a,e),i)}return u}function Dr(e,t,n,r){var o=r?_t:wt,u=-1,a=t.length,i=e;for(e===t&&(t=go(t)),n&&(i=pt(e,kt(n)));++u<a;)for(var s=0,c=t[u],l=n?n(c):c;(s=o(i,l,s,r))>-1;)i!==e&&Ye.call(i,s,1),Ye.call(e,s,1);return e}function Rr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==u){var u=o;su(o)?Ye.call(e,o,1):eo(e,o)}}return e}function Kr(e,t){return e+en(fn()*(t-e+1))}function Fr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Mr(e,t){return Cu(bu(e,t,Hi),e+"")}function Ur(e){return Un(ki(e))}function qr(e,t){var n=ki(e);return xu(n,Xn(t,0,n.length))}function Br(e,t,n,r){if(!$a(e))return e;for(var o=-1,u=(t=so(t,e)).length,a=u-1,i=e;null!=i&&++o<u;){var s=Lu(t[o]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var l=i[s];void 0===(c=r?r(l,s,i):void 0)&&(c=$a(l)?l:su(t[o+1])?[]:{})}$n(i,s,c),i=i[s]}return e}var zr=gn?function(e,t){return gn.set(e,t),e}:Hi,$r=xt?function(e,t){return xt(e,"toString",{configurable:!0,enumerable:!1,value:$i(t),writable:!0})}:Hi;function Gr(e){return xu(ki(e))}function Wr(e,t,n){var o=-1,u=e.length;t<0&&(t=-t>u?0:u+t),(n=n>u?u:n)<0&&(n+=u),u=t>n?0:n-t>>>0,t>>>=0;for(var a=r(u);++o<u;)a[o]=e[o+t];return a}function Hr(e,t){var n;return tr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function Yr(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var u=r+o>>>1,a=e[u];null!==a&&!Ja(a)&&(n?a<=t:a<t)?r=u+1:o=u}return o}return Vr(e,t,Hi,n)}function Vr(e,t,n,r){var o=0,u=null==e?0:e.length;if(0===u)return 0;for(var a=(t=n(t))!=t,i=null===t,s=Ja(t),c=void 0===t;o<u;){var l=en((o+u)/2),f=n(e[l]),p=void 0!==f,d=null===f,h=f==f,v=Ja(f);if(a)var b=r||h;else b=c?h&&(r||p):i?h&&p&&(r||!d):s?h&&p&&!d&&(r||!v):!d&&!v&&(r?f<=t:f<t);b?o=l+1:u=l}return sn(u,4294967294)}function Xr(e,t){for(var n=-1,r=e.length,o=0,u=[];++n<r;){var a=e[n],i=t?t(a):a;if(!n||!ka(i,s)){var s=i;u[o++]=0===a?0:a}}return u}function Qr(e){return"number"==typeof e?e:Ja(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(Pa(e))return pt(e,Jr)+"";if(Ja(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,o=lt,u=e.length,a=!0,i=[],s=i;if(n)a=!1,o=ft;else if(u>=200){var c=t?null:Mo(e);if(c)return zt(c);a=!1,o=jt,s=new Kn}else s=t?[]:i;e:for(;++r<u;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var p=s.length;p--;)if(s[p]===f)continue e;t&&s.push(f),i.push(l)}else o(s,f,n)||(s!==i&&s.push(f),i.push(l))}return i}function eo(e,t){return null==(e=mu(e,t=so(t,e)))||delete e[Lu(Uu(t))]}function to(e,t,n,r){return Br(e,t,n(pr(e,t)),r)}function no(e,t,n,r){for(var o=e.length,u=r?o:-1;(r?u--:++u<o)&&t(e[u],u,e););return n?Wr(e,r?0:u,r?u+1:o):Wr(e,r?u+1:0,r?o:u)}function ro(e,t){var n=e;return n instanceof Nn&&(n=n.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function oo(e,t,n){var o=e.length;if(o<2)return o?Zr(e[0]):[];for(var u=-1,a=r(o);++u<o;)for(var i=e[u],s=-1;++s<o;)s!=u&&(a[u]=er(a[u]||i,e[s],t,n));return Zr(ar(a,1),t,n)}function uo(e,t,n){for(var r=-1,o=e.length,u=t.length,a={};++r<o;){var i=r<u?t[r]:void 0;n(a,e[r],i)}return a}function ao(e){return Ka(e)?e:[]}function io(e){return"function"==typeof e?e:Hi}function so(e,t){return Pa(e)?e:lu(e,t)?[e]:Ou(si(e))}var co=Mr;function lo(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var fo=Xt||function(e){return We.clearTimeout(e)};function po(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function ho(e){var t=new e.constructor(e.byteLength);return new De(t).set(new De(e)),t}function vo(e,t){var n=t?ho(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function bo(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,u=Ja(e),a=void 0!==t,i=null===t,s=t==t,c=Ja(t);if(!i&&!c&&!u&&e>t||u&&a&&s&&!i&&!c||r&&a&&s||!n&&s||!o)return 1;if(!r&&!u&&!c&&e<t||c&&n&&o&&!r&&!u||i&&n&&o||!a&&o||!s)return-1}return 0}function mo(e,t,n,o){for(var u=-1,a=e.length,i=n.length,s=-1,c=t.length,l=an(a-i,0),f=r(c+l),p=!o;++s<c;)f[s]=t[s];for(;++u<i;)(p||u<a)&&(f[n[u]]=e[u]);for(;l--;)f[s++]=e[u++];return f}function yo(e,t,n,o){for(var u=-1,a=e.length,i=-1,s=n.length,c=-1,l=t.length,f=an(a-s,0),p=r(f+l),d=!o;++u<f;)p[u]=e[u];for(var h=u;++c<l;)p[h+c]=t[c];for(;++i<s;)(d||u<a)&&(p[h+n[i]]=e[u++]);return p}function go(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function wo(e,t,n,r){var o=!n;n||(n={});for(var u=-1,a=t.length;++u<a;){var i=t[u],s=r?r(n[i],e[i],i,n,e):void 0;void 0===s&&(s=e[i]),o?Yn(n,i,s):$n(n,i,s)}return n}function _o(e,t){return function(n,r){var o=Pa(n)?ut:Wn,u=t?t():{};return o(n,e,Jo(r,2),u)}}function Co(e){return Mr((function(t,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(u=e.length>3&&"function"==typeof u?(o--,u):void 0,a&&cu(n[0],n[1],a)&&(u=o<3?void 0:u,o=1),t=he(t);++r<o;){var i=n[r];i&&e(t,i,r,u)}return t}))}function Ao(e,t){return function(n,r){if(null==n)return n;if(!Ra(n))return e(n,r);for(var o=n.length,u=t?o:-1,a=he(n);(t?u--:++u<o)&&!1!==r(a[u],u,a););return n}}function Eo(e){return function(t,n,r){for(var o=-1,u=he(t),a=r(t),i=a.length;i--;){var s=a[e?i:++o];if(!1===n(u[s],s,u))break}return t}}function xo(e){return function(t){var n=Mt(t=si(t))?Wt(t):void 0,r=n?n[0]:t.charAt(0),o=n?lo(n,1).join(""):t.slice(1);return r[e]()+o}}function Oo(e){return function(t){return ht(qi(Ni(t).replace(Te,"")),e,"")}}function Lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kn(e.prototype),r=e.apply(n,t);return $a(r)?r:n}}function Io(e){return function(t,n,r){var o=he(t);if(!Ra(t)){var u=Jo(n,3);t=_i(t),n=function(e){return u(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[u?t[a]:a]:void 0}}function So(e){return Wo((function(t){var n=t.length,r=n,u=jn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new me(o);if(u&&!i&&"wrapper"==Xo(a))var i=new jn([],!0)}for(r=i?r:n;++r<n;){var s=Xo(a=t[r]),c="wrapper"==s?Vo(a):void 0;i=c&&fu(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?i[Xo(c[0])].apply(i,c[3]):1==a.length&&fu(a)?i[s]():i.thru(a)}return function(){var e=arguments,r=e[0];if(i&&1==e.length&&Pa(r))return i.plant(r).value();for(var o=0,u=n?t[o].apply(this,e):r;++o<n;)u=t[o].call(this,u);return u}}))}function ko(e,t,n,o,u,a,i,s,c,l){var f=128&t,p=1&t,d=2&t,h=24&t,v=512&t,b=d?void 0:Lo(e);return function m(){for(var y=arguments.length,g=r(y),w=y;w--;)g[w]=arguments[w];if(h)var _=Qo(m),C=Dt(g,_);if(o&&(g=mo(g,o,u,h)),a&&(g=yo(g,a,i,h)),y-=C,h&&y<l){var A=Bt(g,_);return Ko(e,t,ko,m.placeholder,n,g,A,s,c,l-y)}var E=p?n:this,x=d?E[e]:e;return y=g.length,s?g=yu(g,s):v&&y>1&&g.reverse(),f&&c<y&&(g.length=c),this&&this!==We&&this instanceof m&&(x=b||Lo(x)),x.apply(E,g)}}function To(e,t){return function(n,r){return function(e,t,n,r){return cr(e,(function(e,o,u){t(r,n(e),o,u)})),r}(n,e,t(r),{})}}function jo(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Qr(n),r=Qr(r)),o=e(n,r)}return o}}function No(e){return Wo((function(t){return t=pt(t,kt(Jo())),Mr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function Po(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Fr(t,e):t;var r=Fr(t,Zt(e/Gt(t)));return Mt(t)?lo(Wt(r),0,e).join(""):r.slice(0,e)}function Do(e){return function(t,n,o){return o&&"number"!=typeof o&&cu(t,n,o)&&(n=o=void 0),t=ri(t),void 0===n?(n=t,t=0):n=ri(n),function(e,t,n,o){for(var u=-1,a=an(Zt((t-e)/(n||1)),0),i=r(a);a--;)i[o?a:++u]=e,e+=n;return i}(t,n,o=void 0===o?t<n?1:-1:ri(o),e)}}function Ro(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ai(t),n=ai(n)),e(t,n)}}function Ko(e,t,n,r,o,u,a,i,s,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,o,l?u:void 0,l?a:void 0,l?void 0:u,l?void 0:a,i,s,c],p=n.apply(void 0,f);return fu(e)&&wu(p,f),p.placeholder=r,Au(p,e,t)}function Fo(e){var t=de[e];return function(e,n){if(e=ai(e),(n=null==n?0:sn(oi(n),292))&&rn(e)){var r=(si(e)+"e").split("e");return+((r=(si(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Mo=bn&&1/zt(new bn([,-0]))[1]==1/0?function(e){return new bn(e)}:Ji;function Uo(e){return function(t){var n=ou(t);return n==h?Ut(t):n==y?$t(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function qo(e,t,n,a,i,s,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new me(o);var p=a?a.length:0;if(p||(t&=-97,a=i=void 0),c=void 0===c?c:an(oi(c),0),l=void 0===l?l:oi(l),p-=i?i.length:0,64&t){var d=a,h=i;a=i=void 0}var v=f?void 0:Vo(e),b=[e,t,n,a,i,d,h,s,c,l];if(v&&function(e,t){var n=e[1],r=t[1],o=n|r,a=o<131,i=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!i)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?mo(c,s,t[4]):s,e[4]=c?Bt(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?yo(c,s,t[6]):s,e[6]=c?Bt(e[5],u):t[6]);(s=t[7])&&(e[7]=s);128&r&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(b,v),e=b[0],t=b[1],n=b[2],a=b[3],i=b[4],!(l=b[9]=void 0===b[9]?f?0:e.length:an(b[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,n){var o=Lo(e);return function u(){for(var a=arguments.length,i=r(a),s=a,c=Qo(u);s--;)i[s]=arguments[s];var l=a<3&&i[0]!==c&&i[a-1]!==c?[]:Bt(i,c);if((a-=l.length)<n)return Ko(e,t,ko,u.placeholder,void 0,i,l,void 0,void 0,n-a);var f=this&&this!==We&&this instanceof u?o:e;return ot(f,this,i)}}(e,t,l):32!=t&&33!=t||i.length?ko.apply(void 0,b):function(e,t,n,o){var u=1&t,a=Lo(e);return function t(){for(var i=-1,s=arguments.length,c=-1,l=o.length,f=r(l+s),p=this&&this!==We&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;s--;)f[c++]=arguments[++i];return ot(p,u?n:this,f)}}(e,t,n,a);else var m=function(e,t,n){var r=1&t,o=Lo(e);return function t(){var u=this&&this!==We&&this instanceof t?o:e;return u.apply(r?n:this,arguments)}}(e,t,n);return Au((v?zr:wu)(m,b),e,t)}function Bo(e,t,n,r){return void 0===e||ka(e,we[n])&&!Ae.call(r,n)?t:e}function zo(e,t,n,r,o,u){return $a(e)&&$a(t)&&(u.set(t,e),Tr(e,t,void 0,zo,u),u.delete(t)),e}function $o(e){return Ya(e)?void 0:e}function Go(e,t,n,r,o,u){var a=1&n,i=e.length,s=t.length;if(i!=s&&!(a&&s>i))return!1;var c=u.get(e),l=u.get(t);if(c&&l)return c==t&&l==e;var f=-1,p=!0,d=2&n?new Kn:void 0;for(u.set(e,t),u.set(t,e);++f<i;){var h=e[f],v=t[f];if(r)var b=a?r(v,h,f,t,e,u):r(h,v,f,e,t,u);if(void 0!==b){if(b)continue;p=!1;break}if(d){if(!bt(t,(function(e,t){if(!jt(d,t)&&(h===e||o(h,e,n,r,u)))return d.push(t)}))){p=!1;break}}else if(h!==v&&!o(h,v,n,r,u)){p=!1;break}}return u.delete(e),u.delete(t),p}function Wo(e){return Cu(bu(e,void 0,Du),e+"")}function Ho(e){return dr(e,_i,nu)}function Yo(e){return dr(e,Ci,ru)}var Vo=gn?function(e){return gn.get(e)}:Ji;function Xo(e){for(var t=e.name+"",n=wn[t],r=Ae.call(wn,t)?n.length:0;r--;){var o=n[r],u=o.func;if(null==u||u==e)return o.name}return t}function Qo(e){return(Ae.call(Sn,"placeholder")?Sn:e).placeholder}function Jo(){var e=Sn.iteratee||Yi;return e=e===Yi?Er:e,arguments.length?e(arguments[0],arguments[1]):e}function Zo(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function eu(e){for(var t=_i(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,hu(o)]}return t}function tu(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ar(n)?n:void 0}var nu=tn?function(e){return null==e?[]:(e=he(e),ct(tn(e),(function(t){return He.call(e,t)})))}:us,ru=tn?function(e){for(var t=[];e;)dt(t,nu(e)),e=$e(e);return t}:us,ou=hr;function uu(e,t,n){for(var r=-1,o=(t=so(t,e)).length,u=!1;++r<o;){var a=Lu(t[r]);if(!(u=null!=e&&n(e,a)))break;e=e[a]}return u||++r!=o?u:!!(o=null==e?0:e.length)&&za(o)&&su(a,o)&&(Pa(e)||Na(e))}function au(e){return"function"!=typeof e.constructor||du(e)?{}:kn($e(e))}function iu(e){return Pa(e)||Na(e)||!!(Xe&&e&&e[Xe])}function su(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ie.test(e))&&e>-1&&e%1==0&&e<t}function cu(e,t,n){if(!$a(n))return!1;var r=typeof t;return!!("number"==r?Ra(n)&&su(t,n.length):"string"==r&&t in n)&&ka(n[t],e)}function lu(e,t){if(Pa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ja(e))||(z.test(e)||!B.test(e)||null!=t&&e in he(t))}function fu(e){var t=Xo(e),n=Sn[t];if("function"!=typeof n||!(t in Nn.prototype))return!1;if(e===n)return!0;var r=Vo(n);return!!r&&e===r[0]}(dn&&ou(new dn(new ArrayBuffer(1)))!=A||hn&&ou(new hn)!=h||vn&&"[object Promise]"!=ou(vn.resolve())||bn&&ou(new bn)!=y||mn&&ou(new mn)!=_)&&(ou=function(e){var t=hr(e),n=t==b?e.constructor:void 0,r=n?Iu(n):"";if(r)switch(r){case _n:return A;case Cn:return h;case An:return"[object Promise]";case En:return y;case xn:return _}return t});var pu=_e?qa:as;function du(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function hu(e){return e==e&&!$a(e)}function vu(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in he(n)))}}function bu(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var o=arguments,u=-1,a=an(o.length-t,0),i=r(a);++u<a;)i[u]=o[t+u];u=-1;for(var s=r(t+1);++u<t;)s[u]=o[u];return s[t]=n(i),ot(e,this,s)}}function mu(e,t){return t.length<2?e:pr(e,Wr(t,0,-1))}function yu(e,t){for(var n=e.length,r=sn(t.length,n),o=go(e);r--;){var u=t[r];e[r]=su(u,n)?o[u]:void 0}return e}function gu(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var wu=Eu(zr),_u=Jt||function(e,t){return We.setTimeout(e,t)},Cu=Eu($r);function Au(e,t,n){var r=t+"";return Cu(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(V,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return at(a,(function(n){var r="_."+n[0];t&n[1]&&!lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(Q):[]}(r),n)))}function Eu(e){var t=0,n=0;return function(){var r=cn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xu(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var u=Kr(n,o),a=e[u];e[u]=e[n],e[n]=a}return e.length=t,e}var Ou=function(e){var t=Ea(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,r,o){t.push(r?o.replace(ee,"$1"):n||e)})),t}));function Lu(e){if("string"==typeof e||Ja(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Iu(e){if(null!=e){try{return Ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Su(e){if(e instanceof Nn)return e.clone();var t=new jn(e.__wrapped__,e.__chain__);return t.__actions__=go(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ku=Mr((function(e,t){return Ka(e)?er(e,ar(t,1,Ka,!0)):[]})),Tu=Mr((function(e,t){var n=Uu(t);return Ka(n)&&(n=void 0),Ka(e)?er(e,ar(t,1,Ka,!0),Jo(n,2)):[]})),ju=Mr((function(e,t){var n=Uu(t);return Ka(n)&&(n=void 0),Ka(e)?er(e,ar(t,1,Ka,!0),void 0,n):[]}));function Nu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:oi(n);return o<0&&(o=an(r+o,0)),gt(e,Jo(t,3),o)}function Pu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=oi(n),o=n<0?an(r+o,0):sn(o,r-1)),gt(e,Jo(t,3),o,!0)}function Du(e){return(null==e?0:e.length)?ar(e,1):[]}function Ru(e){return e&&e.length?e[0]:void 0}var Ku=Mr((function(e){var t=pt(e,ao);return t.length&&t[0]===e[0]?yr(t):[]})),Fu=Mr((function(e){var t=Uu(e),n=pt(e,ao);return t===Uu(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Jo(t,2)):[]})),Mu=Mr((function(e){var t=Uu(e),n=pt(e,ao);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Uu(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var qu=Mr(Bu);function Bu(e,t){return e&&e.length&&t&&t.length?Dr(e,t):e}var zu=Wo((function(e,t){var n=null==e?0:e.length,r=Vn(e,t);return Rr(e,pt(t,(function(e){return su(e,n)?+e:e})).sort(bo)),r}));function $u(e){return null==e?e:pn.call(e)}var Gu=Mr((function(e){return Zr(ar(e,1,Ka,!0))})),Wu=Mr((function(e){var t=Uu(e);return Ka(t)&&(t=void 0),Zr(ar(e,1,Ka,!0),Jo(t,2))})),Hu=Mr((function(e){var t=Uu(e);return t="function"==typeof t?t:void 0,Zr(ar(e,1,Ka,!0),void 0,t)}));function Yu(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Ka(e))return t=an(e.length,t),!0})),It(t,(function(t){return pt(e,Et(t))}))}function Vu(e,t){if(!e||!e.length)return[];var n=Yu(e);return null==t?n:pt(n,(function(e){return ot(t,void 0,e)}))}var Xu=Mr((function(e,t){return Ka(e)?er(e,t):[]})),Qu=Mr((function(e){return oo(ct(e,Ka))})),Ju=Mr((function(e){var t=Uu(e);return Ka(t)&&(t=void 0),oo(ct(e,Ka),Jo(t,2))})),Zu=Mr((function(e){var t=Uu(e);return t="function"==typeof t?t:void 0,oo(ct(e,Ka),void 0,t)})),ea=Mr(Yu);var ta=Mr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Vu(e,n)}));function na(e){var t=Sn(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var oa=Wo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Vn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Nn&&su(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ra,args:[o],thisArg:void 0}),new jn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)}));var ua=_o((function(e,t,n){Ae.call(e,n)?++e[n]:Yn(e,n,1)}));var aa=Io(Nu),ia=Io(Pu);function sa(e,t){return(Pa(e)?at:tr)(e,Jo(t,3))}function ca(e,t){return(Pa(e)?it:nr)(e,Jo(t,3))}var la=_o((function(e,t,n){Ae.call(e,n)?e[n].push(t):Yn(e,n,[t])}));var fa=Mr((function(e,t,n){var o=-1,u="function"==typeof t,a=Ra(e)?r(e.length):[];return tr(e,(function(e){a[++o]=u?ot(t,e,n):gr(e,t,n)})),a})),pa=_o((function(e,t,n){Yn(e,n,t)}));function da(e,t){return(Pa(e)?pt:Ir)(e,Jo(t,3))}var ha=_o((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var va=Mr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cu(e,t[0],t[1])?t=[]:n>2&&cu(t[0],t[1],t[2])&&(t=[t[0]]),Nr(e,ar(t,1),[])})),ba=Qt||function(){return We.Date.now()};function ma(e,t,n){return t=n?void 0:t,qo(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ya(e,t){var n;if("function"!=typeof t)throw new me(o);return e=oi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ga=Mr((function(e,t,n){var r=1;if(n.length){var o=Bt(n,Qo(ga));r|=32}return qo(e,r,t,n,o)})),wa=Mr((function(e,t,n){var r=3;if(n.length){var o=Bt(n,Qo(wa));r|=32}return qo(t,r,e,n,o)}));function _a(e,t,n){var r,u,a,i,s,c,l=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new me(o);function h(t){var n=r,o=u;return r=u=void 0,l=t,i=e.apply(o,n)}function v(e){return l=e,s=_u(m,t),f?h(e):i}function b(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-l>=a}function m(){var e=ba();if(b(e))return y(e);s=_u(m,function(e){var n=t-(e-c);return p?sn(n,a-(e-l)):n}(e))}function y(e){return s=void 0,d&&r?h(e):(r=u=void 0,i)}function g(){var e=ba(),n=b(e);if(r=arguments,u=this,c=e,n){if(void 0===s)return v(c);if(p)return fo(s),s=_u(m,t),h(c)}return void 0===s&&(s=_u(m,t)),i}return t=ai(t)||0,$a(n)&&(f=!!n.leading,a=(p="maxWait"in n)?an(ai(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==s&&fo(s),l=0,r=c=u=s=void 0},g.flush=function(){return void 0===s?i:y(ba())},g}var Ca=Mr((function(e,t){return Zn(e,1,t)})),Aa=Mr((function(e,t,n){return Zn(e,ai(t)||0,n)}));function Ea(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new me(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var a=e.apply(this,r);return n.cache=u.set(o,a)||u,a};return n.cache=new(Ea.Cache||Rn),n}function xa(e){if("function"!=typeof e)throw new me(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ea.Cache=Rn;var Oa=co((function(e,t){var n=(t=1==t.length&&Pa(t[0])?pt(t[0],kt(Jo())):pt(ar(t,1),kt(Jo()))).length;return Mr((function(r){for(var o=-1,u=sn(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return ot(e,this,r)}))})),La=Mr((function(e,t){return qo(e,32,void 0,t,Bt(t,Qo(La)))})),Ia=Mr((function(e,t){return qo(e,64,void 0,t,Bt(t,Qo(Ia)))})),Sa=Wo((function(e,t){return qo(e,256,void 0,void 0,void 0,t)}));function ka(e,t){return e===t||e!=e&&t!=t}var Ta=Ro(vr),ja=Ro((function(e,t){return e>=t})),Na=wr(function(){return arguments}())?wr:function(e){return Ga(e)&&Ae.call(e,"callee")&&!He.call(e,"callee")},Pa=r.isArray,Da=Je?kt(Je):function(e){return Ga(e)&&hr(e)==C};function Ra(e){return null!=e&&za(e.length)&&!qa(e)}function Ka(e){return Ga(e)&&Ra(e)}var Fa=nn||as,Ma=Ze?kt(Ze):function(e){return Ga(e)&&hr(e)==l};function Ua(e){if(!Ga(e))return!1;var t=hr(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ya(e)}function qa(e){if(!$a(e))return!1;var t=hr(e);return t==p||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ba(e){return"number"==typeof e&&e==oi(e)}function za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function $a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ga(e){return null!=e&&"object"==typeof e}var Wa=et?kt(et):function(e){return Ga(e)&&ou(e)==h};function Ha(e){return"number"==typeof e||Ga(e)&&hr(e)==v}function Ya(e){if(!Ga(e)||hr(e)!=b)return!1;var t=$e(e);if(null===t)return!0;var n=Ae.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ce.call(n)==Le}var Va=tt?kt(tt):function(e){return Ga(e)&&hr(e)==m};var Xa=nt?kt(nt):function(e){return Ga(e)&&ou(e)==y};function Qa(e){return"string"==typeof e||!Pa(e)&&Ga(e)&&hr(e)==g}function Ja(e){return"symbol"==typeof e||Ga(e)&&hr(e)==w}var Za=rt?kt(rt):function(e){return Ga(e)&&za(e.length)&&!!Me[hr(e)]};var ei=Ro(Lr),ti=Ro((function(e,t){return e<=t}));function ni(e){if(!e)return[];if(Ra(e))return Qa(e)?Wt(e):go(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ou(e);return(t==h?Ut:t==y?zt:ki)(e)}function ri(e){return e?(e=ai(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function oi(e){var t=ri(e),n=t%1;return t==t?n?t-n:t:0}function ui(e){return e?Xn(oi(e),0,4294967295):0}function ai(e){if("number"==typeof e)return e;if(Ja(e))return NaN;if($a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=St(e);var n=oe.test(e);return n||ae.test(e)?ze(e.slice(2),n?2:8):re.test(e)?NaN:+e}function ii(e){return wo(e,Ci(e))}function si(e){return null==e?"":Jr(e)}var ci=Co((function(e,t){if(du(t)||Ra(t))wo(t,_i(t),e);else for(var n in t)Ae.call(t,n)&&$n(e,n,t[n])})),li=Co((function(e,t){wo(t,Ci(t),e)})),fi=Co((function(e,t,n,r){wo(t,Ci(t),e,r)})),pi=Co((function(e,t,n,r){wo(t,_i(t),e,r)})),di=Wo(Vn);var hi=Mr((function(e,t){e=he(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&cu(t[0],t[1],o)&&(r=1);++n<r;)for(var u=t[n],a=Ci(u),i=-1,s=a.length;++i<s;){var c=a[i],l=e[c];(void 0===l||ka(l,we[c])&&!Ae.call(e,c))&&(e[c]=u[c])}return e})),vi=Mr((function(e){return e.push(void 0,zo),ot(Ei,void 0,e)}));function bi(e,t,n){var r=null==e?void 0:pr(e,t);return void 0===r?n:r}function mi(e,t){return null!=e&&uu(e,t,mr)}var yi=To((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),e[t]=n}),$i(Hi)),gi=To((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),Ae.call(e,t)?e[t].push(n):e[t]=[n]}),Jo),wi=Mr(gr);function _i(e){return Ra(e)?Mn(e):xr(e)}function Ci(e){return Ra(e)?Mn(e,!0):Or(e)}var Ai=Co((function(e,t,n){Tr(e,t,n)})),Ei=Co((function(e,t,n,r){Tr(e,t,n,r)})),xi=Wo((function(e,t){var n={};if(null==e)return n;var r=!1;t=pt(t,(function(t){return t=so(t,e),r||(r=t.length>1),t})),wo(e,Yo(e),n),r&&(n=Qn(n,7,$o));for(var o=t.length;o--;)eo(n,t[o]);return n}));var Oi=Wo((function(e,t){return null==e?{}:function(e,t){return Pr(e,t,(function(t,n){return mi(e,n)}))}(e,t)}));function Li(e,t){if(null==e)return{};var n=pt(Yo(e),(function(e){return[e]}));return t=Jo(t),Pr(e,n,(function(e,n){return t(e,n[0])}))}var Ii=Uo(_i),Si=Uo(Ci);function ki(e){return null==e?[]:Tt(e,_i(e))}var Ti=Oo((function(e,t,n){return t=t.toLowerCase(),e+(n?ji(t):t)}));function ji(e){return Ui(si(e).toLowerCase())}function Ni(e){return(e=si(e))&&e.replace(se,Rt).replace(je,"")}var Pi=Oo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Di=Oo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ri=xo("toLowerCase");var Ki=Oo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fi=Oo((function(e,t,n){return e+(n?" ":"")+Ui(t)}));var Mi=Oo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ui=xo("toUpperCase");function qi(e,t,n){return e=si(e),void 0===(t=n?void 0:t)?function(e){return Re.test(e)}(e)?function(e){return e.match(Pe)||[]}(e):function(e){return e.match(J)||[]}(e):e.match(t)||[]}var Bi=Mr((function(e,t){try{return ot(e,void 0,t)}catch(e){return Ua(e)?e:new fe(e)}})),zi=Wo((function(e,t){return at(t,(function(t){t=Lu(t),Yn(e,t,ga(e[t],e))})),e}));function $i(e){return function(){return e}}var Gi=So(),Wi=So(!0);function Hi(e){return e}function Yi(e){return Er("function"==typeof e?e:Qn(e,1))}var Vi=Mr((function(e,t){return function(n){return gr(n,e,t)}})),Xi=Mr((function(e,t){return function(n){return gr(e,n,t)}}));function Qi(e,t,n){var r=_i(t),o=fr(t,r);null!=n||$a(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=fr(t,_i(t)));var u=!($a(n)&&"chain"in n&&!n.chain),a=qa(e);return at(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(u||t){var n=e(this.__wrapped__),o=n.__actions__=go(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function Ji(){}var Zi=No(pt),es=No(st),ts=No(bt);function ns(e){return lu(e)?Et(Lu(e)):function(e){return function(t){return pr(t,e)}}(e)}var rs=Do(),os=Do(!0);function us(){return[]}function as(){return!1}var is=jo((function(e,t){return e+t}),0),ss=Fo("ceil"),cs=jo((function(e,t){return e/t}),1),ls=Fo("floor");var fs,ps=jo((function(e,t){return e*t}),1),ds=Fo("round"),hs=jo((function(e,t){return e-t}),0);return Sn.after=function(e,t){if("function"!=typeof t)throw new me(o);return e=oi(e),function(){if(--e<1)return t.apply(this,arguments)}},Sn.ary=ma,Sn.assign=ci,Sn.assignIn=li,Sn.assignInWith=fi,Sn.assignWith=pi,Sn.at=di,Sn.before=ya,Sn.bind=ga,Sn.bindAll=zi,Sn.bindKey=wa,Sn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Pa(e)?e:[e]},Sn.chain=na,Sn.chunk=function(e,t,n){t=(n?cu(e,t,n):void 0===t)?1:an(oi(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var u=0,a=0,i=r(Zt(o/t));u<o;)i[a++]=Wr(e,u,u+=t);return i},Sn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var u=e[t];u&&(o[r++]=u)}return o},Sn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return dt(Pa(n)?go(n):[n],ar(t,1))},Sn.cond=function(e){var t=null==e?0:e.length,n=Jo();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new me(o);return[n(e[0]),e[1]]})):[],Mr((function(n){for(var r=-1;++r<t;){var o=e[r];if(ot(o[0],this,n))return ot(o[1],this,n)}}))},Sn.conforms=function(e){return function(e){var t=_i(e);return function(n){return Jn(n,e,t)}}(Qn(e,1))},Sn.constant=$i,Sn.countBy=ua,Sn.create=function(e,t){var n=kn(e);return null==t?n:Hn(n,t)},Sn.curry=function e(t,n,r){var o=qo(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},Sn.curryRight=function e(t,n,r){var o=qo(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},Sn.debounce=_a,Sn.defaults=hi,Sn.defaultsDeep=vi,Sn.defer=Ca,Sn.delay=Aa,Sn.difference=ku,Sn.differenceBy=Tu,Sn.differenceWith=ju,Sn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:oi(t))<0?0:t,r):[]},Sn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:oi(t)))<0?0:t):[]},Sn.dropRightWhile=function(e,t){return e&&e.length?no(e,Jo(t,3),!0,!0):[]},Sn.dropWhile=function(e,t){return e&&e.length?no(e,Jo(t,3),!0):[]},Sn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&cu(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=oi(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:oi(r))<0&&(r+=o),r=n>r?0:ui(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Sn.filter=function(e,t){return(Pa(e)?ct:ur)(e,Jo(t,3))},Sn.flatMap=function(e,t){return ar(da(e,t),1)},Sn.flatMapDeep=function(e,t){return ar(da(e,t),1/0)},Sn.flatMapDepth=function(e,t,n){return n=void 0===n?1:oi(n),ar(da(e,t),n)},Sn.flatten=Du,Sn.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},Sn.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:oi(t)):[]},Sn.flip=function(e){return qo(e,512)},Sn.flow=Gi,Sn.flowRight=Wi,Sn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Sn.functions=function(e){return null==e?[]:fr(e,_i(e))},Sn.functionsIn=function(e){return null==e?[]:fr(e,Ci(e))},Sn.groupBy=la,Sn.initial=function(e){return(null==e?0:e.length)?Wr(e,0,-1):[]},Sn.intersection=Ku,Sn.intersectionBy=Fu,Sn.intersectionWith=Mu,Sn.invert=yi,Sn.invertBy=gi,Sn.invokeMap=fa,Sn.iteratee=Yi,Sn.keyBy=pa,Sn.keys=_i,Sn.keysIn=Ci,Sn.map=da,Sn.mapKeys=function(e,t){var n={};return t=Jo(t,3),cr(e,(function(e,r,o){Yn(n,t(e,r,o),e)})),n},Sn.mapValues=function(e,t){var n={};return t=Jo(t,3),cr(e,(function(e,r,o){Yn(n,r,t(e,r,o))})),n},Sn.matches=function(e){return Sr(Qn(e,1))},Sn.matchesProperty=function(e,t){return kr(e,Qn(t,1))},Sn.memoize=Ea,Sn.merge=Ai,Sn.mergeWith=Ei,Sn.method=Vi,Sn.methodOf=Xi,Sn.mixin=Qi,Sn.negate=xa,Sn.nthArg=function(e){return e=oi(e),Mr((function(t){return jr(t,e)}))},Sn.omit=xi,Sn.omitBy=function(e,t){return Li(e,xa(Jo(t)))},Sn.once=function(e){return ya(2,e)},Sn.orderBy=function(e,t,n,r){return null==e?[]:(Pa(t)||(t=null==t?[]:[t]),Pa(n=r?void 0:n)||(n=null==n?[]:[n]),Nr(e,t,n))},Sn.over=Zi,Sn.overArgs=Oa,Sn.overEvery=es,Sn.overSome=ts,Sn.partial=La,Sn.partialRight=Ia,Sn.partition=ha,Sn.pick=Oi,Sn.pickBy=Li,Sn.property=ns,Sn.propertyOf=function(e){return function(t){return null==e?void 0:pr(e,t)}},Sn.pull=qu,Sn.pullAll=Bu,Sn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,Jo(n,2)):e},Sn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,void 0,n):e},Sn.pullAt=zu,Sn.range=rs,Sn.rangeRight=os,Sn.rearg=Sa,Sn.reject=function(e,t){return(Pa(e)?ct:ur)(e,xa(Jo(t,3)))},Sn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],u=e.length;for(t=Jo(t,3);++r<u;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Rr(e,o),n},Sn.rest=function(e,t){if("function"!=typeof e)throw new me(o);return Mr(e,t=void 0===t?t:oi(t))},Sn.reverse=$u,Sn.sampleSize=function(e,t,n){return t=(n?cu(e,t,n):void 0===t)?1:oi(t),(Pa(e)?qn:qr)(e,t)},Sn.set=function(e,t,n){return null==e?e:Br(e,t,n)},Sn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Br(e,t,n,r)},Sn.shuffle=function(e){return(Pa(e)?Bn:Gr)(e)},Sn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&cu(e,t,n)?(t=0,n=r):(t=null==t?0:oi(t),n=void 0===n?r:oi(n)),Wr(e,t,n)):[]},Sn.sortBy=va,Sn.sortedUniq=function(e){return e&&e.length?Xr(e):[]},Sn.sortedUniqBy=function(e,t){return e&&e.length?Xr(e,Jo(t,2)):[]},Sn.split=function(e,t,n){return n&&"number"!=typeof n&&cu(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=si(e))&&("string"==typeof t||null!=t&&!Va(t))&&!(t=Jr(t))&&Mt(e)?lo(Wt(e),0,n):e.split(t,n):[]},Sn.spread=function(e,t){if("function"!=typeof e)throw new me(o);return t=null==t?0:an(oi(t),0),Mr((function(n){var r=n[t],o=lo(n,0,t);return r&&dt(o,r),ot(e,this,o)}))},Sn.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},Sn.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:oi(t))<0?0:t):[]},Sn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:oi(t)))<0?0:t,r):[]},Sn.takeRightWhile=function(e,t){return e&&e.length?no(e,Jo(t,3),!1,!0):[]},Sn.takeWhile=function(e,t){return e&&e.length?no(e,Jo(t,3)):[]},Sn.tap=function(e,t){return t(e),e},Sn.throttle=function(e,t,n){var r=!0,u=!0;if("function"!=typeof e)throw new me(o);return $a(n)&&(r="leading"in n?!!n.leading:r,u="trailing"in n?!!n.trailing:u),_a(e,t,{leading:r,maxWait:t,trailing:u})},Sn.thru=ra,Sn.toArray=ni,Sn.toPairs=Ii,Sn.toPairsIn=Si,Sn.toPath=function(e){return Pa(e)?pt(e,Lu):Ja(e)?[e]:go(Ou(si(e)))},Sn.toPlainObject=ii,Sn.transform=function(e,t,n){var r=Pa(e),o=r||Fa(e)||Za(e);if(t=Jo(t,4),null==n){var u=e&&e.constructor;n=o?r?new u:[]:$a(e)&&qa(u)?kn($e(e)):{}}return(o?at:cr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Sn.unary=function(e){return ma(e,1)},Sn.union=Gu,Sn.unionBy=Wu,Sn.unionWith=Hu,Sn.uniq=function(e){return e&&e.length?Zr(e):[]},Sn.uniqBy=function(e,t){return e&&e.length?Zr(e,Jo(t,2)):[]},Sn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},Sn.unset=function(e,t){return null==e||eo(e,t)},Sn.unzip=Yu,Sn.unzipWith=Vu,Sn.update=function(e,t,n){return null==e?e:to(e,t,io(n))},Sn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:to(e,t,io(n),r)},Sn.values=ki,Sn.valuesIn=function(e){return null==e?[]:Tt(e,Ci(e))},Sn.without=Xu,Sn.words=qi,Sn.wrap=function(e,t){return La(io(t),e)},Sn.xor=Qu,Sn.xorBy=Ju,Sn.xorWith=Zu,Sn.zip=ea,Sn.zipObject=function(e,t){return uo(e||[],t||[],$n)},Sn.zipObjectDeep=function(e,t){return uo(e||[],t||[],Br)},Sn.zipWith=ta,Sn.entries=Ii,Sn.entriesIn=Si,Sn.extend=li,Sn.extendWith=fi,Qi(Sn,Sn),Sn.add=is,Sn.attempt=Bi,Sn.camelCase=Ti,Sn.capitalize=ji,Sn.ceil=ss,Sn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=ai(n))==n?n:0),void 0!==t&&(t=(t=ai(t))==t?t:0),Xn(ai(e),t,n)},Sn.clone=function(e){return Qn(e,4)},Sn.cloneDeep=function(e){return Qn(e,5)},Sn.cloneDeepWith=function(e,t){return Qn(e,5,t="function"==typeof t?t:void 0)},Sn.cloneWith=function(e,t){return Qn(e,4,t="function"==typeof t?t:void 0)},Sn.conformsTo=function(e,t){return null==t||Jn(e,t,_i(t))},Sn.deburr=Ni,Sn.defaultTo=function(e,t){return null==e||e!=e?t:e},Sn.divide=cs,Sn.endsWith=function(e,t,n){e=si(e),t=Jr(t);var r=e.length,o=n=void 0===n?r:Xn(oi(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Sn.eq=ka,Sn.escape=function(e){return(e=si(e))&&F.test(e)?e.replace(R,Kt):e},Sn.escapeRegExp=function(e){return(e=si(e))&&W.test(e)?e.replace(G,"\\$&"):e},Sn.every=function(e,t,n){var r=Pa(e)?st:rr;return n&&cu(e,t,n)&&(t=void 0),r(e,Jo(t,3))},Sn.find=aa,Sn.findIndex=Nu,Sn.findKey=function(e,t){return yt(e,Jo(t,3),cr)},Sn.findLast=ia,Sn.findLastIndex=Pu,Sn.findLastKey=function(e,t){return yt(e,Jo(t,3),lr)},Sn.floor=ls,Sn.forEach=sa,Sn.forEachRight=ca,Sn.forIn=function(e,t){return null==e?e:ir(e,Jo(t,3),Ci)},Sn.forInRight=function(e,t){return null==e?e:sr(e,Jo(t,3),Ci)},Sn.forOwn=function(e,t){return e&&cr(e,Jo(t,3))},Sn.forOwnRight=function(e,t){return e&&lr(e,Jo(t,3))},Sn.get=bi,Sn.gt=Ta,Sn.gte=ja,Sn.has=function(e,t){return null!=e&&uu(e,t,br)},Sn.hasIn=mi,Sn.head=Ru,Sn.identity=Hi,Sn.includes=function(e,t,n,r){e=Ra(e)?e:ki(e),n=n&&!r?oi(n):0;var o=e.length;return n<0&&(n=an(o+n,0)),Qa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&wt(e,t,n)>-1},Sn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:oi(n);return o<0&&(o=an(r+o,0)),wt(e,t,o)},Sn.inRange=function(e,t,n){return t=ri(t),void 0===n?(n=t,t=0):n=ri(n),function(e,t,n){return e>=sn(t,n)&&e<an(t,n)}(e=ai(e),t,n)},Sn.invoke=wi,Sn.isArguments=Na,Sn.isArray=Pa,Sn.isArrayBuffer=Da,Sn.isArrayLike=Ra,Sn.isArrayLikeObject=Ka,Sn.isBoolean=function(e){return!0===e||!1===e||Ga(e)&&hr(e)==c},Sn.isBuffer=Fa,Sn.isDate=Ma,Sn.isElement=function(e){return Ga(e)&&1===e.nodeType&&!Ya(e)},Sn.isEmpty=function(e){if(null==e)return!0;if(Ra(e)&&(Pa(e)||"string"==typeof e||"function"==typeof e.splice||Fa(e)||Za(e)||Na(e)))return!e.length;var t=ou(e);if(t==h||t==y)return!e.size;if(du(e))return!xr(e).length;for(var n in e)if(Ae.call(e,n))return!1;return!0},Sn.isEqual=function(e,t){return _r(e,t)},Sn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?_r(e,t,void 0,n):!!r},Sn.isError=Ua,Sn.isFinite=function(e){return"number"==typeof e&&rn(e)},Sn.isFunction=qa,Sn.isInteger=Ba,Sn.isLength=za,Sn.isMap=Wa,Sn.isMatch=function(e,t){return e===t||Cr(e,t,eu(t))},Sn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Cr(e,t,eu(t),n)},Sn.isNaN=function(e){return Ha(e)&&e!=+e},Sn.isNative=function(e){if(pu(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ar(e)},Sn.isNil=function(e){return null==e},Sn.isNull=function(e){return null===e},Sn.isNumber=Ha,Sn.isObject=$a,Sn.isObjectLike=Ga,Sn.isPlainObject=Ya,Sn.isRegExp=Va,Sn.isSafeInteger=function(e){return Ba(e)&&e>=-9007199254740991&&e<=9007199254740991},Sn.isSet=Xa,Sn.isString=Qa,Sn.isSymbol=Ja,Sn.isTypedArray=Za,Sn.isUndefined=function(e){return void 0===e},Sn.isWeakMap=function(e){return Ga(e)&&ou(e)==_},Sn.isWeakSet=function(e){return Ga(e)&&"[object WeakSet]"==hr(e)},Sn.join=function(e,t){return null==e?"":on.call(e,t)},Sn.kebabCase=Pi,Sn.last=Uu,Sn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=oi(n))<0?an(r+o,0):sn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):gt(e,Ct,o,!0)},Sn.lowerCase=Di,Sn.lowerFirst=Ri,Sn.lt=ei,Sn.lte=ti,Sn.max=function(e){return e&&e.length?or(e,Hi,vr):void 0},Sn.maxBy=function(e,t){return e&&e.length?or(e,Jo(t,2),vr):void 0},Sn.mean=function(e){return At(e,Hi)},Sn.meanBy=function(e,t){return At(e,Jo(t,2))},Sn.min=function(e){return e&&e.length?or(e,Hi,Lr):void 0},Sn.minBy=function(e,t){return e&&e.length?or(e,Jo(t,2),Lr):void 0},Sn.stubArray=us,Sn.stubFalse=as,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=ps,Sn.nth=function(e,t){return e&&e.length?jr(e,oi(t)):void 0},Sn.noConflict=function(){return We._===this&&(We._=Ie),this},Sn.noop=Ji,Sn.now=ba,Sn.pad=function(e,t,n){e=si(e);var r=(t=oi(t))?Gt(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Po(en(o),n)+e+Po(Zt(o),n)},Sn.padEnd=function(e,t,n){e=si(e);var r=(t=oi(t))?Gt(e):0;return t&&r<t?e+Po(t-r,n):e},Sn.padStart=function(e,t,n){e=si(e);var r=(t=oi(t))?Gt(e):0;return t&&r<t?Po(t-r,n)+e:e},Sn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(si(e).replace(H,""),t||0)},Sn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&cu(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ri(e),void 0===t?(t=e,e=0):t=ri(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=fn();return sn(e+o*(t-e+Be("1e-"+((o+"").length-1))),t)}return Kr(e,t)},Sn.reduce=function(e,t,n){var r=Pa(e)?ht:Ot,o=arguments.length<3;return r(e,Jo(t,4),n,o,tr)},Sn.reduceRight=function(e,t,n){var r=Pa(e)?vt:Ot,o=arguments.length<3;return r(e,Jo(t,4),n,o,nr)},Sn.repeat=function(e,t,n){return t=(n?cu(e,t,n):void 0===t)?1:oi(t),Fr(si(e),t)},Sn.replace=function(){var e=arguments,t=si(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Sn.result=function(e,t,n){var r=-1,o=(t=so(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var u=null==e?void 0:e[Lu(t[r])];void 0===u&&(r=o,u=n),e=qa(u)?u.call(e):u}return e},Sn.round=ds,Sn.runInContext=e,Sn.sample=function(e){return(Pa(e)?Un:Ur)(e)},Sn.size=function(e){if(null==e)return 0;if(Ra(e))return Qa(e)?Gt(e):e.length;var t=ou(e);return t==h||t==y?e.size:xr(e).length},Sn.snakeCase=Ki,Sn.some=function(e,t,n){var r=Pa(e)?bt:Hr;return n&&cu(e,t,n)&&(t=void 0),r(e,Jo(t,3))},Sn.sortedIndex=function(e,t){return Yr(e,t)},Sn.sortedIndexBy=function(e,t,n){return Vr(e,t,Jo(n,2))},Sn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Yr(e,t);if(r<n&&ka(e[r],t))return r}return-1},Sn.sortedLastIndex=function(e,t){return Yr(e,t,!0)},Sn.sortedLastIndexBy=function(e,t,n){return Vr(e,t,Jo(n,2),!0)},Sn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Yr(e,t,!0)-1;if(ka(e[n],t))return n}return-1},Sn.startCase=Fi,Sn.startsWith=function(e,t,n){return e=si(e),n=null==n?0:Xn(oi(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},Sn.subtract=hs,Sn.sum=function(e){return e&&e.length?Lt(e,Hi):0},Sn.sumBy=function(e,t){return e&&e.length?Lt(e,Jo(t,2)):0},Sn.template=function(e,t,n){var r=Sn.templateSettings;n&&cu(e,t,n)&&(t=void 0),e=si(e),t=fi({},t,r,Bo);var o,u,a=fi({},t.imports,r.imports,Bo),i=_i(a),s=Tt(a,i),c=0,l=t.interpolate||ce,f="__p += '",p=ve((t.escape||ce).source+"|"+l.source+"|"+(l===q?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(Ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(p,(function(t,n,r,a,i,s){return r||(r=a),f+=e.slice(c,s).replace(le,Ft),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),i&&(u=!0,f+="';\n"+i+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t})),f+="';\n";var h=Ae.call(t,"variable")&&t.variable;if(h){if(Z.test(h))throw new fe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(u?f.replace(j,""):f).replace(N,"$1").replace(P,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Bi((function(){return pe(i,d+"return "+f).apply(void 0,s)}));if(v.source=f,Ua(v))throw v;return v},Sn.times=function(e,t){if((e=oi(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var o=It(r,t=Jo(t));++n<e;)t(n);return o},Sn.toFinite=ri,Sn.toInteger=oi,Sn.toLength=ui,Sn.toLower=function(e){return si(e).toLowerCase()},Sn.toNumber=ai,Sn.toSafeInteger=function(e){return e?Xn(oi(e),-9007199254740991,9007199254740991):0===e?e:0},Sn.toString=si,Sn.toUpper=function(e){return si(e).toUpperCase()},Sn.trim=function(e,t,n){if((e=si(e))&&(n||void 0===t))return St(e);if(!e||!(t=Jr(t)))return e;var r=Wt(e),o=Wt(t);return lo(r,Nt(r,o),Pt(r,o)+1).join("")},Sn.trimEnd=function(e,t,n){if((e=si(e))&&(n||void 0===t))return e.slice(0,Ht(e)+1);if(!e||!(t=Jr(t)))return e;var r=Wt(e);return lo(r,0,Pt(r,Wt(t))+1).join("")},Sn.trimStart=function(e,t,n){if((e=si(e))&&(n||void 0===t))return e.replace(H,"");if(!e||!(t=Jr(t)))return e;var r=Wt(e);return lo(r,Nt(r,Wt(t))).join("")},Sn.truncate=function(e,t){var n=30,r="...";if($a(t)){var o="separator"in t?t.separator:o;n="length"in t?oi(t.length):n,r="omission"in t?Jr(t.omission):r}var u=(e=si(e)).length;if(Mt(e)){var a=Wt(e);u=a.length}if(n>=u)return e;var i=n-Gt(r);if(i<1)return r;var s=a?lo(a,0,i).join(""):e.slice(0,i);if(void 0===o)return s+r;if(a&&(i+=s.length-i),Va(o)){if(e.slice(i).search(o)){var c,l=s;for(o.global||(o=ve(o.source,si(ne.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var f=c.index;s=s.slice(0,void 0===f?i:f)}}else if(e.indexOf(Jr(o),i)!=i){var p=s.lastIndexOf(o);p>-1&&(s=s.slice(0,p))}return s+r},Sn.unescape=function(e){return(e=si(e))&&K.test(e)?e.replace(D,Yt):e},Sn.uniqueId=function(e){var t=++Ee;return si(e)+t},Sn.upperCase=Mi,Sn.upperFirst=Ui,Sn.each=sa,Sn.eachRight=ca,Sn.first=Ru,Qi(Sn,(fs={},cr(Sn,(function(e,t){Ae.call(Sn.prototype,t)||(fs[t]=e)})),fs),{chain:!1}),Sn.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Sn[e].placeholder=Sn})),at(["drop","take"],(function(e,t){Nn.prototype[e]=function(n){n=void 0===n?1:an(oi(n),0);var r=this.__filtered__&&!t?new Nn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Nn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Nn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Jo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Nn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Nn.prototype[e]=function(){return this.__filtered__?new Nn(this):this[n](1)}})),Nn.prototype.compact=function(){return this.filter(Hi)},Nn.prototype.find=function(e){return this.filter(e).head()},Nn.prototype.findLast=function(e){return this.reverse().find(e)},Nn.prototype.invokeMap=Mr((function(e,t){return"function"==typeof e?new Nn(this):this.map((function(n){return gr(n,e,t)}))})),Nn.prototype.reject=function(e){return this.filter(xa(Jo(e)))},Nn.prototype.slice=function(e,t){e=oi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Nn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=oi(t))<0?n.dropRight(-t):n.take(t-e)),n)},Nn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Nn.prototype.toArray=function(){return this.take(4294967295)},cr(Nn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Sn[r?"take"+("last"==t?"Right":""):t],u=r||/^find/.test(t);o&&(Sn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,i=t instanceof Nn,s=a[0],c=i||Pa(t),l=function(e){var t=o.apply(Sn,dt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof s&&1!=s.length&&(i=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=u&&!f,h=i&&!p;if(!u&&c){t=h?t:new Nn(this);var v=e.apply(t,a);return v.__actions__.push({func:ra,args:[l],thisArg:void 0}),new jn(v,f)}return d&&h?e.apply(this,a):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Sn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Pa(o)?o:[],e)}return this[n]((function(n){return t.apply(Pa(n)?n:[],e)}))}})),cr(Nn.prototype,(function(e,t){var n=Sn[t];if(n){var r=n.name+"";Ae.call(wn,r)||(wn[r]=[]),wn[r].push({name:t,func:n})}})),wn[ko(void 0,2).name]=[{name:"wrapper",func:void 0}],Nn.prototype.clone=function(){var e=new Nn(this.__wrapped__);return e.__actions__=go(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=go(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=go(this.__views__),e},Nn.prototype.reverse=function(){if(this.__filtered__){var e=new Nn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Nn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Pa(e),r=t<0,o=n?e.length:0,u=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var u=n[r],a=u.size;switch(u.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=sn(t,e+a);break;case"takeRight":e=an(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=u.start,i=u.end,s=i-a,c=r?i:a-1,l=this.__iteratees__,f=l.length,p=0,d=sn(s,this.__takeCount__);if(!n||!r&&o==s&&d==s)return ro(e,this.__actions__);var h=[];e:for(;s--&&p<d;){for(var v=-1,b=e[c+=t];++v<f;){var m=l[v],y=m.iteratee,g=m.type,w=y(b);if(2==g)b=w;else if(!w){if(1==g)continue e;break e}}h[p++]=b}return h},Sn.prototype.at=oa,Sn.prototype.chain=function(){return na(this)},Sn.prototype.commit=function(){return new jn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ni(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(e){for(var t,n=this;n instanceof Tn;){var r=Su(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Sn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Nn){var t=e;return this.__actions__.length&&(t=new Nn(this)),(t=t.reverse()).__actions__.push({func:ra,args:[$u],thisArg:void 0}),new jn(t,this.__chain__)}return this.thru($u)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return ro(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Qe&&(Sn.prototype[Qe]=function(){return this}),Sn}();We._=Vt,void 0===(r=function(){return Vt}.call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n(29)(e))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._=e}var o=r.prototype;function u(e,t){for(var n=0;n<e;n++)t(n)}function a(e,t,n){return function(e,t){u(t.length,(function(n){e(t[n],n,t)}))}((function(n,r,o){t=e(t,n,r,o)}),n),t}function i(e,t){return a((function(t,n,r,o){return t.concat([e(n,r,o)])}),[],t)}function s(e){var t=a((function(e,t,n,r){return e.concat(n===r.length-1?Buffer.from([t,0]).readUInt16BE(0):r.readUInt16BE(n))}),[],e);return Buffer.from(i((function(e){return(e<<1&65535)>>8}),t))}function c(e){return e[0]>>7}function l(){return"undefined"!=typeof Buffer}function f(){if(!l())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function p(e){f();var t=a((function(e,t){return e+t}),0,e);if(t%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+t+" which is not an even number of bytes; the total should be divisible by 8");var n,o=t/8,i=(n=function(e){return e>48},a((function(e,t){return e||(n(t)?t:e)}),null,e));if(i)throw new Error(i+" bit range requested exceeds 48 bit (6 byte) Number max.");return new r((function(t,n){var r=o+n;return r>t.length?E(n,o.toString()+" bytes"):A(r,a((function(e,t){var n=function(e,t){var n={v:0,buf:t};return u(e,(function(){n={v:n.v<<1|c(n.buf),buf:s(n.buf)}})),n}(t,e.buf);return{coll:e.coll.concat(n.v),buf:n.buf}}),{coll:[],buf:t.slice(n,r)},e).coll)}))}function d(e,t){return new r((function(n,r){return f(),r+t>n.length?E(r,t+" bytes for "+e):A(r+t,n.slice(r,r+t))}))}function h(e,t){if("number"!=typeof(n=t)||Math.floor(n)!==n||t<0||t>6)throw new Error(e+" requires integer length in range [0, 6].");var n}function v(e){return h("uintBE",e),d("uintBE("+e+")",e).map((function(t){return t.readUIntBE(0,e)}))}function b(e){return h("uintLE",e),d("uintLE("+e+")",e).map((function(t){return t.readUIntLE(0,e)}))}function m(e){return h("intBE",e),d("intBE("+e+")",e).map((function(t){return t.readIntBE(0,e)}))}function y(e){return h("intLE",e),d("intLE("+e+")",e).map((function(t){return t.readIntLE(0,e)}))}function g(e){return Array.prototype.slice.call(e)}function w(e){return e instanceof r}function _(e){return"[object Array]"==={}.toString.call(e)}function C(e){return l()&&Buffer.isBuffer(e)}function A(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function E(e,t){return _(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function x(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(e,t){if(function(){if(void 0!==r._supportsSet)return r._supportsSet;var e="undefined"!=typeof Set;return r._supportsSet=e,e}()&&Array.from){for(var n=new Set(e),o=0;o<t.length;o++)n.add(t[o]);var u=Array.from(n);return u.sort(),u}for(var a={},i=0;i<e.length;i++)a[e[i]]=!0;for(var s=0;s<t.length;s++)a[t[s]]=!0;var c=[];for(var l in a)({}).hasOwnProperty.call(a,l)&&c.push(l);return c.sort(),c}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}var O={};function L(e,t){if(C(e))return{offset:t,line:-1,column:-1};if(O.input===e&&O.i===t)return O.value;var n=e.slice(0,t).split("\n"),r={offset:t,line:n.length,column:n[n.length-1].length+1};return O.input=e,O.i=t,O.value=r,r}function I(e){if(!w(e))throw new Error("not a parser: "+e)}function S(e,t){return"string"==typeof e?e.charAt(t):e[t]}function k(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function T(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=M(e),n=0;n<t.length;n++){var r=t.charAt(n);if("i"!==r&&"m"!==r&&"u"!==r&&"s"!==r)throw new Error('unsupported regexp flag "'+r+'": '+e)}}function j(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function N(e){if("string"!=typeof e)throw new Error("not a string: "+e)}function P(e,t){return new Array(t+1).join(e)}function D(e,t,n){var r=t-e.length;return r<=0?e:P(n,r)+e}function R(e,t,n,r){return{from:e-t>0?e-t:0,to:e+n>r?r:e+n}}function K(e,t){var n,r,o,u,s,c=t.index,l=c.offset,f=1;if(l===e.length)return"Got the end of the input";if(C(e)){var p=l-l%8,d=l-p,h=R(p,40,40,e.length),v=i((function(e){return i((function(e){return D(e.toString(16),2,"0")}),e)}),function(e,t){var n=e.length,r=[],o=0;if(n<=t)return[e.slice()];for(var u=0;u<n;u++)r[o]||r.push([]),r[o].push(e[u]),(u+1)%t==0&&o++;return r}(e.slice(h.from,h.to).toJSON().data,8));u=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/8,to:Math.floor(e.to/8)}}(h),r=p/8,n=3*d,d>=4&&(n+=1),f=2,o=i((function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")}),v),(s=(8*(u.to>0?u.to-1:u.to)).toString(16).length)<2&&(s=2)}else{var b=e.split(/\r\n|[\n\r\u2028\u2029]/);n=c.column-1,r=c.line-1,u=R(r,2,3,b.length),o=b.slice(u.from,u.to),s=u.to.toString().length}var m=r-u.from;return C(e)&&(s=(8*(u.to>0?u.to-1:u.to)).toString(16).length)<2&&(s=2),a((function(t,r,o){var a,i=o===m,c=i?"> ":"  ";return a=C(e)?D((8*(u.from+o)).toString(16),s,"0"):D((u.from+o+1).toString(),s," "),[].concat(t,[c+a+" | "+r],i?["  "+P(" ",s)+" | "+D("",n," ")+P("^",f)]:[])}),[],o).join("\n")}function F(e,t){return["\n","-- PARSING FAILED "+P("-",50),"\n\n",K(e,t),"\n\n",(n=t.expected,1===n.length?"Expected:\n\n"+n[0]:"Expected one of the following: \n\n"+n.join(", ")),"\n"].join("");var n}function M(e){return void 0!==e.flags?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function U(e){return RegExp("^(?:"+e.source+")",M(e))}function q(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)I(e[n]);return r((function(n,r){for(var o,u=new Array(t),a=0;a<t;a+=1){if(!(o=x(e[a]._(n,r),o)).status)return o;u[a]=o.value,r=o.index}return x(A(r,u),o)}))}function B(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var t=e.pop();return j(t),q.apply(null,e).map((function(e){return t.apply(null,e)}))}function z(){var e=[].slice.call(arguments),t=e.length;if(0===t)return V("zero alternates");for(var n=0;n<t;n+=1)I(e[n]);return r((function(t,n){for(var r,o=0;o<e.length;o+=1)if((r=x(e[o]._(t,n),r)).status)return r;return r}))}function $(e,t){return G(e,t).or(Y([]))}function G(e,t){return I(e),I(t),B(e,t.then(e).many(),(function(e,t){return[e].concat(t)}))}function W(e){N(e);var t="'"+e+"'";return r((function(n,r){var o=r+e.length,u=n.slice(r,o);return u===e?A(o,u):E(r,t)}))}function H(e,t){T(e),arguments.length>=2?k(t):t=0;var n=U(e),o=""+e;return r((function(e,r){var u=n.exec(e.slice(r));if(u){if(0<=t&&t<=u.length){var a=u[0],i=u[t];return A(r+a.length,i)}return E(r,"valid match group (0 to "+u.length+") in "+o)}return E(r,o)}))}function Y(e){return r((function(t,n){return A(n,e)}))}function V(e){return r((function(t,n){return E(n,e)}))}function X(e){if(w(e))return r((function(t,n){var r=e._(t,n);return r.index=n,r.value="",r}));if("string"==typeof e)return X(W(e));if(e instanceof RegExp)return X(H(e));throw new Error("not a string, regexp, or parser: "+e)}function Q(e){return I(e),r((function(t,n){var r=e._(t,n),o=t.slice(n,r.index);return r.status?E(n,'not "'+o+'"'):A(n,null)}))}function J(e){return j(e),r((function(t,n){var r=S(t,n);return n<t.length&&e(r)?A(n+1,r):E(n,"a character/byte matching "+e)}))}function Z(e,t){arguments.length<2&&(t=e,e=void 0);var n=r((function(e,r){return n._=t()._,n._(e,r)}));return e?n.desc(e):n}function ee(){return V("fantasy-land/empty")}o.parse=function(e){if("string"!=typeof e&&!C(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t=this.skip(oe)._(e,0);return t.status?{status:!0,value:t.value}:{status:!1,index:L(e,t.furthest),expected:t.expected}},o.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=F(e,t),r=new Error(n);throw r.type="ParsimmonError",r.result=t,r},o.assert=function(e,t){return this.chain((function(n){return e(n)?Y(n):V(t)}))},o.or=function(e){return z(this,e)},o.trim=function(e){return this.wrap(e,e)},o.wrap=function(e,t){return B(e,this,t,(function(e,t){return t}))},o.thru=function(e){return e(this)},o.then=function(e){return I(e),q(this,e).map((function(e){return e[1]}))},o.many=function(){var e=this;return r((function(t,n){for(var r=[],o=void 0;;){if(!(o=x(e._(t,n),o)).status)return x(A(n,r),o);if(n===o.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=o.index,r.push(o.value)}}))},o.tieWith=function(e){return N(e),this.map((function(t){if(function(e){if(!_(e))throw new Error("not an array: "+e)}(t),t.length){N(t[0]);for(var n=t[0],r=1;r<t.length;r++)N(t[r]),n+=e+t[r];return n}return""}))},o.tie=function(){return this.tieWith("")},o.times=function(e,t){var n=this;return arguments.length<2&&(t=e),k(e),k(t),r((function(r,o){for(var u=[],a=void 0,i=void 0,s=0;s<e;s+=1){if(i=x(a=n._(r,o),i),!a.status)return i;o=a.index,u.push(a.value)}for(;s<t&&(i=x(a=n._(r,o),i),a.status);s+=1)o=a.index,u.push(a.value);return x(A(o,u),i)}))},o.result=function(e){return this.map((function(){return e}))},o.atMost=function(e){return this.times(0,e)},o.atLeast=function(e){return B(this.times(e),this.many(),(function(e,t){return e.concat(t)}))},o.map=function(e){j(e);var t=this;return r((function(n,r){var o=t._(n,r);return o.status?x(A(o.index,e(o.value)),o):o}))},o.contramap=function(e){j(e);var t=this;return r((function(n,r){var o=t.parse(e(n.slice(r)));return o.status?A(r+n.length,o.value):o}))},o.promap=function(e,t){return j(e),j(t),this.contramap(e).map(t)},o.skip=function(e){return q(this,e).map((function(e){return e[0]}))},o.mark=function(){return B(te,this,te,(function(e,t,n){return{start:e,value:t,end:n}}))},o.node=function(e){return B(te,this,te,(function(t,n,r){return{name:e,value:n,start:t,end:r}}))},o.sepBy=function(e){return $(this,e)},o.sepBy1=function(e){return G(this,e)},o.lookahead=function(e){return this.skip(X(e))},o.notFollowedBy=function(e){return this.skip(Q(e))},o.desc=function(e){_(e)||(e=[e]);var t=this;return r((function(n,r){var o=t._(n,r);return o.status||(o.expected=e),o}))},o.fallback=function(e){return this.or(Y(e))},o.ap=function(e){return B(e,this,(function(e,t){return e(t)}))},o.chain=function(e){var t=this;return r((function(n,r){var o=t._(n,r);return o.status?x(e(o.value)._(n,o.index),o):o}))},o.concat=o.or,o.empty=ee,o.of=Y,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var te=r((function(e,t){return A(t,L(e,t))})),ne=r((function(e,t){return t>=e.length?E(t,"any character/byte"):A(t+1,S(e,t))})),re=r((function(e,t){return A(e.length,e.slice(t))})),oe=r((function(e,t){return t<e.length?E(t,"EOF"):A(t,null)})),ue=H(/[0-9]/).desc("a digit"),ae=H(/[0-9]*/).desc("optional digits"),ie=H(/[a-z]/i).desc("a letter"),se=H(/[a-z]*/i).desc("optional letters"),ce=H(/\s*/).desc("optional whitespace"),le=H(/\s+/).desc("whitespace"),fe=W("\r"),pe=W("\n"),de=W("\r\n"),he=z(de,pe,fe).desc("newline"),ve=z(he,oe);r.all=re,r.alt=z,r.any=ne,r.cr=fe,r.createLanguage=function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&function(n){t[n]=Z((function(){return e[n](t)}))}(n);return t},r.crlf=de,r.custom=function(e){return r(e(A,E))},r.digit=ue,r.digits=ae,r.empty=ee,r.end=ve,r.eof=oe,r.fail=V,r.formatError=F,r.index=te,r.isParser=w,r.lazy=Z,r.letter=ie,r.letters=se,r.lf=pe,r.lookahead=X,r.makeFailure=E,r.makeSuccess=A,r.newline=he,r.noneOf=function(e){return J((function(t){return e.indexOf(t)<0})).desc("none of '"+e+"'")},r.notFollowedBy=Q,r.of=Y,r.oneOf=function(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return J((function(t){return e.indexOf(t)>=0})).desc(t)},r.optWhitespace=ce,r.Parser=r,r.range=function(e,t){return J((function(n){return e<=n&&n<=t})).desc(e+"-"+t)},r.regex=H,r.regexp=H,r.sepBy=$,r.sepBy1=G,r.seq=q,r.seqMap=B,r.seqObj=function(){for(var e={},t=0,n=g(arguments),o=n.length,u=0;u<o;u+=1){var a=n[u];if(!w(a)){if(_(a)){var i=2===a.length&&"string"==typeof a[0]&&w(a[1]);if(i){var s=a[0];if(Object.prototype.hasOwnProperty.call(e,s))throw new Error("seqObj: duplicate key "+s);e[s]=!0,t++;continue}}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===t)throw new Error("seqObj expects at least one named parser, found zero");return r((function(e,t){for(var r,u={},a=0;a<o;a+=1){var i,s;if(_(n[a])?(i=n[a][0],s=n[a][1]):(i=null,s=n[a]),!(r=x(s._(e,t),r)).status)return r;i&&(u[i]=r.value),t=r.index}return x(A(t,u),r)}))},r.string=W,r.succeed=Y,r.takeWhile=function(e){return j(e),r((function(t,n){for(var r=n;r<t.length&&e(S(t,r));)r++;return A(r,t.slice(n,r))}))},r.test=J,r.whitespace=le,r["fantasy-land/empty"]=ee,r["fantasy-land/of"]=Y,r.Binary={bitSeq:p,bitSeqObj:function(e){f();var t={},n=0,r=i((function(e){if(_(e)){var r=e;if(2!==r.length)throw new Error("["+r.join(", ")+"] should be length 2, got length "+r.length);if(N(r[0]),k(r[1]),Object.prototype.hasOwnProperty.call(t,r[0]))throw new Error("duplicate key in bitSeqObj: "+r[0]);return t[r[0]]=!0,n++,r}return k(e),[null,e]}),e);if(n<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var o=i((function(e){return e[0]}),r);return p(i((function(e){return e[1]}),r)).map((function(e){return a((function(e,t){return null!==t[0]&&(e[t[0]]=t[1]),e}),{},i((function(t,n){return[t,e[n]]}),o))}))},byte:function(e){if(f(),k(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var t=(e>15?"0x":"0x0")+e.toString(16);return r((function(n,r){var o=S(n,r);return o===e?A(r+1,o):E(r,t)}))},buffer:function(e){return d("buffer",e).map((function(e){return Buffer.from(e)}))},encodedString:function(e,t){return d("string",t).map((function(t){return t.toString(e)}))},uintBE:v,uint8BE:v(1),uint16BE:v(2),uint32BE:v(4),uintLE:b,uint8LE:b(1),uint16LE:b(2),uint32LE:b(4),intBE:m,int8BE:m(1),int16BE:m(2),int32BE:m(4),intLE:y,int8LE:y(1),int16LE:y(2),int32LE:y(4),floatBE:d("floatBE",4).map((function(e){return e.readFloatBE(0)})),floatLE:d("floatLE",4).map((function(e){return e.readFloatLE(0)})),doubleBE:d("doubleBE",8).map((function(e){return e.readDoubleBE(0)})),doubleLE:d("doubleLE",8).map((function(e){return e.readDoubleLE(0)}))},e.exports=r},function(e,t,n){"use strict";var r=n(49),o=r.keyword,u=r.word;t.KeywordIdentity=o(/IDENTITY/i),t.KeywordIndex=o(/INDEX/i),t.KeywordWith=o(/WITH/i),t.KeywordOn=o(/ON/i),t.KeywordOff=o(/OFF/i),t.KeywordFilestream_On=o(/FILESTREAM_ON/i),t.KeywordPrimaryKey=o(/PRIMARY KEY/i),t.KeywordClustered=o(/CLUSTERED/i),t.KeywordNonclustered=o(/NONCLUSTERED/i),t.KeywordColumnStore=o(/COLUMNSTORE/i),t.KeywordReferences=o(/REFERENCES/i),t.KeywordForeignKey=o(/FOREIGN KEY/i),t.KeywordCheck=o(/CHECK/i),t.KeywordConstraint=o(/CONSTRAINT/i),t.KeywordUnique=o(/UNIQUE/i),t.KeywordHash=o(/HASH/i),t.KeywordBucket_Count=o(/BUCKET_COUNT/i),t.KeywordNFR=o(/NOT FOR REPLICATION/),t.KeywordOnDelete=o(/ON DELETE/i),t.KeywordOnUpdate=o(/ON UPDATE/i),t.KeywordSetNull=o(/SET NULL/i),t.KeywordSetDefault=o(/SET DEFAULT/i),t.KeywordNoAction=o(/NO ACTION/i),t.KeywordCascade=o(/CASCADE/i),t.KeywordContent=o(/CONTENT/i),t.KeywordDocument=o(/DOCUMENT/i),t.KeywordNull=o(/NULL/i),t.KeywordNotNull=o(/NOT NULL/i),t.KeywordDefault=o(/DEFAULT/i),t.KeywordFilestream=o(/FILESTREAM/i),t.KeywordCollate=o(/COLLATE/i),t.KeywordSparse=o(/SPARSE/i),t.KeywordRowGUIDCol=o(/ROWGUIDCOL/i),t.KeywordMasked=o(/MASKED/i),t.KeywordEncrypted=o(/ENCRYPTED/i),t.KeywordFunction=o(/FUNCTION/i),t.KeywordGeneratedAAR=o(/GENERATED ALWAYS AS ROW/i),t.KeywordStart=o(/START/i),t.KeywordEnd=o(/END/i),t.KeywordHidden=o(/HIDDEN/i),t.KeywordAsc=o(/ASC/i),t.KeywordDesc=o(/DESC/i),t.KeywordTextImage_On=o(/TEXTIMAGE_ON/i),t.KeywordPeriodForST=o(/PERIOD FOR SYSTEM_TIME/i),t.KeywordFileTable=o(/FILETABLE/i),t.KeywordTable=o(/TABLE/i),t.KeywordCreate=o(/CREATE/i),t.KeywordAs=o(/AS/i),t.KeywordPersisted=o(/PERSISTED/i),t.KeywordColumnSet=o(/XML COLUMN_SET FOR ALL_SPARSE_COLUMNS/i),t.KeywordInclude=o(/INCLUDE/i),t.KeywordIn=o(/IN/i),t.KeywordWhere=o(/WHERE/i),t.KeywordFor=o(/FOR/i),t.KeywordWithValues=o(/WITH VALUES/i),t.KeywordConnection=o(/CONNECTION/i),t.KeywordTo=o(/TO/i),t.KeywordAlter=o(/ALTER/i),t.KeywordAdd=o(/ADD/i),t.KeywordSet=o(/SET/i),t.KeywordRebuild=o(/REBUILD/i),t.KeywordSwitch=o(/SWITCH/i),t.KeywordEnable=o(/ENABLE/i),t.KeywordDisable=o(/DISABLE/i),t.KeywordNoCheck=o(/NOCHECK/i),t.KeywordDrop=o(/DROP/i),t.KeywordAlterColumn=o(/ALTER COLUMN/i),t.KeywordGo=o(/GO/i),t.KeywordDrop=o(/DROP/i),t.KeywordBulkInsert=o(/BULK INSERT/i),t.KeywordInsert=o(/INSERT/i),t.KeywordUpdate=o(/UPDATE/i),t.KeywordMerge=o(/MERGE/i),t.KeywordTruncateTable=o(/TRUNCATE TABLE/i),t.KeywordBackup=o(/BACKUP/i),t.KeywordRestore=o(/RESTORE/i),t.KeywordCollate=o(/COLLATE/i),t.KeywordClose=o(/CLOSE/i),t.KeywordDeny=o(/DENY/i),t.KeywordExecute=o(/EXECUTE/i),t.KeywordGrant=o(/GRANT/i),t.KeywordOpen=o(/OPEN/i),t.KeywordRevoke=o(/REVOKE/i),t.KeywordSet=o(/SET/i),t.KeywordBegin=o(/BEGIN/i),t.KeywordGet=o(/GET/i),t.KeywordEnd=o(/END/i),t.KeywordMove=o(/MOVE/i),t.KeywordReceive=o(/RECEIVE/i),t.KeywordSend=o(/SEND/i),t.KeywordRename=o(/RENAME/i),t.KeywordDelete=o(/DELETE/i),t.KeywordIf=o(/IF/i),t.LogicalOpIn=o(/IN/i),t.LogicalOpAnd=o(/AND/i),t.LessThan=u("<"),t.GreaterThan=u(">"),t.LParen=u("("),t.Comma=u(","),t.RParen=u(")"),t.DoubleQuote=u('"'),t.LBracket=u("["),t.RBracket=u("]"),t.Equal=u("="),t.Semicolon=u(";")},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return(c=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{start:{line:1,column:1}};return u(this,t),(n=a(this,f(t).call(this,e))).location=r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),t}(i(Error)),d=function(){function e(t){u(this,e),this.token=t}var t,n,o;return t=e,(n=[{key:"bind",value:function(e){this.selection=e}},{key:"error",value:function(e){throw new p(e,this.token)}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=d},function(e,t,n){"use strict";var r=n(1),o=n(5),u=o.makeList,a=o.streamline,i=n(2),s=n(9),c=r((function(e,t){for(var n=t,o=!1,u="";n<e.length&&(o||!e.slice(n,n+2).match(/GO|;/i));)for(o&&e[n].match(/\]|'|"/i)&&e[n]===u?o=!1:!o&&e[n].match(/\[|"|'/i)&&(o=!0,u=e[n],"["===e[n]&&(u="]")),e[n].match(/\s/)||(n+=1);n<e.length&&e[n].match(/\s/);)n+=1;return e.slice(n,n+2).match(/GO/i)&&(n-=1),r.makeSuccess(n+1,"")})),l=r.createLanguage({pIgnore:function(){return c},pColumnNames:function(e){return u(r.seq(e.pIdentifier,e.pKeywordAscOrDesc.fallback(null)).map((function(e){return e[0]}))).desc("list of column names")},pDotDelimitedName:function(e){return r.sepBy1(e.pIdentifier,r.string(".")).desc("dot delimited identifier")},pOptionList:function(e){return u(e.pOption)},pOption:function(e){return r.seq(e.pIdentifier,i.Equal,r.seq(r.alt(e.pIdentifier,e.pString).many(),r.alt(e.pOptionList,u(e.pIdentifier.many())).fallback(null))).desc("option")},pComparsionOp:function(){return r.regex(/IS|IS[^\S\r\n]+NOT|=|<>|!=|>|>=|!>|<|<=|!</i).skip(s).desc("comparsion operator")},pConst:function(e){return r.alt(e.pString,e.pUnicode,e.pBinary,e.pScience,e.pMoney,e.pSigned,e.pNumber).desc("constant")},pFunction:function(e){return r.seq(e.pIdentifier,u(e.pFunctionParam,!0)).map((function(e){return"".concat(e[0],"(").concat(e[1].join(","),")")})).thru(a("function")).desc("function constant")},pFunctionParam:function(e){return r.alt(e.pNumber,e.pIdentifier).desc("identifier or number paremeter")},pMoney:function(e){return r.seq(r.regexp(/[+-]\$/),e.pNumber).thru(a("money")).desc("money constant")},pSigned:function(e){return r.seq(r.regexp(/[+-]/),e.pNumber).thru(a("signed")).desc("signed constant")},pUnicode:function(e){return r.seq(r.string("N"),e.pString).thru(a("unicode")).desc("unicode constant")},pString:function(){return r.regexp(/'[^']*'/).thru(a("string")).map((function(e){var t=e.value;return e.value=t.slice(1,t.length-1),e})).desc("string constant")},pNumberList:function(e){return u(e.pNumber).desc("list of number")},pNumber:function(){return r.regexp(/[0-9]+(\.[0-9]+)?/).map(Number).thru(a("number")).desc("number constant")},pBinary:function(){return r.regexp(/0x[A-F0-9]*/).thru(a("binary")).desc("binary constant")},pScience:function(){return r.regexp(/[+-]+[0-9]+(\.[0-9E]+)?/).thru(a("science")).desc("science constant")},pIdentifier:function(e){return r.alt(e.pRegularIdentifier,e.pDelimitedIdentifier).skip(s).desc("identifier")},pDelimitedIdentifier:function(e){return r.alt(e.pDQDelimitedIdentifier,e.pBracketDelimitedIdentifier).skip(s).desc("delimited identifier")},pRegularIdentifier:function(){return r.regexp(/^[\w@#][\w@#$]*/).skip(s)},pDQDelimitedIdentifier:function(){return r.seq(r.string('"'),r.regexp(/[^"]*/),r.string('"')).map((function(e){return e[1]})).skip(s)},pBracketDelimitedIdentifier:function(){return r.seq(r.string("["),r.regexp(/[^\]]*/),r.string("]")).map((function(e){return e[1]})).skip(s)},pKeywordPKOrUnique:function(){return r.alt(i.KeywordPrimaryKey.result({type:"pk",value:!0}),i.KeywordUnique.result({type:"unique",value:!0}))},pKeywordClusteredOrNon:function(){return r.alt(i.KeywordClustered,i.KeywordNonclustered)},pKeywordAscOrDesc:function(){return r.alt(i.KeywordAsc,i.KeywordDesc)}});e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(1),u=n(2),a=u.LParen,i=u.RParen,s=u.Comma,c=n(9);t.makeNode=function(){return function(e){return o.seqMap(o.index,e,o.index,(function(t,n,o){return n?("object"!==r(n.value)&&(n.value={value:n.value}),n.value.token={start:t,end:o},n):e})).skip(c)}},t.makeList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.sepBy1(s);return t&&(n=e.sepBy(s)),o.seq(a,n,i).map((function(e){return e[1]}))},t.streamline=function(e){return function(t){return t.skip(c).map((function(t){return 0===t||t||(t=""),{type:e,value:t}}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_GROUP=t.REF=t.ENUM=t.TABLE=t.DEFAULT_SCHEMA_NAME=void 0;t.DEFAULT_SCHEMA_NAME="public";t.TABLE="table";t.ENUM="enum";t.REF="ref";t.TABLE_GROUP="table_group"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPrintSchema=function(e){return e.name!==r.DEFAULT_SCHEMA_NAME||e.name===r.DEFAULT_SCHEMA_NAME&&e.database.hasDefaultSchema};var r=n(6)},function(e,t,n){e.exports=function(){var e=[],t=[],n={},r={},o={};function u(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function i(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function s(e,t){return e.replace(t[0],(function(n,r){var o=i(t[1],arguments);return a(""===n?e[r-1]:n,o)}))}function c(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var o=r.length;o--;){var u=r[o];if(u[0].test(t))return s(t,u)}return t}function l(e,t,n){return function(r){var o=r.toLowerCase();return t.hasOwnProperty(o)?a(r,o):e.hasOwnProperty(o)?a(r,e[o]):c(o,r,n)}}function f(e,t,n,r){return function(r){var o=r.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&c(o,o,n)===o}}function p(e,t,n){return(n?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=l(o,r,e),p.isPlural=f(o,r,e),p.singular=l(r,o,t),p.isSingular=f(r,o,t),p.addPluralRule=function(t,n){e.push([u(t),n])},p.addSingularRule=function(e,n){t.push([u(e),n])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}()},function(e,t,n){"use strict";var r=n(1),o=r.createLanguage({WhiteSpaces:function(e){return r.alt(e.WhiteSpace,e.InlineComment,e.MulLineComment).many().desc("whitespaces or comments")},WhiteSpace:function(){return r.regexp(/\s/).desc("whitespaces")},InlineComment:function(){return r.seq(r.string("--"),r.regexp(/[^\n\r]*/)).desc("comments")},MulLineComment:function(){return r.regexp(/\/\*[\s\S]+?\*\//).desc("comments")}});e.exports=o.WhiteSpaces},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(4),a=u.pIdentifier,i=u.pKeywordClusteredOrNon,s=u.pFunction,c=u.pOptionList,l=u.pColumnNames,f=u.pKeywordPKOrUnique,p=u.pOption,d=n(5).makeNode,h=n(56),v=r.createLanguage({TableIndex:function(e){return r.seqMap(o.KeywordIndex,a,o.KeywordUnique.fallback(null),i.fallback(null),o.KeywordColumnStore.fallback(null),l,h.makeTableIndex).thru(d()).skip(e.IgnoredIndexOptions)},TableConstraintIndex:function(e){return r.seqMap(f,i.fallback(null),l,h.makeTableConstraintIndex).thru(d()).skip(e.IgnoredIndexOptions)},ColumnConstraintIndex:function(e){return r.seq(f).skip(e.IgnoredIndexOptions).map((function(e){return e[0]}))},ColumnIndex:function(e){return r.seqMap(o.KeywordIndex,a,h.makeColumnIndex).thru(d()).skip(e.IgnoredIndexOptions)},IgnoredIndexOptions:function(e){return r.alt(i,e.IgnoredIndexOption).many()},IgnoredIndexOption:function(e){return r.alt(e.WithIndexOption,e.ColumnIndexFilestream,e.OnIndexOption,e.WithFillFactorOption)},WithIndexOption:function(){return r.seq(o.KeywordWith,c)},WithFillFactorOption:function(){return r.seq(o.KeywordWith,p)},OnIndexOption:function(){return r.seq(o.KeywordOn,r.alt(a,s))},ColumnIndexFilestream:function(){return r.seq(o.KeywordFilestream_On,a)}});e.exports={pColumnIndex:v.ColumnIndex,pIgnoredIndexOption:v.IgnoredIndexOption,pTableIndex:v.TableIndex,pColumnConstraintIndex:v.ColumnConstraintIndex,pTableConstraintIndex:v.TableConstraintIndex}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasWhiteSpace=function(e){return/\s/g.test(e)},t.shouldPrintSchema=function(e,t){return e.name!==r.DEFAULT_SCHEMA_NAME||e.name===r.DEFAULT_SCHEMA_NAME&&t.database[1].hasDefaultSchema};var r=n(6)},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(22),a=n(4),i=a.pIdentifier,s=a.pConst,c=a.pFunction,l=n(5),f=l.makeList,p=l.streamline,d=l.makeNode,h=n(23),v=h.pColumnConstraintFK,b=h.pTableConstraintFK,m=n(10),y=m.pColumnConstraintIndex,g=m.pTableConstraintIndex,w=n(57),_=r.createLanguage({TableConstraint:function(e){return r.seqMap(e.ConstraintName.fallback(null),e.TableConstraintOption,w.makeTableConstraint).thru(d())},TableConstraintOption:function(e){return r.alt(b,g,e.ConstraintCheck)},ColumnConstraint:function(e){return r.seq(e.ConstraintName.fallback(null),e.ColumnConstraintOption).map((function(e){return e[1]}))},ColumnConstraintOption:function(e){return r.alt(y,v,e.ConstraintCheck,e.ConstraintDefault)},ConstraintCheck:function(e){return r.seq(o.KeywordCheck,o.KeywordNFR.fallback(null),e.ConstraintCheckExpr).map((function(e){return e[2]}))},ConstraintCheckExpr:function(e){return r.alt(r.seq(o.LParen.fallback(null),e.ConstraintCheckEnum,o.RParen.fallback(null)).map((function(e){return e[1]})),u.thru(p("expression")))},ConstraintCheckEnum:function(){return r.seqMap(i,o.LogicalOpIn,f(s.thru(d())),w.makeConstraintCheckEnum).thru(d())},ConstraintDefault:function(e){return r.seqMap(o.KeywordDefault,e.ConstExpr,w.makeDefaultConstraint)},ConstExpr:function(){return r.seq(o.LParen.fallback(null),r.alt(c,s,o.KeywordNull.thru(p("boolean"))),o.RParen.fallback(null)).map((function(e){return e[1]}))},ConstraintName:function(){return r.seq(o.KeywordConstraint,i).map((function(e){return e[1]}))}});e.exports={pColumnConstraint:_.ColumnConstraint,pTableConstraint:_.TableConstraint,pConstraintCheck:_.ConstraintCheck,pConstraintName:_.ConstraintName,pConstExpr:_.ConstExpr,makeTableConstraint:w.makeTableConstraint}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(27),u=n(66);!function(e){e.postgres="PostgreSQL",e.mysql="MySQL",e.mssql="SQL Server"}(t.Dialect||(t.Dialect={})),t.activate=function(e){const t=new o.default,n=new u.default,a=r.commands.registerCommand("vscode-dbml.export",()=>t.export()),i=r.commands.registerCommand("vscode-dbml.import",()=>n.import());e.subscriptions.push(a,i)},t.deactivate=function(){}},function(e,t){e.exports=require("vscode")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(28)),o=s(n(30)),u=s(n(31)),a=s(n(32)),i=s(n(33));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,s=[{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s="",c=n?e:e.normalize();switch(t){case"dbml":s=r.default.export(c);break;case"mysql":s=o.default.export(c);break;case"postgres":s=u.default.export(c);break;case"json":s=a.default.export(e,n);break;case"mssql":s=i.default.export(c)}return s}}],(n=null)&&c(t.prototype,n),s&&c(t,s),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(34)),o=c(n(42)),u=c(n(43)),a=c(n(44)),i=c(n(45)),s=c(n(46));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,c=[{key:"parseJSONToDatabase",value:function(e){return new r.default(e)}},{key:"parseMySQLToJSON",value:function(e){return o.default.parse(e)}},{key:"parsePostgresToJSON",value:function(e){return u.default.parse(e)}},{key:"parseDBMLToJSON",value:function(e){return a.default.parse(e)}},{key:"parseSchemaRbToJSON",value:function(e){return i.default.parse(e)}},{key:"parseMSSQLToJSON",value:function(e){return s.default.parseWithPegError(e)}},{key:"parse",value:function(t,n){var r={};switch(n){case"mysql":r=e.parseMySQLToJSON(t);break;case"postgres":r=e.parsePostgresToJSON(t);break;case"dbml":r=e.parseDBMLToJSON(t);break;case"schemarb":r=e.parseSchemaRbToJSON(t);break;case"mssql":r=e.parseMSSQLToJSON(t);break;case"json":r="object"===l(t)?t:JSON.parse(t)}return e.parseJSONToDatabase(r)}}],(n=null)&&f(t.prototype,n),c&&f(t,c),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ModelExporter",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"importer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"exporter",{enumerable:!0,get:function(){return a.default}});var r=i(n(15)),o=i(n(16)),u=i(n(64)),a=i(n(65));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(3)),o=s(n(36)),u=s(n(37)),a=n(6),i=n(7);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.name,o=n.alias,u=n.note,a=n.fields,i=void 0===a?[]:a,s=n.indexes,c=void 0===s?[]:s,l=n.schema,f=void 0===l?{}:l,p=n.token,h=n.headerColor;return d(this,t),(e=v(this,b(t).call(this,p))).name=r,e.alias=o,e.note=u,e.headerColor=h,e.fields=[],e.indexes=[],e.schema=f,e.dbState=e.schema.dbState,e.generateId(),e.processFields(i),e.processIndexes(c),e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("tableId")}},{key:"processFields",value:function(e){var t=this;0===e.length&&this.error("Table must have at least one field"),e.forEach((function(e){t.pushField(new o.default(f({},e,{table:t})))}))}},{key:"pushField",value:function(e){this.checkField(e),this.fields.push(e)}},{key:"checkField",value:function(e){this.fields.some((function(t){return t.name===e.name}))&&e.error('Field "'.concat(e.name,'" existed in table ').concat((0,i.shouldPrintSchema)(this.schema)?'"'.concat(this.schema.name,'".'):"",'"').concat(this.name,'"'))}},{key:"processIndexes",value:function(e){var t=this;e.forEach((function(e){t.pushIndex(new u.default(f({},e,{table:t})))}))}},{key:"pushIndex",value:function(e){this.checkIndex(e),this.indexes.push(e)}},{key:"checkIndex",value:function(e){var t=this;e.columns.forEach((function(n){"column"!==n.type||t.findField(n.value)||e.error('Column "'.concat(n.value,'" do not exist in table ').concat((0,i.shouldPrintSchema)(t.schema)?'"'.concat(t.schema.name,'".'):"",'"').concat(t.name,'"'))}))}},{key:"findField",value:function(e){return this.fields.find((function(t){return t.name===e}))}},{key:"checkSameId",value:function(e){return this.schema.checkSameId(e.schemaName||a.DEFAULT_SCHEMA_NAME)&&(this.name===e.name||this.alias===e.name||this.name===e.alias||this.alias&&this.alias===e.alias)}},{key:"export",value:function(){return f({},this.shallowExport(),{},this.exportChild())}},{key:"exportChild",value:function(){return{fields:this.fields.map((function(e){return e.export()})),indexes:this.indexes.map((function(e){return e.export()}))}}},{key:"exportChildIds",value:function(){return{fieldIds:this.fields.map((function(e){return e.id})),indexIds:this.indexes.map((function(e){return e.id}))}}},{key:"exportParentIds",value:function(){return{schemaId:this.schema.id,groupId:this.group?this.group.id:null}}},{key:"shallowExport",value:function(){return{name:this.name,alias:this.alias,note:this.note,headerColor:this.headerColor}}},{key:"normalize",value:function(e){e.tables=f({},e.tables,p({},this.id,f({id:this.id},this.shallowExport(),{},this.exportChildIds(),{},this.exportParentIds()))),this.fields.forEach((function(t){return t.normalize(e)})),this.indexes.forEach((function(t){return t.normalize(e)}))}}])&&h(n.prototype,r),s&&h(n,s),t}(r.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(3)),o=a(n(39)),u=n(7);function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.name,o=n.token,u=n.values,a=n.note,i=n.schema;return f(this,t),e=d(this,h(t).call(this,o)),r||e.error("Enum must have a name"),e.name=r,e.note=a,e.values=[],e.fields=[],e.schema=i,e.dbState=e.schema.dbState,e.generateId(),e.processValues(u),e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("enumId")}},{key:"processValues",value:function(e){var t=this;e.forEach((function(e){t.pushValue(new o.default(c({},e,{_enum:t})))}))}},{key:"pushValue",value:function(e){this.checkValue(e),this.values.push(e)}},{key:"checkValue",value:function(e){this.values.some((function(t){return t.name===e.name}))&&e.error('Enum value "'.concat(e.name,'" existed in enum ').concat((0,u.shouldPrintSchema)(this.schema)?'"'.concat(this.schema.name,'".'):"",'"').concat(this.name,'"'))}},{key:"pushField",value:function(e){this.checkField(e),this.fields.push(e)}},{key:"checkField",value:function(e){this.fields.some((function(t){return t.id===e.id}))&&this.error("Field ".concat((0,u.shouldPrintSchema)(e.table.schema)?'"'.concat(e.table.schema.name,'".'):"",'"').concat(e.table.name,'"."').concat(e.name,'" already associated with enum ').concat((0,u.shouldPrintSchema)(this.schema)?'"'.concat(this.schema.name,'".'):"").concat(this.name,'"'))}},{key:"export",value:function(){return c({},this.shallowExport(),{},this.exportChild())}},{key:"exportChild",value:function(){return{values:this.values.map((function(e){return e.export()}))}}},{key:"exportChildIds",value:function(){return{valueIds:this.values.map((function(e){return e.id})),fieldIds:this.fields.map((function(e){return e.id}))}}},{key:"exportParentIds",value:function(){return{schemaId:this.schema.id}}},{key:"shallowExport",value:function(){return{name:this.name,note:this.note}}},{key:"normalize",value:function(e){e.enums=c({},e.enums,l({},this.id,c({id:this.id},this.shallowExport(),{},this.exportChildIds(),{},this.exportParentIds()))),this.values.forEach((function(t){return t.normalize(e)}))}}])&&p(n.prototype,r),a&&p(n,a),t}(r.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r},u=n(7);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n,r=e.name,o=e.token,u=e.tables,a=void 0===u?[]:u,i=e.schema,s=void 0===i?{}:i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,p(t).call(this,o))).name=r,n.tables=[],n.schema=s,n.dbState=n.schema.dbState,n.generateId(),n.processTables(a),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("tableGroupId")}},{key:"processTables",value:function(e){var t=this;e.forEach((function(e){var n=t.schema.database.findTable(e);n||t.error("Table ".concat(e.schemaName?'"'.concat(e.schemaName,'".'):"").concat(e.name," don't exist")),t.pushTable(n)}))}},{key:"pushTable",value:function(e){this.checkTable(e),this.tables.push(e),e.group=this}},{key:"checkTable",value:function(e){this.tables.some((function(t){return t.id===e.id}))&&this.error("Table ".concat((0,u.shouldPrintSchema)(e.schema)?'"'.concat(e.schema.name,'".'):"",".").concat(e.name," is already in the group")),e.group&&this.error("Table ".concat((0,u.shouldPrintSchema)(e.schema)?'"'.concat(e.schema.name,'".'):"",".").concat(e.name," is already in group ").concat((0,u.shouldPrintSchema)(e.group.schema)?'"'.concat(e.group.schema.name,'".'):"").concat(e.group.name))}},{key:"export",value:function(){return s({},this.shallowExport(),{},this.exportChild())}},{key:"exportChild",value:function(){return{tables:this.tables.map((function(e){return{tableName:e.name,schemaName:e.schema.name}}))}}},{key:"exportChildIds",value:function(){return{tableIds:this.tables.map((function(e){return e.id}))}}},{key:"exportParentIds",value:function(){return{schemaId:this.schema.id}}},{key:"shallowExport",value:function(){return{name:this.name}}},{key:"normalize",value:function(e){e.tableGroups=s({},e.tableGroups,c({},this.id,s({id:this.id},this.shallowExport(),{},this.exportChildIds(),{},this.exportParentIds())))}}])&&l(n.prototype,r),o&&l(n,o),t}(o.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(3)),o=a(n(40)),u=n(6);function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return e[0].equals(t[0])&&e[1].equals(t[1])}var m=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.name,o=n.endpoints,u=n.onDelete,a=n.onUpdate,i=n.token,s=n.schema,c=void 0===s?{}:s;return f(this,t),(e=d(this,h(t).call(this,i))).name=r,e.onDelete=u,e.onUpdate=a,e.endpoints=[],e.schema=c,e.dbState=e.schema.dbState,e.generateId(),e.processEndpoints(o),e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("refId")}},{key:"processEndpoints",value:function(e){var t=this;e.forEach((function(e){t.endpoints.push(new o.default(c({},e,{ref:t}))),e.schemaName===u.DEFAULT_SCHEMA_NAME&&(t.database.hasDefaultSchema=!0)})),this.endpoints[0].equals(this.endpoints[1])&&this.error("Two endpoints are the same"),this.endpoints[0].fields.length!==this.endpoints[1].fields.length&&this.error("Two endpoints have unequal number of fields")}},{key:"equals",value:function(e){return b(this.endpoints,e.endpoints)||b(this.endpoints,e.endpoints.slice().reverse())}},{key:"export",value:function(){return c({},this.shallowExport(),{},this.exportChild())}},{key:"shallowExport",value:function(){return{name:this.name,onDelete:this.onDelete,onUpdate:this.onUpdate}}},{key:"exportChild",value:function(){return{endpoints:this.endpoints.map((function(e){return e.export()}))}}},{key:"exportChildIds",value:function(){return{endpointIds:this.endpoints.map((function(e){return e.id}))}}},{key:"exportParentIds",value:function(){return{schemaId:this.schema.id}}},{key:"normalize",value:function(e){e.refs=c({},e.refs,l({},this.id,c({id:this.id},this.shallowExport(),{},this.exportChildIds(),{},this.exportParentIds()))),this.endpoints.forEach((function(t){return t.normalize(e)}))}}])&&p(n.prototype,r),a&&p(n,a),t}(r.default);t.default=m},function(e,t,n){"use strict";var r=n(1),o=n(0),u=n(4),a=u.pFunction,i=u.pDotDelimitedName,s=u.pConst,c=n(2),l=c.LParen,f=c.RParen,p=n(9),d=n(5).streamline;function h(e){return e.many().map((function(e){return e.join("")})).fallback(null).thru(d("token"))}function v(e){return r.alt(function(e){var t=f.thru(h),n=l.thru(h);return r.seq(n,e,t)}(e),e)}var b=r.createLanguage({ExpressionFinal:function(e){return e.Expression.map((function(e){return o.flattenDeep(e).map((function(e){return e?e.value:""})).join("")}))},Expression:function(e){return v(r.seq(r.alt(e.UnaryExpression,e.SimpleExpression),e.BinaryExpressionLR.fallback(null)).skip(p))},UnaryExpression:function(e){var t=r.regex(/[+\-~]/).thru(d("unary_operator"));return v(r.seq(t,e.Expression).skip(p))},BinaryExpressionLR:function(e){var t=r.regexp(/[+\-*/%=!<>&^|]{1,2}/).map((function(e){return" ".concat(e," ")})).thru(d("binary_operator")).skip(p);return r.seq(t,e.Expression).skip(p)},SimpleExpression:function(e){return v(r.alt(a,s,e.ExpressionDDN).skip(p))},ExpressionDDN:function(){return i.map((function(e){return e.join(".")})).thru(d("identifier"))}});e.exports=b.ExpressionFinal},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(4),a=u.pDotDelimitedName,i=u.pIdentifier,s=u.pColumnNames,c=n(5),l=c.makeList,f=c.makeNode,p=n(55),d=r.createLanguage({TableConstraintFK:function(e){return r.seqMap(o.KeywordForeignKey.fallback(null),e.TableEndpoint,o.KeywordReferences,a,e.TableEndpoint.fallback(null),e.FKOptions.fallback(null),p.makeTableConstraintFK)},TableEndpoint:function(){return r.seqMap(s,p.makeTableEndpoint).thru(f())},ColumnConstraintFK:function(e){return r.seqMap(e.FKKeywords,a,l(i).fallback(null),e.FKOptions.fallback(null),p.makeColumnConstraintFK)},FKOptions:function(e){return r.alt(e.FKOnDelete,e.FKOnUpdate,e.FKNFR).many()},FKKeywords:function(){return r.seq(o.KeywordForeignKey.fallback(null),o.KeywordReferences)},FKOnDelete:function(e){return r.seqMap(o.KeywordOnDelete,e.FKOnOptions,p.makeOnSetting)},FKOnUpdate:function(e){return r.seqMap(o.KeywordOnUpdate,e.FKOnOptions,p.makeOnSetting)},FKNFR:function(){return o.KeywordNFR.map((function(e){return{type:e}}))},FKOnOptions:function(){return r.alt(o.KeywordNoAction,o.KeywordCascade,o.KeywordSetDefault,o.KeywordSetNull)}});e.exports={pColumnConstraintFK:d.ColumnConstraintFK,pTableConstraintFK:d.TableConstraintFK}},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(4),a=u.pDotDelimitedName,i=u.pIdentifier,s=u.pNumberList,c=u.pOptionList,l=n(5),f=l.makeNode,p=l.makeList,d=l.streamline,h=n(10).pColumnIndex,v=n(12).pColumnConstraint,b=n(22),m=n(58),y=r.createLanguage({ColumnsDefinition:function(e){return r.alt(e.ComputedColumnDefinition.result(null),e.ColumnSetDefinition.result(null),e.ColumnDefinition)},ColumnDefinition:function(e){return r.seqMap(a,e.DataType,r.alt(e.ColumnSetting,e.IgnoredColumnSetting.result(null)).many().fallback(null),m.makeColumn).thru(f())},ColumnSetDefinition:function(){return r.seq(i,o.KeywordColumnSet)},ComputedColumnDefinition:function(){return r.seq(i,o.KeywordAs,b,r.seq(o.KeywordPersisted,o.KeywordNotNull.fallback(null)).fallback(null),v.fallback(null))},ColumnSetting:function(e){return r.alt(e.NullOrNot,e.Identity,h,v)},IgnoredColumnSetting:function(e){return r.alt(e.ColumnSetting1Word,e.ColumnSettingWith,e.ColumnSettingGAAR,e.ColumnSettingCollate)},DataType:function(e){return r.seqMap(a,p(r.alt(e.DataTypeXML,i)).fallback(null),m.makeDataType)},DataTypeXML:function(){return r.seq(r.alt(o.KeywordDocument,o.KeywordContent),i).tieWith(" ")},NullOrNot:function(){return r.alt(o.KeywordNull.result(!1),o.KeywordNotNull.result(!0)).thru(d("not_null"))},Identity:function(){return o.KeywordIdentity.result(!0).skip(s.fallback(null)).thru(d("increment"))},ColumnSetting1Word:function(){return r.alt(o.KeywordFilestream,o.KeywordNFR,o.KeywordRowGUIDCol,o.KeywordSparse)},ColumnSettingWith:function(){return r.seq(r.alt(o.KeywordMasked,o.KeywordEncrypted),o.KeywordWith,c)},ColumnSettingCollate:function(){return r.seq(o.KeywordCollate,i)},ColumnSettingGAAR:function(){return r.seq(o.KeywordGeneratedAAR,r.alt(o.KeywordStart,o.KeywordEnd),o.KeywordHidden.fallback(null))}});e.exports={pIdentity:y.Identity,pColumnIndex:h,pColumnConstraint:v,pDataType:y.DataType,pColumnsDefinition:y.ColumnsDefinition}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function a(e){try{s(r.next(e))}catch(e){u(e)}}function i(e){try{s(r.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(14),u=n(17),a=n(25),i=n(26),s=n(13);t.default=class{export(){return r(this,void 0,void 0,(function*(){if(!o.window.activeTextEditor)return;const e=o.window.activeTextEditor.document.fileName,t=yield o.window.showQuickPick(Object.values(s.Dialect),{placeHolder:"Select an output dialect"});if(void 0===t)return;let n=yield o.window.showInputBox({prompt:"Enter an output file",value:this.getDefaultOutput(e)});if(void 0===n)return;if(!i.isAbsolute(n)){n=`${i.dirname(e)}/${n}`}const r=a.readFileSync(e,"utf-8");let c=void 0;switch(t){case s.Dialect.postgres:c=u.exporter.export(r,"postgres");break;case s.Dialect.mysql:c=u.exporter.export(r,"mysql");break;case s.Dialect.mssql:c=u.exporter.export(r,"mssql")}void 0!==c&&""!==c?(a.writeFileSync(n,c),o.window.showInformationMessage("Successfully generated "+n)):o.window.showErrorMessage("Failed to generated SQL file")}))}getDefaultOutput(e){return i.basename(e).replace(/\.dbml$/gi,"").concat(".sql")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},u=n(11);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"hasWhiteSpace",value:function(e){return/\s/g.test(e)}},{key:"isExpression",value:function(e){return/\s*(\*|\+|-|\([A-Za-z0-9_]+\)|\(\))/g.test(e)}},{key:"exportEnums",value:function(e,t){var n=e.map((function(e){var n=t.enums[e],r=t.schemas[n.schemaId];return"Enum ".concat((0,u.shouldPrintSchema)(r,t)?'"'.concat(r.name,'".'):"",'"').concat(n.name,'" {\n').concat(n.valueIds.map((function(e){return'  "'.concat(t.enumValues[e].name,'"').concat(t.enumValues[e].note?" [note: '".concat(t.enumValues[e].note,"']"):"")})).join("\n"),"\n}\n")}));return n.length?n.join("\n"):""}},{key:"getFieldLines",value:function(t,n){return n.tables[t].fieldIds.map((function(t){var r=n.fields[t],o='"'.concat(r.name,'" ').concat(e.hasWhiteSpace(r.type.type_name)?'"'.concat(r.type.type_name,'"'):r.type.type_name),u=[];if(r.unique&&u.push("unique"),r.pk&&u.push("pk"),r.not_null&&u.push("not null"),r.increment&&u.push("increment"),r.dbdefault){var a="default: ";switch(r.dbdefault.type){case"boolean":case"number":a+="".concat(r.dbdefault.value);break;case"string":a+='"'.concat(r.dbdefault.value,'"');break;case"expression":a+="`".concat(r.dbdefault.value,"`")}u.push(a)}return r.note&&u.push("note: '".concat(r.note,"'")),u.length>0&&(o+=" [".concat(u.join(", "),"]")),o}))}},{key:"getIndexLines",value:function(e,t){return t.tables[e].indexIds.map((function(e){var n="",r=t.indexes[e];if(r.columnIds.length>1)n="(".concat(r.columnIds.map((function(e){var n=t.indexColumns[e];return"expression"===n.type?"`".concat(n.value,"`"):n.value})).join(", "),")");else if(1===r.columnIds.length){var o=t.indexColumns[r.columnIds[0]];n="expression"===o.type?"`".concat(o.value,"`"):o.value}var u=[];return r.pk&&u.push("pk"),r.type&&u.push("type: ".concat(r.type.toLowerCase())),r.unique&&u.push("unique"),r.name&&u.push('name: "'.concat(r.name,'"')),u.length>1?n+=" [".concat(u.join(", "),"]"):1===u.length&&(n+=" [".concat(u[0],"]")),n}))}},{key:"getTableContentArr",value:function(t,n){return t.map((function(t){return{tableId:t,fieldContents:e.getFieldLines(t,n),indexContents:e.getIndexLines(t,n)}}))}},{key:"getTableSettings",value:function(e){var t="";return e.headerColor&&(t+="headerColor: ".concat(e.headerColor).concat(", ")),e.note&&(t+="note: '".concat(e.note,"'").concat(", ")),t.endsWith(", ")&&(t=t.replace(/,\s$/,"")),t?" [".concat(t,"]"):""}},{key:"exportTables",value:function(t,n){var r=this,a=e.getTableContentArr(t,n).map((function(e){var t=n.tables[e.tableId],a=n.schemas[t.schemaId],i=r.getTableSettings(t),s="";return o.default.isEmpty(e.indexContents)||(s="\nIndexes {\n".concat(e.indexContents.map((function(e){return"  ".concat(e)})).join("\n"),"\n}")),"Table ".concat((0,u.shouldPrintSchema)(a,n)?'"'.concat(a.name,'".'):"",'"').concat(t.name,'"').concat(i," {\n").concat(e.fieldContents.map((function(e){return"  ".concat(e)})).join("\n"),"\n").concat(s?"".concat(s,"\n"):"","}\n")}));return a.length?a.join("\n"):""}},{key:"buildFieldName",value:function(e,t){var n=e.map((function(e){return'"'.concat(t.fields[e].name,'"')})).join(", ");return 1===e.length?n:"(".concat(n,")")}},{key:"exportRefs",value:function(e,t){var n=this,r=e.map((function(e){var r=t.refs[e],o=r.endpointIds.findIndex((function(e){return"1"===t.endpoints[e].relation})),a=r.endpointIds[1-o],i=r.endpointIds[o],s=t.endpoints[a],c=t.endpoints[i],l="Ref",f=t.fields[c.fieldIds[0]],p=t.tables[f.tableId],d=t.schemas[p.schemaId],h=n.buildFieldName(c.fieldIds,t,"dbml");r.name&&(l+=" ".concat((0,u.shouldPrintSchema)(t.schemas[r.schemaId],t)?'"'.concat(t.schemas[r.schemaId].name,'".'):"",'"').concat(r.name,'"')),l+=":",l+="".concat((0,u.shouldPrintSchema)(d,t)?'"'.concat(d.name,'".'):"",'"').concat(p.name,'".').concat(h," ");var v=t.fields[s.fieldIds[0]],b=t.tables[v.tableId],m=t.schemas[b.schemaId],y=n.buildFieldName(s.fieldIds,t,"dbml");"1"===s.relation?l+="- ":l+="< ",l+="".concat((0,u.shouldPrintSchema)(m,t)?'"'.concat(m.name,'".'):"",'"').concat(b.name,'".').concat(y);var g=[];return r.onUpdate&&g.push("update: ".concat(r.onUpdate.toLowerCase())),r.onDelete&&g.push("delete: ".concat(r.onDelete.toLowerCase())),g.length>0&&(l+=" [".concat(g.join(", "),"]")),l+="\n"}));return r.length?r.join("\n"):""}},{key:"exportTableGroups",value:function(e,t){var n=e.map((function(e){var n=t.tableGroups[e],r=t.schemas[n.schemaId];return"TableGroup ".concat((0,u.shouldPrintSchema)(r,t)?'"'.concat(r.name,'".'):"",'"').concat(n.name,'" {\n').concat(n.tableIds.map((function(e){var n=t.tables[e],r=t.schemas[n.schemaId];return"  ".concat((0,u.shouldPrintSchema)(r,t)?'"'.concat(r.name,'".'):"",'"').concat(n.name,'"')})).join("\n"),"\n}\n")}));return n.length?n.join("\n"):""}},{key:"export",value:function(t){var n="",r=!1;return t.database[1].schemaIds.forEach((function(u){var a=t.schemas[u],i=a.enumIds,s=a.tableIds,c=a.tableGroupIds,l=a.refIds;o.default.isEmpty(i)||(r&&(n+="\n"),n+=e.exportEnums(i,t),r=!0),o.default.isEmpty(s)||(r&&(n+="\n"),n+=e.exportTables(s,t),r=!0),o.default.isEmpty(c)||(r&&(n+="\n"),n+=e.exportTableGroups(c,t),r=!0),o.default.isEmpty(l)||(r&&(n+="\n"),n+=e.exportRefs(l,t),r=!0)})),n}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},u=n(11);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getFieldLines",value:function(e,t){return t.tables[e].fieldIds.map((function(e){var n=t.fields[e],r="";if(n.enumId){var o=t.enums[n.enumId];r="`".concat(n.name,"` ENUM (");var u=o.valueIds.map((function(e){return"'".concat(t.enumValues[e].name,"'")}));r+="".concat(u.join(", "),")")}else r="`".concat(n.name,"` ").concat("varchar"!==n.type.type_name?n.type.type_name:"varchar(255)");return n.unique&&(r+=" UNIQUE"),n.pk&&(r+=" PRIMARY KEY"),n.not_null&&(r+=" NOT NULL"),n.increment&&(r+=" AUTO_INCREMENT"),n.dbdefault&&("expression"===n.dbdefault.type?r+=" DEFAULT (".concat(n.dbdefault.value,")"):"string"===n.dbdefault.type?r+=' DEFAULT "'.concat(n.dbdefault.value,'"'):r+=" DEFAULT ".concat(n.dbdefault.value)),n.note&&(r+=" COMMENT '".concat(n.note.replace(/'/g,"\\'"),"'")),r}))}},{key:"getCompositePKs",value:function(e,t){var n=t.tables[e];return(n.indexIds?n.indexIds.filter((function(e){return t.indexes[e].pk})):[]).map((function(e){var n=t.indexes[e],r="PRIMARY KEY",o=[];return n.columnIds.forEach((function(e){var n=t.indexColumns[e],r="";r="expression"===n.type?"(".concat(n.value,")"):"`".concat(n.value,"`"),o.push(r)})),r+=" (".concat(o.join(", "),")")}))}},{key:"getTableContentArr",value:function(t,n){return t.map((function(t){return{tableId:t,fieldContents:e.getFieldLines(t,n),compositePKs:e.getCompositePKs(t,n)}}))}},{key:"exportTables",value:function(t,n){var r=e.getTableContentArr(t,n).map((function(e){var t=[].concat(a(e.fieldContents),a(e.compositePKs)),r=n.tables[e.tableId],o=n.schemas[r.schemaId];return"CREATE TABLE ".concat((0,u.shouldPrintSchema)(o,n)?"`".concat(o.name,"`."):"","`").concat(r.name,"` (\n").concat(t.map((function(e){return"  ".concat(e)})).join(",\n"),"\n);\n")}));return r.length?r.join("\n"):""}},{key:"buildFieldName",value:function(e,t){var n=e.map((function(e){return"`".concat(t.fields[e].name,"`")})).join(", ");return"(".concat(n,")")}},{key:"exportRefs",value:function(e,t){var n=this,r=e.map((function(e){var r=t.refs[e],o=r.endpointIds.findIndex((function(e){return"1"===t.endpoints[e].relation})),a=r.endpointIds[1-o],i=r.endpointIds[o],s=t.endpoints[a],c=t.endpoints[i],l=t.fields[c.fieldIds[0]],f=t.tables[l.tableId],p=t.schemas[f.schemaId],d=n.buildFieldName(c.fieldIds,t,"mysql"),h=t.fields[s.fieldIds[0]],v=t.tables[h.tableId],b=t.schemas[v.schemaId],m=n.buildFieldName(s.fieldIds,t,"mysql"),y="ALTER TABLE ".concat((0,u.shouldPrintSchema)(b,t)?"`".concat(b.name,"`."):"","`").concat(v.name,"` ADD ");return r.name&&(y+="CONSTRAINT `".concat(r.name,"` ")),y+="FOREIGN KEY ".concat(m," REFERENCES ").concat((0,u.shouldPrintSchema)(p,t)?"`".concat(p.name,"`."):"","`").concat(f.name,"` ").concat(d),r.onDelete&&(y+=" ON DELETE ".concat(r.onDelete.toUpperCase())),r.onUpdate&&(y+=" ON UPDATE ".concat(r.onUpdate.toUpperCase())),y+=";\n"}));return r.length?r.join("\n"):""}},{key:"exportIndexes",value:function(e,t){var n=e.filter((function(e){return!t.indexes[e].pk})).map((function(e,n){var r=t.indexes[e],o=t.tables[r.tableId],a=t.schemas[o.schemaId],i="CREATE";r.unique&&(i+=" UNIQUE");var s=r.name?"`".concat(r.name,"`"):"`".concat((0,u.shouldPrintSchema)(a,t)?"`".concat(a.name,"`."):"").concat(o.name,"_index_").concat(n,"`");i+=" INDEX ".concat(s," ON ").concat((0,u.shouldPrintSchema)(a,t)?"`".concat(a.name,"`."):"","`").concat(o.name,"`");var c=[];return r.columnIds.forEach((function(e){var n=t.indexColumns[e],r="";r="expression"===n.type?"(".concat(n.value,")"):"`".concat(n.value,"`"),c.push(r)})),i+=" (".concat(c.join(", "),")"),r.type&&(i+=" USING ".concat(r.type.toUpperCase())),i+=";\n"}));return n.length?n.join("\n"):""}},{key:"exportComments",value:function(e,t){var n=e.map((function(e){var n="";if("table"===e.type){var r=t.tables[e.tableId];n+="ALTER TABLE `".concat(r.name,"` COMMENT = '").concat(r.note.replace(/'/g,"\\'"),"'")}return n+=";\n"}));return n.length?n.join("\n"):""}},{key:"export",value:function(t){var n="",r=!1,i=t.database[1],s=[],c=[];return i.schemaIds.forEach((function(i){var l=t.schemas[i],f=l.tableIds,p=l.refIds;(0,u.shouldPrintSchema)(l,t)&&(r&&(n+="\n"),n+="CREATE DATABASE `".concat(l.name,"`;\n"),r=!0),o.default.isEmpty(f)||(r&&(n+="\n"),n+=e.exportTables(f,t),r=!0),o.default.isEmpty(p)||(r&&(n+="\n"),n+=e.exportRefs(p,t),r=!0),s.push.apply(s,a(o.default.flatten(f.map((function(e){return t.tables[e].indexIds}))))),c.push.apply(c,a(o.default.flatten(f.map((function(e){return t.tables[e].note?[{type:"table",tableId:e}]:[]})))))})),o.default.isEmpty(s)||(r&&(n+="\n"),n+=e.exportIndexes(s,t),r=!0),o.default.isEmpty(c)||(r&&(n+="\n"),n+=e.exportComments(c,t),r=!0),n}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},u=n(11);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"exportEnums",value:function(e,t){var n=e.map((function(e){var n=t.enums[e],r=t.schemas[n.schemaId],o=n.valueIds.map((function(e){var n=t.enumValues[e];return"  '".concat(n.name,"'")})).join(",\n");return"CREATE TYPE ".concat((0,u.shouldPrintSchema)(r,t)?'"'.concat(r.name,'".'):"",'"').concat(n.name,'" AS ENUM (\n').concat(o,"\n);\n")}));return n.length?n.join("\n"):""}},{key:"getFieldLines",value:function(e,t){return t.tables[e].fieldIds.map((function(e){var n=t.fields[e],r="";if(n.increment){var o="bigint"===n.type.type_name?"BIGSERIAL":"SERIAL";r='"'.concat(n.name,'" ').concat(o)}else r=(0,u.hasWhiteSpace)(n.type.type_name)?'"'.concat(n.name,'" "').concat(n.type.type_name,'"'):'"'.concat(n.name,'" ').concat(n.type.type_name);return n.unique&&(r+=" UNIQUE"),n.pk&&(r+=" PRIMARY KEY"),n.not_null&&(r+=" NOT NULL"),n.dbdefault&&("expression"===n.dbdefault.type?r+=" DEFAULT (".concat(n.dbdefault.value,")"):"string"===n.dbdefault.type?r+=" DEFAULT '".concat(n.dbdefault.value,"'"):r+=" DEFAULT ".concat(n.dbdefault.value)),r}))}},{key:"getCompositePKs",value:function(e,t){var n=t.tables[e];return(n.indexIds?n.indexIds.filter((function(e){return t.indexes[e].pk})):[]).map((function(e){var n=t.indexes[e],r="PRIMARY KEY",o=[];return n.columnIds.forEach((function(e){var n=t.indexColumns[e],r="";r="expression"===n.type?"(".concat(n.value,")"):'"'.concat(n.value,'"'),o.push(r)})),r+=" (".concat(o.join(", "),")")}))}},{key:"getTableContentArr",value:function(t,n){return t.map((function(t){return{tableId:t,fieldContents:e.getFieldLines(t,n),compositePKs:e.getCompositePKs(t,n)}}))}},{key:"exportTables",value:function(t,n){var r=e.getTableContentArr(t,n).map((function(e){var t=[].concat(a(e.fieldContents),a(e.compositePKs)),r=n.tables[e.tableId],o=n.schemas[r.schemaId];return"CREATE TABLE ".concat((0,u.shouldPrintSchema)(o,n)?'"'.concat(o.name,'".'):"",'"').concat(r.name,'" (\n').concat(t.map((function(e){return"  ".concat(e)})).join(",\n"),"\n);\n")}));return r.length?r.join("\n"):""}},{key:"buildFieldName",value:function(e,t){var n=e.map((function(e){return'"'.concat(t.fields[e].name,'"')})).join(", ");return"(".concat(n,")")}},{key:"exportRefs",value:function(e,t){var n=this,r=e.map((function(e){var r=t.refs[e],o=r.endpointIds.findIndex((function(e){return"1"===t.endpoints[e].relation})),a=r.endpointIds[1-o],i=r.endpointIds[o],s=t.endpoints[a],c=t.endpoints[i],l=t.fields[c.fieldIds[0]],f=t.tables[l.tableId],p=t.schemas[f.schemaId],d=n.buildFieldName(c.fieldIds,t,"postgres"),h=t.fields[s.fieldIds[0]],v=t.tables[h.tableId],b=t.schemas[v.schemaId],m=n.buildFieldName(s.fieldIds,t,"postgres"),y="ALTER TABLE ".concat((0,u.shouldPrintSchema)(b,t)?'"'.concat(b.name,'".'):"",'"').concat(v.name,'" ADD ');return r.name&&(y+='CONSTRAINT "'.concat(r.name,'" ')),y+="FOREIGN KEY ".concat(m," REFERENCES ").concat((0,u.shouldPrintSchema)(p,t)?'"'.concat(p.name,'".'):"",'"').concat(f.name,'" ').concat(d),r.onDelete&&(y+=" ON DELETE ".concat(r.onDelete.toUpperCase())),r.onUpdate&&(y+=" ON UPDATE ".concat(r.onUpdate.toUpperCase())),y+=";\n"}));return r.length?r.join("\n"):""}},{key:"exportIndexes",value:function(e,t){var n=e.filter((function(e){return!t.indexes[e].pk})).map((function(e){var n=t.indexes[e],r=t.tables[n.tableId],o=t.schemas[r.schemaId],a="CREATE";n.unique&&(a+=" UNIQUE");var i=n.name?'"'.concat(n.name,'"'):"";a+=" INDEX",i&&(a+=" ".concat(i)),a+=" ON ".concat((0,u.shouldPrintSchema)(o,t)?'"'.concat(o.name,'".'):"",'"').concat(r.name,'"'),n.type&&(a+=" USING ".concat(n.type.toUpperCase()));var s=[];return n.columnIds.forEach((function(e){var n=t.indexColumns[e],r="";r="expression"===n.type?"(".concat(n.value,")"):'"'.concat(n.value,'"'),s.push(r)})),a+=" (".concat(s.join(", "),")"),a+=";\n"}));return n.length?n.join("\n"):""}},{key:"exportComments",value:function(e,t){var n=e.map((function(e){var n="COMMENT ON",r=t.tables[e.tableId],o=t.schemas[r.schemaId];switch(e.type){case"table":n+=" TABLE ".concat((0,u.shouldPrintSchema)(o,t)?'"'.concat(o.name,'".'):"",'"').concat(r.name,"\" IS '").concat(r.note.replace(/'/g,'"'),"'");break;case"column":var a=t.fields[e.fieldId];n+=" COLUMN ".concat((0,u.shouldPrintSchema)(o,t)?'"'.concat(o.name,'".'):"",'"').concat(r.name,'"."').concat(a.name,"\" IS '").concat(a.note.replace(/'/g,'"'),"'")}return n+=";\n"}));return n.length?n.join("\n"):""}},{key:"export",value:function(t){var n="",r=!1,i=t.database[1],s=[],c=[];return i.schemaIds.forEach((function(i){var l=t.schemas[i],f=l.tableIds,p=l.enumIds,d=l.refIds;(0,u.shouldPrintSchema)(l,t)&&(r&&(n+="\n"),n+='CREATE SCHEMA "'.concat(l.name,'";\n'),r=!0),o.default.isEmpty(p)||(r&&(n+="\n"),n+=e.exportEnums(p,t),r=!0),o.default.isEmpty(f)||(r&&(n+="\n"),n+=e.exportTables(f,t),r=!0),o.default.isEmpty(d)||(r&&(n+="\n"),n+=e.exportRefs(d,t),r=!0),s.push.apply(s,a(o.default.flatten(f.map((function(e){return t.tables[e].indexIds}))))),c.push.apply(c,a(o.default.flatten(f.map((function(e){var n=t.tables[e],r=n.fieldIds,o=n.note,u=r.filter((function(e){return t.fields[e].note})).map((function(t){return{type:"column",fieldId:t,tableId:e}}));return o?[{type:"table",tableId:e}].concat(u):u})))))})),o.default.isEmpty(s)||(r&&(n+="\n"),n+=e.exportIndexes(s,t),r=!0),o.default.isEmpty(c)||(r&&(n+="\n"),n+=e.exportComments(c,t),r=!0),n}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"export",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?JSON.stringify(e,null,2):JSON.stringify(e.export(),null,2)}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},u=n(11);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getFieldLines",value:function(e,t){return t.tables[e].fieldIds.map((function(e){var n=t.fields[e],r="";if(n.enumId){var o=t.enums[n.enumId];r="[".concat(n.name,"] nvarchar(255) NOT NULL CHECK ([").concat(n.name,"] IN (");var u=o.valueIds.map((function(e){var n=t.enumValues[e];return"'".concat(n.name,"'")}));r+="".concat(u.join(", "),"))")}else r="[".concat(n.name,"] ").concat("varchar"!==n.type.type_name?n.type.type_name:"nvarchar(255)");return n.unique&&(r+=" UNIQUE"),n.pk&&(r+=" PRIMARY KEY"),n.not_null&&(r+=" NOT NULL"),n.increment&&(r+=" IDENTITY(1, 1)"),n.dbdefault&&("expression"===n.dbdefault.type?r+=" DEFAULT (".concat(n.dbdefault.value,")"):"string"===n.dbdefault.type?r+=" DEFAULT '".concat(n.dbdefault.value,"'"):r+=" DEFAULT (".concat(n.dbdefault.value,")")),r}))}},{key:"getCompositePKs",value:function(e,t){var n=t.tables[e];return(n.indexIds?n.indexIds.filter((function(e){return t.indexes[e].pk})):[]).map((function(e){var n=t.indexes[e],r="PRIMARY KEY",o=[];return n.columnIds.forEach((function(e){var n=t.indexColumns[e],r="";r="expression"===n.type?"(".concat(n.value,")"):"[".concat(n.value,"]"),o.push(r)})),r+=" (".concat(o.join(", "),")")}))}},{key:"getTableContentArr",value:function(t,n){return t.map((function(t){return{tableId:t,fieldContents:e.getFieldLines(t,n),compositePKs:e.getCompositePKs(t,n)}}))}},{key:"exportTables",value:function(t,n){var r=e.getTableContentArr(t,n).map((function(e){var t=[].concat(a(e.fieldContents),a(e.compositePKs)),r=n.tables[e.tableId],o=n.schemas[r.schemaId];return"CREATE TABLE ".concat((0,u.shouldPrintSchema)(o,n)?"[".concat(o.name,"]."):"","[").concat(r.name,"] (\n").concat(t.map((function(e){return"  ".concat(e)})).join(",\n"),"\n)\nGO\n")}));return r.length?r.join("\n"):""}},{key:"buildFieldName",value:function(e,t){var n=e.map((function(e){return"[".concat(t.fields[e].name,"]")})).join(", ");return"(".concat(n,")")}},{key:"exportRefs",value:function(e,t){var n=this,r=e.map((function(e){var r=t.refs[e],o=r.endpointIds.findIndex((function(e){return"1"===t.endpoints[e].relation})),a=r.endpointIds[1-o],i=r.endpointIds[o],s=t.endpoints[a],c=t.endpoints[i],l=t.fields[c.fieldIds[0]],f=t.tables[l.tableId],p=t.schemas[f.schemaId],d=n.buildFieldName(c.fieldIds,t,"mssql"),h=t.fields[s.fieldIds[0]],v=t.tables[h.tableId],b=t.schemas[v.schemaId],m=n.buildFieldName(s.fieldIds,t,"mssql"),y="ALTER TABLE ".concat((0,u.shouldPrintSchema)(b,t)?"[".concat(b.name,"]."):"","[").concat(v.name,"] ADD ");return r.name&&(y+="CONSTRAINT [".concat(r.name,"] ")),y+="FOREIGN KEY ".concat(m," REFERENCES ").concat((0,u.shouldPrintSchema)(p,t)?"[".concat(p.name,"]."):"","[").concat(f.name,"] ").concat(d),r.onDelete&&(y+=" ON DELETE ".concat(r.onDelete.toUpperCase())),r.onUpdate&&(y+=" ON UPDATE ".concat(r.onUpdate.toUpperCase())),y+="\nGO\n"}));return r.length?r.join("\n"):""}},{key:"exportIndexes",value:function(e,t){var n=e.filter((function(e){return!t.indexes[e].pk})).map((function(e,n){var r=t.indexes[e],o=t.tables[r.tableId],a=t.schemas[o.schemaId],i="CREATE";r.unique&&(i+=" UNIQUE");var s=r.name?"[".concat(r.name,"]"):"".concat((0,u.shouldPrintSchema)(a,t)?"[".concat(a.name,"]."):"","[").concat(o.name,"_index_").concat(n,"]");i+=" INDEX ".concat(s," ON ").concat((0,u.shouldPrintSchema)(a,t)?"[".concat(a.name,"]."):"","[").concat(o.name,"]");var c=[];return r.columnIds.forEach((function(e){var n=t.indexColumns[e],r="";r="expression"===n.type?"(".concat(n.value,")"):'"'.concat(n.value,'"'),c.push(r)})),i+=" (".concat(c.join(", "),")"),i+="\nGO\n"}));return n.length?n.join("\n"):""}},{key:"exportComments",value:function(e,t){var n=e.map((function(e){var n=t.tables[e.tableId],r=t.schemas[n.schemaId],o="";switch(o="EXEC sp_addextendedproperty\n",e.type){case"table":o+="@name = N'Table_Description',\n",o+="@value = '".concat(n.note.replace(/'/g,'"'),"',\n"),o+="@level0type = N'Schema', @level0name = '".concat((0,u.shouldPrintSchema)(r,t)?"".concat(r.name):"dbo","',\n"),o+="@level1type = N'Table',  @level1name = '".concat(n.name,"';\n");break;case"column":var a=t.fields[e.fieldId];o+="@name = N'Column_Description',\n",o+="@value = '".concat(a.note.replace(/'/g,'"'),"',\n"),o+="@level0type = N'Schema', @level0name = '".concat((0,u.shouldPrintSchema)(r,t)?"".concat(r.name):"dbo","',\n"),o+="@level1type = N'Table',  @level1name = '".concat(n.name,"',\n"),o+="@level2type = N'Column', @level2name = '".concat(a.name,"';\n")}return o+="GO\n"}));return n.length?n.join("\n"):""}},{key:"export",value:function(t){var n="",r=!1,i=t.database[1],s=[],c=[];return i.schemaIds.forEach((function(i){var l=t.schemas[i],f=l.tableIds,p=l.refIds;(0,u.shouldPrintSchema)(l,t)&&(r&&(n+="\n"),n+="CREATE SCHEMA [".concat(l.name,"];\nGO\n"),r=!0),o.default.isEmpty(f)||(r&&(n+="\n"),n+=e.exportTables(f,t),r=!0),o.default.isEmpty(p)||(r&&(n+="\n"),n+=e.exportRefs(p,t),r=!0),s.push.apply(s,a(o.default.flatten(f.map((function(e){return t.tables[e].indexIds}))))),c.push.apply(c,a(o.default.flatten(f.map((function(e){var n=t.tables[e],r=n.fieldIds,o=n.note,u=r.filter((function(e){return t.fields[e].note})).map((function(t){return{type:"column",fieldId:t,tableId:e}}));return o?[{type:"table",tableId:e}].concat(u):u})))))})),o.default.isEmpty(s)||(r&&(n+="\n"),n+=e.exportIndexes(s,t),r=!0),o.default.isEmpty(c)||(r&&(n+="\n"),n+=e.exportComments(c,t),r=!0),n}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(0)),o=p(n(35)),u=p(n(21)),a=p(n(19)),i=p(n(20)),s=p(n(18)),c=p(n(3)),l=n(6),f=p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n,r=e.schemas,o=void 0===r?[]:r,u=e.tables,a=void 0===u?[]:u,i=e.enums,s=void 0===i?[]:i,c=e.refs,p=void 0===c?[]:c,d=e.tableGroups,h=void 0===d?[]:d,v=e.project,b=void 0===v?{}:v;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,g(t).call(this))).dbState=new f.default,n.generateId(),n.hasDefaultSchema=!1,n.schemas=[],n.note=b.note,n.databaseType=b.database_type,n.name=b.name,n.processSchemas(o),n.processSchemaElements(a,l.TABLE),n.processSchemaElements(p,l.REF),n.processSchemaElements(s,l.ENUM),n.processSchemaElements(h,l.TABLE_GROUP),n}var n,c,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(c=[{key:"generateId",value:function(){this.id=this.dbState.generateId("dbId")}},{key:"processSchemas",value:function(e){var t=this;e.forEach((function(e){t.pushSchema(new o.default(v({},e,{database:t})))}))}},{key:"pushSchema",value:function(e){this.checkSchema(e),this.schemas.push(e)}},{key:"checkSchema",value:function(e){this.schemas.some((function(t){return t.name===e.name}))&&e.error("Schemas ".concat(e.name," existed"))}},{key:"processSchemaElements",value:function(e,t){var n,r=this;e.forEach((function(e){switch(e.schemaName?(n=r.findOrCreateSchema(e.schemaName),e.schemaName===l.DEFAULT_SCHEMA_NAME&&(r.hasDefaultSchema=!0)):n=r.findOrCreateSchema(l.DEFAULT_SCHEMA_NAME),t){case l.TABLE:n.pushTable(new s.default(v({},e,{schema:n})));break;case l.ENUM:n.pushEnum(new a.default(v({},e,{schema:n})));break;case l.TABLE_GROUP:n.pushTableGroup(new i.default(v({},e,{schema:n})));break;case l.REF:n.pushRef(new u.default(v({},e,{schema:n})))}}))}},{key:"findOrCreateSchema",value:function(e){var t=this.schemas.find((function(t){return t.name===e||t.alias===e}));return t||(t=new o.default({name:e,note:e===l.DEFAULT_SCHEMA_NAME?"Default ".concat(r.default.capitalize(l.DEFAULT_SCHEMA_NAME)," Schema"):"",database:this}),this.pushSchema(t)),t}},{key:"findTable",value:function(e){var t=this.findOrCreateSchema(e.schemaName||l.DEFAULT_SCHEMA_NAME);return t||this.error("Schema ".concat(e.schemaName||l.DEFAULT_SCHEMA_NAME," don't exist")),t.findTable(e.name)}},{key:"export",value:function(){return v({},this.exportChild())}},{key:"shallowExport",value:function(){return{hasDefaultSchema:this.hasDefaultSchema,note:this.note,databaseType:this.databaseType,name:this.name}}},{key:"exportChild",value:function(){return{schemas:this.schemas.map((function(e){return e.export()}))}}},{key:"exportChildIds",value:function(){return{schemaIds:this.schemas.map((function(e){return e.id}))}}},{key:"normalize",value:function(){var e={database:b({},this.id,v({id:this.id},this.shallowExport(),{},this.exportChildIds())),schemas:{},refs:{},enums:{},tableGroups:{},tables:{},endpoints:{},enumValues:{},indexes:{},indexColumns:{},fields:{}};return this.schemas.forEach((function(t){return t.normalize(e)})),e}}])&&m(n.prototype,c),p&&m(n,p),t}(c.default);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(18)),o=l(n(3)),u=l(n(19)),a=n(6),i=n(7),s=l(n(20)),c=l(n(21));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.name,o=n.alias,u=n.note,a=n.tables,i=void 0===a?[]:a,s=n.refs,c=void 0===s?[]:s,l=n.enums,f=void 0===l?[]:l,p=n.tableGroups,d=void 0===p?[]:p,h=n.token,b=n.database,g=void 0===b?{}:b;return v(this,t),(e=m(this,y(t).call(this,h))).tables=[],e.enums=[],e.tableGroups=[],e.refs=[],e.name=r,e.note=u,e.alias=o,e.database=g,e.dbState=e.database.dbState,e.generateId(),e.processTables(i),e.processEnums(f),e.processRefs(c),e.processTableGroups(d),e}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(o=[{key:"generateId",value:function(){this.id=this.dbState.generateId("schemaId")}},{key:"processTables",value:function(e){var t=this;e.forEach((function(e){t.pushTable(new r.default(d({},e,{schema:t})))}))}},{key:"pushTable",value:function(e){this.checkTable(e),this.tables.push(e)}},{key:"checkTable",value:function(e){this.tables.some((function(t){return t.name===e.name}))&&e.error("Table ".concat((0,i.shouldPrintSchema)(this)?'"'.concat(this.name,'".'):"",'"').concat(e.name,'" existed'))}},{key:"findTable",value:function(e){return this.tables.find((function(t){return t.name===e||t.alias===e}))}},{key:"processEnums",value:function(e){var t=this;e.forEach((function(e){t.pushEnum(new u.default(d({},e,{schema:t})))}))}},{key:"pushEnum",value:function(e){this.checkEnum(e),this.enums.push(e),this.bindEnumToField(e)}},{key:"checkEnum",value:function(e){this.enums.some((function(t){return t.name===e.name}))&&e.error("Enum ".concat((0,i.shouldPrintSchema)(this)?'"'.concat(this.name,'".'):"",'"').concat(e.name,'" existed'))}},{key:"bindEnumToField",value:function(e){this.database.schemas.forEach((function(t){t.tables.forEach((function(n){n.fields.forEach((function(n){e.name===n.type.type_name&&(n.type.schemaName||a.DEFAULT_SCHEMA_NAME)===t.name&&(n._enum=e,e.pushField(n))}))}))}))}},{key:"processRefs",value:function(e){var t=this;e.forEach((function(e){t.pushRef(new c.default(d({},e,{schema:t})))}))}},{key:"pushRef",value:function(e){this.checkRef(e),this.refs.push(e)}},{key:"checkRef",value:function(e){this.refs.some((function(t){return t.equals(e)}))&&e.error("Reference with same endpoints duplicated")}},{key:"processTableGroups",value:function(e){var t=this;e.forEach((function(e){t.pushTableGroup(new s.default(d({},e,{schema:t})))}))}},{key:"pushTableGroup",value:function(e){this.checkTableGroup(e),this.tableGroups.push(e)}},{key:"checkTableGroup",value:function(e){this.tableGroups.some((function(t){return t.name===e.name}))&&e.error("Table Group ".concat((0,i.shouldPrintSchema)(this)?'"'.concat(this.name,'".'):"",'"').concat(e.name,'" existed'))}},{key:"checkSameId",value:function(e){return this.name===e.name||this.alias===e.name||this.name===e.alias||this.alias&&this.alias===e.alias}},{key:"export",value:function(){return d({},this.shallowExport(),{},this.exportChild())}},{key:"exportChild",value:function(){return{tables:this.tables.map((function(e){return e.export()})),enums:this.enums.map((function(e){return e.export()})),tableGroups:this.tableGroups.map((function(e){return e.export()})),refs:this.refs.map((function(e){return e.export()}))}}},{key:"exportChildIds",value:function(){return{tableIds:this.tables.map((function(e){return e.id})),enumIds:this.enums.map((function(e){return e.id})),tableGroupIds:this.tableGroups.map((function(e){return e.id})),refIds:this.refs.map((function(e){return e.id}))}}},{key:"exportParentIds",value:function(){return{databaseId:this.database.id}}},{key:"shallowExport",value:function(){return{name:this.name,note:this.note,alias:this.alias}}},{key:"normalize",value:function(e){e.schemas=d({},e.schemas,h({},this.id,d({id:this.id},this.shallowExport(),{},this.exportChildIds(),{},this.exportParentIds()))),this.tables.forEach((function(t){return t.normalize(e)})),this.enums.forEach((function(t){return t.normalize(e)})),this.tableGroups.forEach((function(t){return t.normalize(e)})),this.refs.forEach((function(t){return t.normalize(e)}))}}])&&b(n.prototype,o),l&&b(n,l),t}(o.default);t.default=w},function(e,t,n){"use strict";var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.name,o=n.type,u=n.unique,a=n.pk,i=n.token,c=n.not_null,p=n.note,d=n.dbdefault,h=n.increment,v=n.table,b=void 0===v?{}:v;return s(this,t),e=l(this,f(t).call(this,i)),r||e.error("Field must have a name"),o||e.error("Field must have a type"),e.name=r,e.type=o,e.unique=u,e.pk=a,e.not_null=c,e.note=p,e.dbdefault=d,e.increment=h,e.endpoints=[],e.table=b,e.dbState=e.table.dbState,e.generateId(),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("fieldId")}},{key:"pushEndpoint",value:function(e){this.endpoints.push(e)}},{key:"export",value:function(){return a({},this.shallowExport())}},{key:"exportParentIds",value:function(){return{tableId:this.table.id,enumId:this._enum?this._enum.id:null}}},{key:"exportChildIds",value:function(){return{endpointIds:this.endpoints.map((function(e){return e.id}))}}},{key:"shallowExport",value:function(){return{name:this.name,type:this.type,unique:this.unique,pk:this.pk,not_null:this.not_null,note:this.note,dbdefault:this.dbdefault,increment:this.increment}}},{key:"normalize",value:function(e){e.fields=a({},e.fields,i({},this.id,a({id:this.id},this.shallowExport(),{},this.exportChildIds(),{},this.exportParentIds())))}}])&&c(n.prototype,r),o&&c(n,o),t}(((r=n(3))&&r.__esModule?r:{default:r}).default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(3)),o=u(n(38));function u(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.columns,o=n.type,u=n.unique,a=n.pk,i=n.token,s=n.name,c=n.note,f=n.table,h=void 0===f?{}:f;return l(this,t),(e=p(this,d(t).call(this,i))).name=s,e.type=o,e.unique=u,e.note=c,e.pk=a,e.columns=[],e.table=h,e.dbState=e.table.dbState,e.generateId(),e.processIndexColumns(r),e}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("indexId")}},{key:"processIndexColumns",value:function(e){var t=this;e.forEach((function(e){t.pushIndexColumn(new o.default(s({},e,{index:t})))}))}},{key:"pushIndexColumn",value:function(e){this.checkIndexColumn(e),this.columns.push(e)}},{key:"checkIndexColumn",value:function(e){this.columns.some((function(t){return t.type===e.type&&t.value===e.value}))&&e.error("Index column ".concat(e.value," existed"))}},{key:"export",value:function(){return s({},this.shallowExport(),{},this.exportChild())}},{key:"exportChild",value:function(){return{columns:this.columns.map((function(e){return e.export()}))}}},{key:"exportChildIds",value:function(){return{columnIds:this.columns.map((function(e){return e.id}))}}},{key:"exportParentIds",value:function(){return{tableId:this.table.id}}},{key:"shallowExport",value:function(){return{name:this.name,type:this.type,unique:this.unique,pk:this.pk,note:this.note}}},{key:"normalize",value:function(e){e.indexes=s({},e.indexes,c({},this.id,s({id:this.id},this.shallowExport(),{},this.exportChildIds(),{},this.exportParentIds()))),this.columns.forEach((function(t){return t.normalize(e)}))}}])&&f(n.prototype,r),u&&f(n,u),t}(r.default);t.default=v},function(e,t,n){"use strict";var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=function(e){function t(e){var n,r=e.type,o=e.value,u=e.index;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this))).type=r,n.value=o,n.index=u,n.dbState=n.index.dbState,n.generateId(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("indexColumnId")}},{key:"export",value:function(){return a({},this.shallowExport())}},{key:"exportParentIds",value:function(){return{indexId:this.index.id}}},{key:"shallowExport",value:function(){return{type:this.type,value:this.value}}},{key:"normalize",value:function(e){e.indexColumns=a({},e.indexColumns,i({},this.id,a({id:this.id},this.shallowExport(),{},this.exportParentIds())))}}])&&s(n.prototype,r),o&&s(n,o),t}(((r=n(3))&&r.__esModule?r:{default:r}).default);t.default=p},function(e,t,n){"use strict";var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.name,o=n.token,u=n.note,a=n._enum;return s(this,t),e=l(this,f(t).call(this,o)),r||e.error("Enum value must have a name"),e.name=r,e.note=u,e._enum=a,e.dbState=e._enum.dbState,e.generateId(),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("enumValueId")}},{key:"export",value:function(){return a({},this.shallowExport())}},{key:"exportParentIds",value:function(){return{enumId:this._enum.id}}},{key:"shallowExport",value:function(){return{name:this.name,note:this.note}}},{key:"normalize",value:function(e){e.enumValues=a({},e.enumValues,i({},this.id,a({id:this.id},this.shallowExport(),{},this.exportParentIds())))}}])&&c(n.prototype,r),o&&c(n,o),t}(((r=n(3))&&r.__esModule?r:{default:r}).default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r},u=n(6),a=n(7);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var n,r=e.tableName,o=e.schemaName,i=e.fieldNames,s=e.relation,c=e.token,l=e.ref;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,d(t).call(this,c))).relation=s,n.schemaName=o,n.tableName=r,n.fieldNames=i,n.fields=[],n.ref=l,n.dbState=n.ref.dbState,n.generateId();var f=l.schema.database.findOrCreateSchema(o||u.DEFAULT_SCHEMA_NAME),h=f.findTable(r);return h||n.error("Can't find table ".concat((0,a.shouldPrintSchema)(f)?'"'.concat(f.name,'".'):"",'"').concat(r,'"')),n.setFields(i,h),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"generateId",value:function(){this.id=this.dbState.generateId("endpointId")}},{key:"equals",value:function(e){return this.fields.length===e.fields.length&&this.compareFields(e)}},{key:"compareFields",value:function(e){for(var t=this.fields.map((function(e){return e.id})).sort(),n=e.fields.map((function(e){return e.id})).sort(),r=0;r<t.length;r+=1)if(t[r]!==n[r])return!1;return!0}},{key:"export",value:function(){return c({},this.shallowExport())}},{key:"exportParentIds",value:function(){return{refId:this.ref.id,fieldIds:this.fields.map((function(e){return e.id}))}}},{key:"shallowExport",value:function(){return{schemaName:this.schemaName,tableName:this.tableName,fieldNames:this.fieldNames,relation:this.relation}}},{key:"setFields",value:function(e,t){var n=this;e.forEach((function(e){var r=t.findField(e);r||n.error("Can't find field ".concat((0,a.shouldPrintSchema)(t.schema)?'"'.concat(t.schema.name,'".'):"",'"').concat(e,'" in table "').concat(n.tableName,'"')),n.fields.push(r),r.pushEndpoint(n)}))}},{key:"normalize",value:function(e){e.endpoints=c({},e.endpoints,l({},this.id,c({id:this.id},this.shallowExport(),{},this.exportParentIds())))}}])&&f(n.prototype,r),o&&f(n,o),t}(o.default);t.default=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dbId=1,this.schemaId=1,this.enumId=1,this.tableGroupId=1,this.refId=1,this.tableId=1,this.enumValueId=1,this.endpointId=1,this.indexId=1,this.fieldId=1,this.indexColumnId=1}var t,n,o;return t=e,(n=[{key:"generateId",value:function(e){var t=this[e];return this[e]+=1,t}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(0),n(8);function o(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,o)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(o,Error),o.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?u(e.parts[t][0])+"-"+u(e.parts[t][1]):u(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function u(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,o,u=new Array(e.length);for(t=0;t<e.length;t++)u[t]=(o=e[t],n[o.type](o));if(u.sort(),u.length>0){for(t=1,r=1;t<u.length;t++)u[t-1]!==u[t]&&(u[r]=u[t],r++);u.length=r}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:o,parse:function(e,t){t=void 0!==t?t:{};var u,a={},i={Rule:sn},s=sn,c=en("(",!1),l=en(")",!1),f=nn("fields"),p="constraint",d=en("CONSTRAINT",!0),h=en("ON",!0),v=en("UPDATE",!0),b=en("DELETE",!0),m=en("UNIQUE",!0),y=en("KEY",!0),g=en("INDEX",!0),w=en("ASC",!1),_=en("DESC",!1),C=nn("field setting"),A=en("NOT",!0),E=en("NULL",!0),x=en("AUTO_INCREMENT",!0),O=en("UNSIGNED",!0),L=en("COLLATE",!0),I=en("COLUMN_FORMAT",!0),S=en("STORAGE",!0),k=en("CHECK",!0),T=en("GENERATED_ALWAYS",!0),j=en("AS",!0),N=en("VIRTUAL",!0),P=en("STORED",!0),D=en("CHARACTER",!0),R=en("SET",!0),K=en("CHARSET",!0),F=en("DEFAULT",!0),M=en("TRUE",!0),U=en("FALSE",!0),q=nn("table option"),B=en("=",!1),z=en("AVG_ROW_LENGTH",!0),$=en("COMPRESSION",!0),G=en("ZLIB",!0),W=en("LZ4",!0),H=en("NONE",!0),Y=en("CONNECTION",!0),V=en("connect_string",!1),X=en("ENCRYPTION",!0),Q=en("Y",!0),J=en("N",!0),Z=en("ENGINE",!0),ee=en("INSERT_METHOD",!0),te=en("NO",!0),ne=en("FIRST",!0),re=en("LAST",!0),oe=en("MAX_ROWS",!0),ue=en("MIN_ROWS",!0),ae=en("TABLESPACE",!0),ie=en("STORAGE",!1),se=en("DISK",!0),ce=en("MEMORY",!0),le=en("ENFORCE",!0),fe=en("ADD",!0),pe=en("COLUMN",!0),de=en("CHANGE",!0),he=/^[^;]/,ve=tn([";"],!0,!1),be=en("DROP",!0),me=en("COLLATE",!1),ye=en("NULLS",!1),ge=en("FIRST",!1),we=en("LAST",!1),_e=en("KEY_BLOCK_SIZE",!0),Ce=en("WITH",!0),Ae=en("PARSER",!0),Ee=en("COMMENT",!0),xe=en("string",!1),Oe=en("VISIBLE",!0),Le=en("INVISIBLE",!0),Ie=en("INSERT",!0),Se=en(";",!1),ke={type:"any"},Te=en("CREATE",!0),je=en("SCHEMA",!0),Ne=en("DATABASE",!0),Pe=en("USE",!0),De=en("BEGIN",!0),Re=en("COMMIT",!0),Ke=en("ROLLBACK",!0),Fe=en("COMMENT",!1),Me=en("'",!1),Ue=/^[^']/,qe=tn(["'"],!0,!1),Be=function(e,t){return t.join("")},ze=en('"',!1),$e=/^[^"]/,Ge=tn(['"'],!0,!1),We=nn("CREATE TABLE"),He=en("TEMPORARY",!0),Ye=en("TABLE",!0),Ve=nn("IF NOT EXISTS"),Xe=en("IF",!0),Qe=en("EXISTS",!0),Je=nn("ALTER TABLE"),Ze=en("ALTER",!0),et=nn("CREATE INDEX"),tt=en("PRIMARY",!0),nt=en("FOREIGN",!0),rt=en("REFERENCES",!0),ot=en("RESTRICT",!0),ut=en("CASCADE",!0),at=en("ACTION",!0),it=nn("index type"),st=en("USING",!0),ct=en("BTREE",!0),lt=en("HASH",!0),ft=nn("valid name"),pt=function(e){return e.join("")},dt=/^[^`]/,ht=tn(["`"],!0,!1),vt=nn("valid table name"),bt=en(".",!1),mt=nn("type"),yt=nn("expression"),gt=en(",",!1),wt=en(");",!1),_t=/^[',.a-z0-9_+-`%]/i,Ct=tn(["'",",",".",["a","z"],["0","9"],"_",["+","`"],"%"],!1,!0),At=/^['.a-z0-9_+\-]/i,Et=tn(["'",".",["a","z"],["0","9"],"_","+","-"],!1,!0),xt=nn("letter, number or underscore"),Ot=/^[a-z0-9_]/i,Lt=tn([["a","z"],["0","9"],"_"],!1,!0),It=en(" ",!1),St=en("`",!1),kt=en("\t",!1),Tt=nn("endline"),jt=nn("newline"),Nt=en("\r\n",!1),Pt=en("\n",!1),Dt=nn("space"),Rt=nn("comment"),Kt=en("--",!1),Ft=/^[^\n]/,Mt=tn(["\n"],!0,!1),Ut=en("/*",!1),qt=en("*/",!1),Bt=nn("string"),zt=function(e){return e.join("")},$t=en("\\",!1),Gt=function(){return e.substring(Vt,Yt)},Wt=/^[0-9]/,Ht=tn([["0","9"]],!1,!1),Yt=0,Vt=0,Xt=[{line:1,column:1}],Qt=0,Jt=[],Zt=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function en(e,t){return{type:"literal",text:e,ignoreCase:t}}function tn(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function nn(e){return{type:"other",description:e}}function rn(t){var n,r=Xt[t];if(r)return r;for(n=t-1;!Xt[n];)n--;for(r={line:(r=Xt[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Xt[t]=r,r}function on(e,t){var n=rn(e),r=rn(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function un(e){Yt<Qt||(Yt>Qt&&(Qt=Yt,Jt=[]),Jt.push(e))}function an(e,t,n){return new o(o.buildMessage(e,t),e,t,n)}function sn(){var e,t,n;for(e=Yt,t=[],n=cn();n!==a;)t.push(n),n=cn();return t!==a&&(Vt=e,t={tables:Vn,refs:Xn,enums:Qn}),e=t}function cn(){var t,n,o;return t=Yt,(n=function(){var t,n,r,o,u,i,s,f,p;t=Yt,function(){var t,n,r,o,u,i;Zt++,t=Yt,"create"===e.substr(Yt,6).toLowerCase()?(n=e.substr(Yt,6),Yt+=6):(n=a,0===Zt&&un(Te));n!==a&&(r=Un())!==a?("temporary"===e.substr(Yt,9).toLowerCase()?(o=e.substr(Yt,9),Yt+=9):(o=a,0===Zt&&un(He)),o===a&&(o=null),o!==a&&(u=Un())!==a?("table"===e.substr(Yt,5).toLowerCase()?(i=e.substr(Yt,5),Yt+=5):(i=a,0===Zt&&un(Ye)),i!==a?t=n=[n,r,o,u,i]:(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a);Zt--,t===a&&(n=a,0===Zt&&un(We));return t}()!==a?(n=Yt,(r=qn())!==a&&(o=function(){var t,n,r,o,u,i;Zt++,t=Yt,"if"===e.substr(Yt,2).toLowerCase()?(n=e.substr(Yt,2),Yt+=2):(n=a,0===Zt&&un(Xe));n!==a&&(r=Un())!==a?("not"===e.substr(Yt,3).toLowerCase()?(o=e.substr(Yt,3),Yt+=3):(o=a,0===Zt&&un(A)),o!==a&&(u=Un())!==a?("exists"===e.substr(Yt,6).toLowerCase()?(i=e.substr(Yt,6),Yt+=6):(i=a,0===Zt&&un(Qe)),i!==a?t=n=[n,r,o,u,i]:(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a);Zt--,t===a&&(n=a,0===Zt&&un(Ve));return t}())!==a?n=r=[r,o]:(Yt=n,n=a),n===a&&(n=null),n!==a&&(r=qn())!==a&&(o=xn())!==a&&Un()!==a?(40===e.charCodeAt(Yt)?(u="(",Yt++):(u=a,0===Zt&&un(c)),u!==a&&Un()!==a&&(i=function(){var e,t,n,r;if(e=Yt,(t=Un())!==a){for(n=[],r=ln();r!==a;)n.push(r),r=ln();n!==a&&(r=Un())!==a?(Vt=e,t=function(e){var t=Yn.flatten(e.filter((function(e){return"pk"===e.type})).map((function(e){return e.pk}))),n=Yn.flatten(e.filter((function(e){return"fk"===e.type})).map((function(e){return e.fk}))),r=Yn.flatten(e.filter((function(e){return"index"===e.type})).map((function(e){return e.index}))),o=e.filter((function(e){return"field"===e.type})).map((function(e){return e.field}));if(t.length>1){var u={columns:t.map((function(e){return{value:e,type:"column"}})),pk:!0};r.push(u)}else t.forEach((function(e){return o.find((function(t){return t.name===e})).pk=!0}));return n.map((function(e){var t=o.find((function(t){return t.name===e.endpoints[0].fieldNames[0]}));t.inline_ref||(t.inline_ref=[]),t.inline_ref.push({endpoint:e.endpoints[1],onUpdate:e.onUpdate,onDelete:e.onDelete})})),{fields:o,indexes:r}}(n),e=t):(Yt=e,e=a)}else Yt=e,e=a;return e}())!==a&&Un()!==a?(41===e.charCodeAt(Yt)?(s=")",Yt++):(s=a,0===Zt&&un(l)),s!==a&&Un()!==a?((f=function(){var e,t,n,r,o,u,i;if(e=Yt,(t=vn())!==a)if(Un()!==a){for(n=[],r=Yt,(o=Dn())===a&&(o=null),o!==a&&(u=Un())!==a&&(i=vn())!==a?r=o=[o,u,i]:(Yt=r,r=a);r!==a;)n.push(r),r=Yt,(o=Dn())===a&&(o=null),o!==a&&(u=Un())!==a&&(i=vn())!==a?r=o=[o,u,i]:(Yt=r,r=a);n!==a?(Vt=e,t=function(e,t){var n=e;return t.forEach((function(e){return Object.assign(n,e[2])})),n}(t,n),e=t):(Yt=e,e=a)}else Yt=e,e=a;else Yt=e,e=a;return e}())===a&&(f=null),f!==a&&Un()!==a&&Kn()!==a?((p=Fn())===a&&(p=null),p!==a?(Vt=t,d=o,v=(h=i).fields,b=h.indexes,v.forEach((function(e){if((e.inline_ref||[]).forEach((function(t){var n=[{tableName:d,fieldNames:[e.name],relation:"*"},t.endpoint];Xn.push({endpoints:n,onUpdate:t.onUpdate,onDelete:t.onDelete})})),"enum"===e.type.type_name.toLowerCase()){var t=e.type.args.split(/[\s\r\n\n]*,[\s\r\n\n]*/),n=[];t.forEach((function(e){var t={name:e.replace(/'|"|`/g,"").trim()};n.push(t)}));var r={name:"".concat(d,"_").concat(e.name,"_enum"),values:n};Qn.push(r),e.type.type_name=r.name}})),t=b?{name:d,fields:v,indexes:b}:{name:d,fields:v}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a);var d,h,v,b;return t}())!==a&&(Vt=t,o=n,n=void Vn.push(o)),(t=n)===a&&(t=function(){var t,n,o,u;t=Yt,(n=function(){var t,n,r,o;Zt++,t=Yt,"alter"===e.substr(Yt,5).toLowerCase()?(n=e.substr(Yt,5),Yt+=5):(n=a,0===Zt&&un(Ze));n!==a&&(r=Un())!==a?("table"===e.substr(Yt,5).toLowerCase()?(o=e.substr(Yt,5),Yt+=5):(o=a,0===Zt&&un(Ye)),o!==a?t=n=[n,r,o]:(Yt=t,t=a)):(Yt=t,t=a);Zt--,t===a&&(n=a,0===Zt&&un(Je));return t}())!==a&&Un()!==a&&(o=En())!==a&&Un()!==a?((u=function(){var t,n,r,o,u,i,s,c,l;t=Yt,"add"===e.substr(Yt,3).toLowerCase()?(n=e.substr(Yt,3),Yt+=3):(n=a,0===Zt&&un(fe));n!==a&&(r=Un())!==a?(o=Yt,u=Yt,e.substr(Yt,10).toLowerCase()===p?(i=e.substr(Yt,10),Yt+=10):(i=a,0===Zt&&un(d)),i!==a&&(s=qn())!==a&&(c=En())!==a?u=i=[i,s,c]:(Yt=u,u=a),u===a&&(u=null),u!==a&&(i=Un())!==a&&(s=pn())!==a?(Vt=o,o=u={type:"add_fk",fks:s}):(Yt=o,o=a),o===a&&(o=Yt,u=Yt,e.substr(Yt,10).toLowerCase()===p?(i=e.substr(Yt,10),Yt+=10):(i=a,0===Zt&&un(d)),i!==a&&(s=qn())!==a&&(c=En())!==a?u=i=[i,s,c]:(Yt=u,u=a),u===a&&(u=null),u!==a&&(i=Un())!==a&&(s=fn())!==a?(Vt=o,o=u={type:"add_pk",pks:s}):(Yt=o,o=a),o===a&&(o=Yt,"column"===e.substr(Yt,6).toLowerCase()?(u=e.substr(Yt,6),Yt+=6):(u=a,0===Zt&&un(pe)),u===a&&(u=null),u!==a&&(i=Un())!==a&&(s=En())!==a&&(c=Un())!==a&&(l=On())!==a?(Vt=o,o=u={type:"add_column",field:{col_name:s,col_type:l}}):(Yt=o,o=a),o===a&&(o=Yt,"index"===e.substr(Yt,5).toLowerCase()?(u=e.substr(Yt,5),Yt+=5):(u=a,0===Zt&&un(g)),u===a&&("key"===e.substr(Yt,3).toLowerCase()?(u=e.substr(Yt,3),Yt+=3):(u=a,0===Zt&&un(y))),u!==a&&(i=Un())!==a&&(s=En())!==a&&(c=Un())!==a&&(l=bn())!==a?(Vt=o,o=u={type:"add_index",index:{column:l}}):(Yt=o,o=a),o===a&&(o=Yt,u=Yt,e.substr(Yt,10).toLowerCase()===p?(i=e.substr(Yt,10),Yt+=10):(i=a,0===Zt&&un(d)),i!==a&&(s=qn())!==a&&(c=En())!==a?u=i=[i,s,c]:(Yt=u,u=a),u===a&&(u=null),u!==a?("unique"===e.substr(Yt,6).toLowerCase()?(i=e.substr(Yt,6),Yt+=6):(i=a,0===Zt&&un(m)),i!==a?("index"===e.substr(Yt,5).toLowerCase()?(s=e.substr(Yt,5),Yt+=5):(s=a,0===Zt&&un(g)),s===a&&("key"===e.substr(Yt,3).toLowerCase()?(s=e.substr(Yt,3),Yt+=3):(s=a,0===Zt&&un(y))),s!==a?o=u=[u,i,s]:(Yt=o,o=a)):(Yt=o,o=a)):(Yt=o,o=a))))),o!==a?t=n=[n,r,o]:(Yt=t,t=a)):(Yt=t,t=a);return t}())===a&&(u=function(){var t,n,r;t=Yt,"change"===e.substr(Yt,6).toLowerCase()?(n=e.substr(Yt,6),Yt+=6):(n=a,0===Zt&&un(de));n!==a?(he.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=a,0===Zt&&un(ve)),r!==a?t=n=[n,r]:(Yt=t,t=a)):(Yt=t,t=a);return t}())===a&&(u=function(){var t,n,r;t=Yt,"drop"===e.substr(Yt,4).toLowerCase()?(n=e.substr(Yt,4),Yt+=4):(n=a,0===Zt&&un(be));n!==a?(he.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=a,0===Zt&&un(ve)),r!==a?t=n=[n,r]:(Yt=t,t=a)):(Yt=t,t=a);return t}()),u!==a&&Un()!==a&&Kn()!==a?(Vt=t,n=function(e,t){var n=Yn.flatten(t.filter((function(e){return"add_fk"===e.type})).map((function(e){return e.fks})));n.forEach((function(t){t.endpoints[0].tableName=e})),Xn.push.apply(Xn,r(n));var o=Yn.flatten(t.filter((function(e){return"add_pk"===e.type})).map((function(e){return e.pks}))),u=Vn.find((function(t){return t.name===e})),a={columns:o.map((function(e){return{value:e,type:"column"}})),pk:!0};if(o.length>1)u.indexes?u.indexes.push(a):u.indexes=[a];else if(1===o.length){u.fields.find((function(e){return e.name===o[0]})).pk=!0}}(o,u),t=n):(Yt=t,t=a)):(Yt=t,t=a);return t}())===a&&(t=function(){var t,n,r,o,u,i,s,c;t=Yt,(n=function(){var t,n,r,o;Zt++,t=Yt,"create"===e.substr(Yt,6).toLowerCase()?(n=e.substr(Yt,6),Yt+=6):(n=a,0===Zt&&un(Te));n!==a&&Un()!==a&&(r=En())!==a&&Un()!==a?("index"===e.substr(Yt,5).toLowerCase()?(o=e.substr(Yt,5),Yt+=5):(o=a,0===Zt&&un(g)),o!==a?(Vt=t,t=n=r):(Yt=t,t=a)):(Yt=t,t=a);t===a&&(t=Yt,"create"===e.substr(Yt,6).toLowerCase()?(n=e.substr(Yt,6),Yt+=6):(n=a,0===Zt&&un(Te)),n!==a&&Un()!==a?("index"===e.substr(Yt,5).toLowerCase()?(r=e.substr(Yt,5),Yt+=5):(r=a,0===Zt&&un(g)),r!==a?(Vt=t,t=n="INDEX"):(Yt=t,t=a)):(Yt=t,t=a));Zt--,t===a&&(n=a,0===Zt&&un(et));return t}())!==a&&Un()!==a&&(r=En())!==a&&Un()!==a?("on"===e.substr(Yt,2).toLowerCase()?(o=e.substr(Yt,2),Yt+=2):(o=a,0===Zt&&un(h)),o!==a&&Un()!==a&&(u=En())!==a&&Un()!==a?((i=An())===a&&(i=null),i!==a&&Un()!==a&&(s=bn())!==a&&Un()!==a?((c=gn())===a&&(c=null),c!==a&&Kn()!==a?(Vt=t,n=function(e,t,n,r,o,u){var a={columns:o},i=u&&"index_type"===u.type?u.value:null;t&&(a.name=t),"unique"===e.toLowerCase()&&(a.unique=!0);var s=i||r;s&&(a.type=s);var c=Vn.find((function(e){return e.name===n}));c.indexes?c.indexes.push(a):c.indexes=[a]}(n,r,u,i,s,c),t=n):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a);return t}())===a&&(t=function(){var t,n,r,o;t=Yt,(n=function(){var t,n,r,o,u,i,s,c,f,p;if(t=Yt,(n=Un())!==a)if("insert"===e.substr(Yt,6).toLowerCase()?(r=e.substr(Yt,6),Yt+=6):(r=a,0===Zt&&un(Ie)),r!==a){for(o=[],u=Yt,i=Yt,Zt++,s=Yt,41===e.charCodeAt(Yt)?(c=")",Yt++):(c=a,0===Zt&&un(l)),c!==a&&(f=Un())!==a?(59===e.charCodeAt(Yt)?(p=";",Yt++):(p=a,0===Zt&&un(Se)),p!==a?s=c=[c,f,p]:(Yt=s,s=a)):(Yt=s,s=a),Zt--,s===a?i=void 0:(Yt=i,i=a),i!==a?(e.length>Yt?(s=e.charAt(Yt),Yt++):(s=a,0===Zt&&un(ke)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a);u!==a;)o.push(u),u=Yt,i=Yt,Zt++,s=Yt,41===e.charCodeAt(Yt)?(c=")",Yt++):(c=a,0===Zt&&un(l)),c!==a&&(f=Un())!==a?(59===e.charCodeAt(Yt)?(p=";",Yt++):(p=a,0===Zt&&un(Se)),p!==a?s=c=[c,f,p]:(Yt=s,s=a)):(Yt=s,s=a),Zt--,s===a?i=void 0:(Yt=i,i=a),i!==a?(e.length>Yt?(s=e.charAt(Yt),Yt++):(s=a,0===Zt&&un(ke)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a);o!==a?(41===e.charCodeAt(Yt)?(u=")",Yt++):(u=a,0===Zt&&un(l)),u!==a?t=n=[n,r,o,u]:(Yt=t,t=a)):(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;return t}())===a&&(n=function(){var t,n,r,o,u;if(t=Yt,(n=Un())!==a)if("set"===e.substr(Yt,3).toLowerCase()?(r=e.substr(Yt,3),Yt+=3):(r=a,0===Zt&&un(R)),r!==a){for(o=[],he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));u!==a;)o.push(u),he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));o!==a?t=n=[n,r,o]:(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;return t}())===a&&(n=function(){var t,n,r,o,u,i,s;if(t=Yt,(n=Un())!==a)if("create"===e.substr(Yt,6).toLowerCase()?(r=e.substr(Yt,6),Yt+=6):(r=a,0===Zt&&un(Te)),r!==a)if((o=Un())!==a)if("schema"===e.substr(Yt,6).toLowerCase()?(u=e.substr(Yt,6),Yt+=6):(u=a,0===Zt&&un(je)),u===a&&("database"===e.substr(Yt,8).toLowerCase()?(u=e.substr(Yt,8),Yt+=8):(u=a,0===Zt&&un(Ne))),u!==a){for(i=[],he.test(e.charAt(Yt))?(s=e.charAt(Yt),Yt++):(s=a,0===Zt&&un(ve));s!==a;)i.push(s),he.test(e.charAt(Yt))?(s=e.charAt(Yt),Yt++):(s=a,0===Zt&&un(ve));i!==a?t=n=[n,r,o,u,i]:(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;return t}())===a&&(n=function(){var t,n,r,o,u;if(t=Yt,(n=Un())!==a)if("drop"===e.substr(Yt,4).toLowerCase()?(r=e.substr(Yt,4),Yt+=4):(r=a,0===Zt&&un(be)),r!==a){for(o=[],he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));u!==a;)o.push(u),he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));o!==a?t=n=[n,r,o]:(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;return t}())===a&&(n=function(){var t,n,r,o,u;if(t=Yt,(n=Un())!==a)if("use"===e.substr(Yt,3).toLowerCase()?(r=e.substr(Yt,3),Yt+=3):(r=a,0===Zt&&un(Pe)),r!==a){for(o=[],he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));u!==a;)o.push(u),he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));o!==a?t=n=[n,r,o]:(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;return t}())===a&&(n=function(){var t,n,r,o,u;if(t=Yt,(n=Un())!==a)if("begin"===e.substr(Yt,5).toLowerCase()?(r=e.substr(Yt,5),Yt+=5):(r=a,0===Zt&&un(De)),r!==a){for(o=[],he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));u!==a;)o.push(u),he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));o!==a?t=n=[n,r,o]:(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;return t}())===a&&(n=function(){var t,n,r,o,u;if(t=Yt,(n=Un())!==a)if("commit"===e.substr(Yt,6).toLowerCase()?(r=e.substr(Yt,6),Yt+=6):(r=a,0===Zt&&un(Re)),r!==a){for(o=[],he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));u!==a;)o.push(u),he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));o!==a?t=n=[n,r,o]:(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;return t}())===a&&(n=function(){var t,n,r,o,u;if(t=Yt,(n=Un())!==a)if("rollback"===e.substr(Yt,8).toLowerCase()?(r=e.substr(Yt,8),Yt+=8):(r=a,0===Zt&&un(Ke)),r!==a){for(o=[],he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));u!==a;)o.push(u),he.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ve));o!==a?t=n=[n,r,o]:(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;return t}());n!==a&&(r=Kn())!==a?((o=Mn())===a&&(o=null),o!==a?t=n=[n,r,o]:(Yt=t,t=a)):(Yt=t,t=a);return t}())===a&&(t=qn()),t}function ln(){var t,n,r,o,u,i,s;return Zt++,t=Yt,(n=fn())!==a&&(r=Un())!==a?((o=Dn())===a&&(o=Yt,Zt++,41===e.charCodeAt(Yt)?(u=")",Yt++):(u=a,0===Zt&&un(l)),Zt--,u!==a?(Yt=o,o=void 0):o=a,o===a&&(o=Yt,Zt++,u=Yt,(i=Fn())!==a?(41===e.charCodeAt(Yt)?(s=")",Yt++):(s=a,0===Zt&&un(l)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a),Zt--,u!==a?(Yt=o,o=void 0):o=a)),o!==a?(Vt=t,t=n={type:"pk",pk:n}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,(n=pn())!==a&&(r=Un())!==a?((o=Dn())===a&&(o=Yt,Zt++,41===e.charCodeAt(Yt)?(u=")",Yt++):(u=a,0===Zt&&un(l)),Zt--,u!==a?(Yt=o,o=void 0):o=a,o===a&&(o=Yt,Zt++,u=Yt,(i=Fn())!==a?(41===e.charCodeAt(Yt)?(s=")",Yt++):(s=a,0===Zt&&un(l)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a),Zt--,u!==a?(Yt=o,o=void 0):o=a)),o!==a?(Vt=t,t=n={type:"fk",fk:n}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,(n=function(){var t,n,r,o,u,i,s,f,p,d;t=Yt,(n=Un())!==a&&(r=function(){var t,n,r;t=Yt,"unique"===e.substr(Yt,6).toLowerCase()?(n=e.substr(Yt,6),Yt+=6):(n=a,0===Zt&&un(m));n===a&&(n=null);n!==a&&Un()!==a?("index"===e.substr(Yt,5).toLowerCase()?(r=e.substr(Yt,5),Yt+=5):(r=a,0===Zt&&un(g)),r===a&&("key"===e.substr(Yt,3).toLowerCase()?(r=e.substr(Yt,3),Yt+=3):(r=a,0===Zt&&un(y))),r!==a?(Vt=t,t=n=n):(Yt=t,t=a)):(Yt=t,t=a);t===a&&(t=Yt,"unique"===e.substr(Yt,6).toLowerCase()?(n=e.substr(Yt,6),Yt+=6):(n=a,0===Zt&&un(m)),n!==a&&Un()!==a?("index"===e.substr(Yt,5).toLowerCase()?(r=e.substr(Yt,5),Yt+=5):(r=a,0===Zt&&un(g)),r===a&&("key"===e.substr(Yt,3).toLowerCase()?(r=e.substr(Yt,3),Yt+=3):(r=a,0===Zt&&un(y))),r===a&&(r=null),r!==a?(Vt=t,t=n="unique"):(Yt=t,t=a)):(Yt=t,t=a));return t}())!==a&&Un()!==a?((o=En())===a&&(o=null),o!==a&&Un()!==a?((u=An())===a&&(u=null),u!==a?(40===e.charCodeAt(Yt)?(i="(",Yt++):(i=a,0===Zt&&un(c)),i!==a&&Un()!==a&&(s=mn())!==a&&Un()!==a?(41===e.charCodeAt(Yt)?(f=")",Yt++):(f=a,0===Zt&&un(l)),f!==a?((p=gn())===a&&(p=null),p!==a?((d=An())===a&&(d=null),d!==a?(Vt=t,n=function(e,t,n,r,o){var u={columns:r};t&&(u.name=t),e&&(u.unique=!0);var a=o||n;return a&&(u.type=a),u}(r,o,u,s,d),t=n):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a);return t}())!==a&&(r=Un())!==a?((o=Dn())===a&&(o=Yt,Zt++,41===e.charCodeAt(Yt)?(u=")",Yt++):(u=a,0===Zt&&un(l)),Zt--,u!==a?(Yt=o,o=void 0):o=a,o===a&&(o=Yt,Zt++,u=Yt,(i=Fn())!==a?(41===e.charCodeAt(Yt)?(s=")",Yt++):(s=a,0===Zt&&un(l)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a),Zt--,u!==a?(Yt=o,o=void 0):o=a)),o!==a?(Vt=t,t=n={type:"index",index:n}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,(n=function(){var e,t,n,r,o;e=Yt,(t=Un())!==a&&(n=En())!==a&&Un()!==a&&(r=On())!==a&&Un()!==a?((o=function(){var e,t,n;e=Yt,t=[],n=hn();for(;n!==a;)t.push(n),n=hn();t!==a&&(Vt=e,r={},t.forEach((function(e){"null"===e?r.not_null=!1:"default"===e.type?r.dbdefault=e.value:"comment"===e.type?r.note=e.value:"not_supported"!==e&&(r[e]=!0)})),t=r);var r;return e=t}())===a&&(o=null),o!==a&&Un()!==a?(Vt=e,t=function(e,t,n){var r={name:e,type:t};return n&&Object.assign(r,n),r}(n,r,o),e=t):(Yt=e,e=a)):(Yt=e,e=a);return e}())!==a&&(r=Un())!==a?((o=Dn())===a&&(o=Yt,Zt++,41===e.charCodeAt(Yt)?(u=")",Yt++):(u=a,0===Zt&&un(l)),Zt--,u!==a?(Yt=o,o=void 0):o=a,o===a&&(o=Yt,Zt++,u=Yt,(i=Fn())!==a?(41===e.charCodeAt(Yt)?(s=")",Yt++):(s=a,0===Zt&&un(l)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a),Zt--,u!==a?(Yt=o,o=void 0):o=a)),o!==a?(Vt=t,t=n=function(e){return{type:"field",field:e}}(n)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,(n=function(){var t,n,r,o,u,i,s,c,l,f,h;t=Yt,(n=Un())!==a?(r=Yt,e.substr(Yt,10).toLowerCase()===p?(o=e.substr(Yt,10),Yt+=10):(o=a,0===Zt&&un(d)),o!==a&&(u=En())!==a&&(i=Un())!==a?r=o=[o,u,i]:(Yt=r,r=a),r===a&&(r=null),r!==a?("check"===e.substr(Yt,5).toLowerCase()?(o=e.substr(Yt,5),Yt+=5):(o=a,0===Zt&&un(k)),o!==a&&(u=Un())!==a&&(i=In())!==a&&(s=Un())!==a?(c=Yt,"not"===e.substr(Yt,3).toLowerCase()?(l=e.substr(Yt,3),Yt+=3):(l=a,0===Zt&&un(A)),l===a&&(l=null),l!==a&&(f=Un())!==a?("enforce"===e.substr(Yt,7).toLowerCase()?(h=e.substr(Yt,7),Yt+=7):(h=a,0===Zt&&un(le)),h!==a?c=l=[l,f,h]:(Yt=c,c=a)):(Yt=c,c=a),c===a&&(c=null),c!==a?t=n=[n,r,o,u,i,s,c]:(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a);return t}())!==a&&(r=Un())!==a?((o=Dn())===a&&(o=Yt,Zt++,41===e.charCodeAt(Yt)?(u=")",Yt++):(u=a,0===Zt&&un(l)),Zt--,u!==a?(Yt=o,o=void 0):o=a,o===a&&(o=Yt,Zt++,u=Yt,(i=Fn())!==a?(41===e.charCodeAt(Yt)?(s=")",Yt++):(s=a,0===Zt&&un(l)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a),Zt--,u!==a?(Yt=o,o=void 0):o=a)),o!==a?t=n=[n,r,o]:(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=qn()))))),Zt--,t===a&&(n=a,0===Zt&&un(f)),t}function fn(){var t,n,r,o;return t=Yt,Un()!==a&&Cn()!==a&&Un()!==a?(40===e.charCodeAt(Yt)?(n="(",Yt++):(n=a,0===Zt&&un(c)),n!==a&&Un()!==a&&(r=wn())!==a&&Un()!==a?(41===e.charCodeAt(Yt)?(o=")",Yt++):(o=a,0===Zt&&un(l)),o!==a?(Vt=t,t=r):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t}function pn(){var t,n,r,o,u,i,s,f,h,v,b,m,g,w,_,C,A,E,x,O;if(t=Yt,Un()!==a)if(n=Yt,e.substr(Yt,10).toLowerCase()===p?(r=e.substr(Yt,10),Yt+=10):(r=a,0===Zt&&un(d)),r!==a&&(o=Un())!==a&&(u=En())!==a?n=r=[r,o,u]:(Yt=n,n=a),n===a&&(n=null),n!==a)if((r=Un())!==a)if((o=function(){var t,n,r,o;t=Yt,"foreign"===e.substr(Yt,7).toLowerCase()?(n=e.substr(Yt,7),Yt+=7):(n=a,0===Zt&&un(nt));n!==a&&(r=Un())!==a?("key"===e.substr(Yt,3).toLowerCase()?(o=e.substr(Yt,3),Yt+=3):(o=a,0===Zt&&un(y)),o!==a?t=n=[n,r,o]:(Yt=t,t=a)):(Yt=t,t=a);return t}())!==a)if((u=Un())!==a)if(40===e.charCodeAt(Yt)?(i="(",Yt++):(i=a,0===Zt&&un(c)),i!==a)if(Un()!==a)if((s=wn())!==a)if(Un()!==a)if(41===e.charCodeAt(Yt)?(f=")",Yt++):(f=a,0===Zt&&un(l)),f!==a)if(Un()!==a)if(function(){var t;"references"===e.substr(Yt,10).toLowerCase()?(t=e.substr(Yt,10),Yt+=10):(t=a,0===Zt&&un(rt));return t}()!==a)if(Un()!==a)if((h=xn())!==a)if(Un()!==a)if(40===e.charCodeAt(Yt)?(v="(",Yt++):(v=a,0===Zt&&un(c)),v!==a)if(Un()!==a)if((b=wn())!==a)if(Un()!==a)if(41===e.charCodeAt(Yt)?(m=")",Yt++):(m=a,0===Zt&&un(l)),m!==a)if(Un()!==a){for(g=[],w=dn();w!==a;)g.push(w),w=dn();g!==a?(Vt=t,C=s,A=h,E=b,x=g,O={name:(_=n)?_[2]:null,endpoints:[{tableName:null,fieldNames:C,relation:"*"},{tableName:A,fieldNames:E,relation:"1"}]},x.forEach((function(e){"delete"!==e.type?O.onUpdate=e.action:O.onDelete=e.action})),t=O):(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;return t}function dn(){var t,n,r,o,u;return t=Yt,Un()!==a?("on"===e.substr(Yt,2).toLowerCase()?(n=e.substr(Yt,2),Yt+=2):(n=a,0===Zt&&un(h)),n!==a&&Un()!==a?("update"===e.substr(Yt,6).toLowerCase()?(r=e.substr(Yt,6),Yt+=6):(r=a,0===Zt&&un(v)),r===a&&("delete"===e.substr(Yt,6).toLowerCase()?(r=e.substr(Yt,6),Yt+=6):(r=a,0===Zt&&un(b))),r!==a&&Un()!==a&&(o=function(){var t,n,r,o,u;t=Yt,"restrict"===e.substr(Yt,8).toLowerCase()?(n=e.substr(Yt,8),Yt+=8):(n=a,0===Zt&&un(ot));n===a&&("cascade"===e.substr(Yt,7).toLowerCase()?(n=e.substr(Yt,7),Yt+=7):(n=a,0===Zt&&un(ut)),n===a&&(n=Yt,"set"===e.substr(Yt,3).toLowerCase()?(r=e.substr(Yt,3),Yt+=3):(r=a,0===Zt&&un(R)),r!==a&&(o=Un())!==a?("null"===e.substr(Yt,4).toLowerCase()?(u=e.substr(Yt,4),Yt+=4):(u=a,0===Zt&&un(E)),u!==a?n=r=[r,o,u]:(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,"no"===e.substr(Yt,2).toLowerCase()?(r=e.substr(Yt,2),Yt+=2):(r=a,0===Zt&&un(te)),r!==a&&(o=Un())!==a?("action"===e.substr(Yt,6).toLowerCase()?(u=e.substr(Yt,6),Yt+=6):(u=a,0===Zt&&un(at)),u!==a?n=r=[r,o,u]:(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,"set"===e.substr(Yt,3).toLowerCase()?(r=e.substr(Yt,3),Yt+=3):(r=a,0===Zt&&un(R)),r!==a&&(o=Un())!==a?("default"===e.substr(Yt,7).toLowerCase()?(u=e.substr(Yt,7),Yt+=7):(u=a,0===Zt&&un(F)),u!==a?n=r=[r,o,u]:(Yt=n,n=a)):(Yt=n,n=a)))));t=n!==a?e.substring(t,Yt):n;return t}())!==a?(Vt=t,u=o,t={type:r.toLowerCase(),action:u.toLowerCase()}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t}function hn(){var t,n,r,o,u,i,s,f,p,d;return Zt++,t=Yt,Un()!==a?("not"===e.substr(Yt,3).toLowerCase()?(n=e.substr(Yt,3),Yt+=3):(n=a,0===Zt&&un(A)),n!==a&&(r=Un())!==a?("null"===e.substr(Yt,4).toLowerCase()?(o=e.substr(Yt,4),Yt+=4):(o=a,0===Zt&&un(E)),o!==a&&(u=Un())!==a?(Vt=t,t="not_null"):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a?("null"===e.substr(Yt,4).toLowerCase()?(n=e.substr(Yt,4),Yt+=4):(n=a,0===Zt&&un(E)),n!==a&&(r=Un())!==a?(Vt=t,t="null"):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a&&(n=Cn())!==a&&(r=Un())!==a?(Vt=t,t="pk"):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a&&(n=function(){var t;"unique"===e.substr(Yt,6).toLowerCase()?(t=e.substr(Yt,6),Yt+=6):(t=a,0===Zt&&un(m));return t}())!==a&&(r=Un())!==a?(Vt=t,t="unique"):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a?("auto_increment"===e.substr(Yt,14).toLowerCase()?(n=e.substr(Yt,14),Yt+=14):(n=a,0===Zt&&un(x)),n!==a&&(r=Un())!==a?(Vt=t,t="increment"):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a?("unsigned"===e.substr(Yt,8).toLowerCase()?(n=e.substr(Yt,8),Yt+=8):(n=a,0===Zt&&un(O)),n!==a&&(r=Un())!==a?(Vt=t,t="unsigned"):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a?(n=Yt,(r=Un())!==a?("collate"===e.substr(Yt,7).toLowerCase()?(o=e.substr(Yt,7),Yt+=7):(o=a,0===Zt&&un(L)),o!==a&&(u=Un())!==a&&(i=En())!==a&&(s=Un())!==a?n=r=[r,o,u,i,s]:(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,(r=Un())!==a?("column_format"===e.substr(Yt,13).toLowerCase()?(o=e.substr(Yt,13),Yt+=13):(o=a,0===Zt&&un(I)),o!==a&&(u=Un())!==a&&(i=zn())!==a&&(s=Un())!==a?n=r=[r,o,u,i,s]:(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,(r=Un())!==a?("storage"===e.substr(Yt,7).toLowerCase()?(o=e.substr(Yt,7),Yt+=7):(o=a,0===Zt&&un(S)),o!==a&&(u=Un())!==a&&(i=zn())!==a&&(s=Un())!==a?n=r=[r,o,u,i,s]:(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,(r=Un())!==a?("check"===e.substr(Yt,5).toLowerCase()?(o=e.substr(Yt,5),Yt+=5):(o=a,0===Zt&&un(k)),o!==a&&(u=Un())!==a?(40===e.charCodeAt(Yt)?(i="(",Yt++):(i=a,0===Zt&&un(c)),i!==a&&(s=In())!==a?(41===e.charCodeAt(Yt)?(f=")",Yt++):(f=a,0===Zt&&un(l)),f!==a&&(p=Un())!==a?n=r=[r,o,u,i,s,f,p]:(Yt=n,n=a)):(Yt=n,n=a)):(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,(r=Un())!==a?("generated_always"===e.substr(Yt,16).toLowerCase()?(o=e.substr(Yt,16),Yt+=16):(o=a,0===Zt&&un(T)),o===a&&(o=null),o!==a&&(u=Un())!==a?("as"===e.substr(Yt,2).toLowerCase()?(i=e.substr(Yt,2),Yt+=2):(i=a,0===Zt&&un(j)),i!==a&&(s=Un())!==a?(40===e.charCodeAt(Yt)?(f="(",Yt++):(f=a,0===Zt&&un(c)),f!==a&&(p=In())!==a?(41===e.charCodeAt(Yt)?(d=")",Yt++):(d=a,0===Zt&&un(l)),d!==a?n=r=[r,o,u,i,s,f,p,d]:(Yt=n,n=a)):(Yt=n,n=a)):(Yt=n,n=a)):(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,(r=Un())!==a?("virtual"===e.substr(Yt,7).toLowerCase()?(o=e.substr(Yt,7),Yt+=7):(o=a,0===Zt&&un(N)),o!==a&&(u=Un())!==a?n=r=[r,o,u]:(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,(r=Un())!==a?("stored"===e.substr(Yt,6).toLowerCase()?(o=e.substr(Yt,6),Yt+=6):(o=a,0===Zt&&un(P)),o!==a?n=r=[r,o]:(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,(r=Un())!==a?(o=Yt,"character"===e.substr(Yt,9).toLowerCase()?(u=e.substr(Yt,9),Yt+=9):(u=a,0===Zt&&un(D)),u!==a&&(i=Un())!==a?("set"===e.substr(Yt,3).toLowerCase()?(s=e.substr(Yt,3),Yt+=3):(s=a,0===Zt&&un(R)),s!==a?o=u=[u,i,s]:(Yt=o,o=a)):(Yt=o,o=a),o===a&&("charset"===e.substr(Yt,7).toLowerCase()?(o=e.substr(Yt,7),Yt+=7):(o=a,0===Zt&&un(K))),o!==a&&(u=Un())!==a&&(i=En())!==a&&(s=Un())!==a?n=r=[r,o,u,i,s]:(Yt=n,n=a)):(Yt=n,n=a)))))))),n!==a?(Vt=t,t="not_supported"):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a&&(n=function(){var t,n,r;t=Yt,"default"===e.substr(Yt,7).toLowerCase()?(n=e.substr(Yt,7),Yt+=7):(n=a,0===Zt&&un(F));n!==a&&Un()!==a&&(r=function(){var t,n;t=Yt,(n=zn())!==a&&(Vt=t,n={value:n,type:"string"});(t=n)===a&&(t=Yt,(n=Hn())!==a&&(Vt=t,n=function(e){return{value:e,type:"number"}}(n)),(t=n)===a&&(t=Yt,"true"===e.substr(Yt,4).toLowerCase()?(n=e.substr(Yt,4),Yt+=4):(n=a,0===Zt&&un(M)),n===a&&("false"===e.substr(Yt,5).toLowerCase()?(n=e.substr(Yt,5),Yt+=5):(n=a,0===Zt&&un(U)),n===a&&("null"===e.substr(Yt,4).toLowerCase()?(n=e.substr(Yt,4),Yt+=4):(n=a,0===Zt&&un(E)))),n!==a&&(Vt=t,n=function(e){return{value:e,type:"boolean"}}(n)),(t=n)===a&&(t=Yt,(n=Sn())!==a&&(Vt=t,n=function(e){var t=e;return e&&e.length>2&&"("===e[0]&&")"===e[e.length-1]&&(t=e.slice(1,-1)),{value:t,type:"expression"}}(n)),t=n)));return t}())!==a?(Vt=t,t=n=r):(Yt=t,t=a);return t}())!==a?(Vt=t,t={type:"default",value:n}):(Yt=t,t=a),t===a&&(t=Yt,Un()!==a&&(n=_n())!==a?(Vt=t,t=function(e){return{type:"comment",value:e}}(n)):(Yt=t,t=a))))))))),Zt--,t===a&&(a,0===Zt&&un(C)),t}function vn(){var t,n,r,o,u,i,s;return Zt++,t=Yt,"auto_increment"===e.substr(Yt,14).toLowerCase()?(n=e.substr(Yt,14),Yt+=14):(n=a,0===Zt&&un(x)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a&&(u=Hn())!==a?(Vt=t,t=n={auto_increment:u}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"avg_row_length"===e.substr(Yt,14).toLowerCase()?(n=e.substr(Yt,14),Yt+=14):(n=a,0===Zt&&un(z)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a&&(u=Hn())!==a?(Vt=t,t=n={avg_row_length:u}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,n=Yt,"default"===e.substr(Yt,7).toLowerCase()?(r=e.substr(Yt,7),Yt+=7):(r=a,0===Zt&&un(F)),r!==a&&(o=Un())!==a?n=r=[r,o]:(Yt=n,n=a),n===a&&(n=null),n!==a?(r=Yt,"character"===e.substr(Yt,9).toLowerCase()?(o=e.substr(Yt,9),Yt+=9):(o=a,0===Zt&&un(D)),o!==a&&(u=Un())!==a?("set"===e.substr(Yt,3).toLowerCase()?(i=e.substr(Yt,3),Yt+=3):(i=a,0===Zt&&un(R)),i!==a?r=o=[o,u,i]:(Yt=r,r=a)):(Yt=r,r=a),r===a&&("charset"===e.substr(Yt,7).toLowerCase()?(r=e.substr(Yt,7),Yt+=7):(r=a,0===Zt&&un(K))),r!==a&&(o=Un())!==a?(u=Yt,61===e.charCodeAt(Yt)?(i="=",Yt++):(i=a,0===Zt&&un(B)),i!==a&&(s=Un())!==a?u=i=[i,s]:(Yt=u,u=a),u===a&&(u=null),u!==a&&(i=En())!==a?(Vt=t,t=n={charset_name:i}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,n=Yt,"default"===e.substr(Yt,7).toLowerCase()?(r=e.substr(Yt,7),Yt+=7):(r=a,0===Zt&&un(F)),r!==a&&(o=Un())!==a?n=r=[r,o]:(Yt=n,n=a),n===a&&(n=null),n!==a?("collate"===e.substr(Yt,7).toLowerCase()?(r=e.substr(Yt,7),Yt+=7):(r=a,0===Zt&&un(L)),r!==a&&(o=Un())!==a?(u=Yt,61===e.charCodeAt(Yt)?(i="=",Yt++):(i=a,0===Zt&&un(B)),i!==a&&(s=Un())!==a?u=i=[i,s]:(Yt=u,u=a),u===a&&(u=null),u!==a&&(i=En())!==a?(Vt=t,t=n={collation_name:i}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"compression"===e.substr(Yt,11).toLowerCase()?(n=e.substr(Yt,11),Yt+=11):(n=a,0===Zt&&un($)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a?("zlib"===e.substr(Yt,4).toLowerCase()?(u=e.substr(Yt,4),Yt+=4):(u=a,0===Zt&&un(G)),u===a&&("lz4"===e.substr(Yt,3).toLowerCase()?(u=e.substr(Yt,3),Yt+=3):(u=a,0===Zt&&un(W)),u===a&&("none"===e.substr(Yt,4).toLowerCase()?(u=e.substr(Yt,4),Yt+=4):(u=a,0===Zt&&un(H)))),u!==a?(Vt=t,t=n={compression:u.toUpperCase()}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"connection"===e.substr(Yt,10).toLowerCase()?(n=e.substr(Yt,10),Yt+=10):(n=a,0===Zt&&un(Y)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a?("connect_string"===e.substr(Yt,14)?(u="connect_string",Yt+=14):(u=a,0===Zt&&un(V)),u!==a?(Vt=t,t=n={connect_string:u}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"encryption"===e.substr(Yt,10).toLowerCase()?(n=e.substr(Yt,10),Yt+=10):(n=a,0===Zt&&un(X)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a?("y"===e.substr(Yt,1).toLowerCase()?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(Q)),u===a&&("n"===e.substr(Yt,1).toLowerCase()?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(J))),u!==a?(Vt=t,t=n={encryption:u.toUpperCase()}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"engine"===e.substr(Yt,6).toLowerCase()?(n=e.substr(Yt,6),Yt+=6):(n=a,0===Zt&&un(Z)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a&&(u=En())!==a?(Vt=t,t=n={engine:u}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"insert_method"===e.substr(Yt,13).toLowerCase()?(n=e.substr(Yt,13),Yt+=13):(n=a,0===Zt&&un(ee)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a?("no"===e.substr(Yt,2).toLowerCase()?(u=e.substr(Yt,2),Yt+=2):(u=a,0===Zt&&un(te)),u===a&&("first"===e.substr(Yt,5).toLowerCase()?(u=e.substr(Yt,5),Yt+=5):(u=a,0===Zt&&un(ne)),u===a&&("last"===e.substr(Yt,4).toLowerCase()?(u=e.substr(Yt,4),Yt+=4):(u=a,0===Zt&&un(re)))),u!==a?(Vt=t,t=n={insert_method:u.toUpperCase()}):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"max_rows"===e.substr(Yt,8).toLowerCase()?(n=e.substr(Yt,8),Yt+=8):(n=a,0===Zt&&un(oe)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a&&(u=Hn())!==a?(Vt=t,t=n={max_rows:u}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"min_rows"===e.substr(Yt,8).toLowerCase()?(n=e.substr(Yt,8),Yt+=8):(n=a,0===Zt&&un(ue)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a&&(u=Hn())!==a?(Vt=t,t=n={min_rows:u}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"tablespace"===e.substr(Yt,10).toLowerCase()?(n=e.substr(Yt,10),Yt+=10):(n=a,0===Zt&&un(ae)),n!==a&&(r=En())!==a?(o=Yt,"STORAGE"===e.substr(Yt,7)?(u="STORAGE",Yt+=7):(u=a,0===Zt&&un(ie)),u!==a&&(i=Un())!==a?("disk"===e.substr(Yt,4).toLowerCase()?(s=e.substr(Yt,4),Yt+=4):(s=a,0===Zt&&un(se)),s===a&&("memory"===e.substr(Yt,6).toLowerCase()?(s=e.substr(Yt,6),Yt+=6):(s=a,0===Zt&&un(ce))),s!==a?o=u=[u,i,s]:(Yt=o,o=a)):(Yt=o,o=a),o===a&&(o=null),o!==a?(Vt=t,t=n={tablespace:r}):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,(n=_n())!==a&&(Vt=t,n={comment:n}),t=n)))))))))))),Zt--,t===a&&(n=a,0===Zt&&un(q)),t}function bn(){var t,n,r,o;return t=Yt,40===e.charCodeAt(Yt)?(n="(",Yt++):(n=a,0===Zt&&un(c)),n!==a&&Un()!==a&&(r=mn())!==a&&Un()!==a?(41===e.charCodeAt(Yt)?(o=")",Yt++):(o=a,0===Zt&&un(l)),o!==a?(Vt=t,t=n=r):(Yt=t,t=a)):(Yt=t,t=a),t}function mn(){var e,t,n,o,u,i,s,c;if(e=Yt,(t=yn())!==a){for(n=[],o=Yt,(u=Un())!==a&&(i=Dn())!==a&&(s=Un())!==a&&(c=yn())!==a?o=u=[u,i,s,c]:(Yt=o,o=a);o!==a;)n.push(o),o=Yt,(u=Un())!==a&&(i=Dn())!==a&&(s=Un())!==a&&(c=yn())!==a?o=u=[u,i,s,c]:(Yt=o,o=a);n!==a?(Vt=e,e=t=[t].concat(r(n.map((function(e){return e[3]}))))):(Yt=e,e=a)}else Yt=e,e=a;return e}function yn(){var t,n,r,o,u,i,s,f,p,d;if(t=Yt,n=Yt,(r=En())!==a)if(40===e.charCodeAt(Yt)?(o="(",Yt++):(o=a,0===Zt&&un(c)),o!==a){for(u=[],(i=En())===a&&(i=qn())===a&&(i=Dn());i!==a;)u.push(i),(i=En())===a&&(i=qn())===a&&(i=Dn());u!==a?(41===e.charCodeAt(Yt)?(i=")",Yt++):(i=a,0===Zt&&un(l)),i!==a?(Vt=n,d=u,n=r={value:"".concat(r,"(").concat(Jn(Yn.flattenDeep(d).join("")),")"),type:"expression"}):(Yt=n,n=a)):(Yt=n,n=a)}else Yt=n,n=a;else Yt=n,n=a;return n===a&&(n=Yt,(r=En())!==a&&(Vt=n,r=function(e){return{value:"".concat(e),type:"string"}}(r)),(n=r)===a&&(n=Yt,(r=In())!==a&&(Vt=n,r={value:"".concat(r),type:"expression"}),n=r)),n!==a?(r=Yt,(o=qn())!==a?("COLLATE"===e.substr(Yt,7)?(u="COLLATE",Yt+=7):(u=a,0===Zt&&un(me)),u!==a&&(i=qn())!==a&&(s=En())!==a?r=o=[o,u,i,s]:(Yt=r,r=a)):(Yt=r,r=a),r===a&&(r=null),r!==a?(o=Yt,(u=qn())!==a?("ASC"===e.substr(Yt,3)?(i="ASC",Yt+=3):(i=a,0===Zt&&un(w)),i!==a?o=u=[u,i]:(Yt=o,o=a)):(Yt=o,o=a),o===a&&(o=Yt,(u=qn())!==a?("DESC"===e.substr(Yt,4)?(i="DESC",Yt+=4):(i=a,0===Zt&&un(_)),i!==a?o=u=[u,i]:(Yt=o,o=a)):(Yt=o,o=a)),o===a&&(o=null),o!==a?(u=Yt,(i=qn())!==a?("NULLS"===e.substr(Yt,5)?(s="NULLS",Yt+=5):(s=a,0===Zt&&un(ye)),s!==a&&(f=qn())!==a?("FIRST"===e.substr(Yt,5)?(p="FIRST",Yt+=5):(p=a,0===Zt&&un(ge)),p===a&&("LAST"===e.substr(Yt,4)?(p="LAST",Yt+=4):(p=a,0===Zt&&un(we))),p!==a?u=i=[i,s,f,p]:(Yt=u,u=a)):(Yt=u,u=a)):(Yt=u,u=a),u===a&&(u=null),u!==a?(Vt=t,t=n=n):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a),t}function gn(){var t,n,r,o,u,i;return t=Yt,"key_block_size"===e.substr(Yt,14).toLowerCase()?(n=e.substr(Yt,14),Yt+=14):(n=a,0===Zt&&un(_e)),n!==a&&(r=Un())!==a?(o=Yt,61===e.charCodeAt(Yt)?(u="=",Yt++):(u=a,0===Zt&&un(B)),u!==a&&(i=Un())!==a?o=u=[u,i]:(Yt=o,o=a),o===a&&(o=null),o!==a&&(u=On())!==a?t=n=[n,r,o,u]:(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"with"===e.substr(Yt,4).toLowerCase()?(n=e.substr(Yt,4),Yt+=4):(n=a,0===Zt&&un(Ce)),n!==a&&(r=Un())!==a?("parser"===e.substr(Yt,6).toLowerCase()?(o=e.substr(Yt,6),Yt+=6):(o=a,0===Zt&&un(Ae)),o!==a&&(u=Un())!==a&&(i=En())!==a?t=n=[n,r,o,u,i]:(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,"comment"===e.substr(Yt,7).toLowerCase()?(n=e.substr(Yt,7),Yt+=7):(n=a,0===Zt&&un(Ee)),n!==a&&(r=Un())!==a?("string"===e.substr(Yt,6)?(o="string",Yt+=6):(o=a,0===Zt&&un(xe)),o!==a?t=n=[n,r,o]:(Yt=t,t=a)):(Yt=t,t=a),t===a&&("visible"===e.substr(Yt,7).toLowerCase()?(t=e.substr(Yt,7),Yt+=7):(t=a,0===Zt&&un(Oe)),t===a&&("invisible"===e.substr(Yt,9).toLowerCase()?(t=e.substr(Yt,9),Yt+=9):(t=a,0===Zt&&un(Le))),t===a&&(t=Yt,(n=An())!==a&&(Vt=t,n={type:"index_type",value:n}),t=n)))),t}function wn(){var e,t,n,o,u,i,s;if(e=Yt,(t=En())!==a){for(n=[],o=Yt,(u=Dn())!==a&&(i=Un())!==a&&(s=En())!==a?o=u=[u,i,s]:(Yt=o,o=a);o!==a;)n.push(o),o=Yt,(u=Dn())!==a&&(i=Un())!==a&&(s=En())!==a?o=u=[u,i,s]:(Yt=o,o=a);n!==a?(Vt=e,e=t=[t].concat(r(n.map((function(e){return e[2]}))))):(Yt=e,e=a)}else Yt=e,e=a;return e}function _n(){var t,n,r,o,u,i;if(t=Yt,"COMMENT"===e.substr(Yt,7)?(n="COMMENT",Yt+=7):(n=a,0===Zt&&un(Fe)),n!==a)if(Un()!==a)if(r=Yt,61===e.charCodeAt(Yt)?(o="=",Yt++):(o=a,0===Zt&&un(B)),o!==a&&(u=Un())!==a?r=o=[o,u]:(Yt=r,r=a),r===a&&(r=null),r!==a)if(39===e.charCodeAt(Yt)?(o="'",Yt++):(o=a,0===Zt&&un(Me)),o!==a){for(u=[],Ue.test(e.charAt(Yt))?(i=e.charAt(Yt),Yt++):(i=a,0===Zt&&un(qe));i!==a;)u.push(i),Ue.test(e.charAt(Yt))?(i=e.charAt(Yt),Yt++):(i=a,0===Zt&&un(qe));u!==a?(39===e.charCodeAt(Yt)?(i="'",Yt++):(i=a,0===Zt&&un(Me)),i!==a?(Vt=t,t=n=Be(0,u)):(Yt=t,t=a)):(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;if(t===a)if(t=Yt,"COMMENT"===e.substr(Yt,7)?(n="COMMENT",Yt+=7):(n=a,0===Zt&&un(Fe)),n!==a)if(Un()!==a)if(r=Yt,61===e.charCodeAt(Yt)?(o="=",Yt++):(o=a,0===Zt&&un(B)),o!==a&&(u=Un())!==a?r=o=[o,u]:(Yt=r,r=a),r===a&&(r=null),r!==a)if(34===e.charCodeAt(Yt)?(o='"',Yt++):(o=a,0===Zt&&un(ze)),o!==a){for(u=[],$e.test(e.charAt(Yt))?(i=e.charAt(Yt),Yt++):(i=a,0===Zt&&un(Ge));i!==a;)u.push(i),$e.test(e.charAt(Yt))?(i=e.charAt(Yt),Yt++):(i=a,0===Zt&&un(Ge));u!==a?(34===e.charCodeAt(Yt)?(i='"',Yt++):(i=a,0===Zt&&un(ze)),i!==a?(Vt=t,t=n=Be(0,u)):(Yt=t,t=a)):(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;else Yt=t,t=a;return t}function Cn(){var t,n,r,o;return t=Yt,"primary"===e.substr(Yt,7).toLowerCase()?(n=e.substr(Yt,7),Yt+=7):(n=a,0===Zt&&un(tt)),n!==a&&(r=Un())!==a?("key"===e.substr(Yt,3).toLowerCase()?(o=e.substr(Yt,3),Yt+=3):(o=a,0===Zt&&un(y)),o!==a?t=n=[n,r,o]:(Yt=t,t=a)):(Yt=t,t=a),t}function An(){var t,n,r;return Zt++,t=Yt,"using"===e.substr(Yt,5).toLowerCase()?(n=e.substr(Yt,5),Yt+=5):(n=a,0===Zt&&un(st)),n!==a&&Un()!==a?("btree"===e.substr(Yt,5).toLowerCase()?(r=e.substr(Yt,5),Yt+=5):(r=a,0===Zt&&un(ct)),r===a&&("hash"===e.substr(Yt,4).toLowerCase()?(r=e.substr(Yt,4),Yt+=4):(r=a,0===Zt&&un(lt))),r!==a?(Vt=t,t=n=r.toUpperCase()):(Yt=t,t=a)):(Yt=t,t=a),Zt--,t===a&&(n=a,0===Zt&&un(it)),t}function En(){var t,n,r,o;if(Zt++,t=Yt,n=[],(r=jn())!==a)for(;r!==a;)n.push(r),r=jn();else n=a;if(n!==a&&(Vt=t,n=pt(n)),(t=n)===a)if(t=Yt,(n=Pn())!==a){if(r=[],dt.test(e.charAt(Yt))?(o=e.charAt(Yt),Yt++):(o=a,0===Zt&&un(ht)),o!==a)for(;o!==a;)r.push(o),dt.test(e.charAt(Yt))?(o=e.charAt(Yt),Yt++):(o=a,0===Zt&&un(ht));else r=a;r!==a&&(o=Pn())!==a?(Vt=t,t=n=pt(r)):(Yt=t,t=a)}else Yt=t,t=a;return Zt--,t===a&&(n=a,0===Zt&&un(ft)),t}function xn(){var t,n,r,o,u,i,s;for(Zt++,t=Yt,n=[],r=Yt,(o=En())!==a&&(u=Un())!==a?(46===e.charCodeAt(Yt)?(i=".",Yt++):(i=a,0===Zt&&un(bt)),i!==a&&(s=Un())!==a?r=o=[o,u,i,s]:(Yt=r,r=a)):(Yt=r,r=a);r!==a;)n.push(r),r=Yt,(o=En())!==a&&(u=Un())!==a?(46===e.charCodeAt(Yt)?(i=".",Yt++):(i=a,0===Zt&&un(bt)),i!==a&&(s=Un())!==a?r=o=[o,u,i,s]:(Yt=r,r=a)):(Yt=r,r=a);return n!==a&&(r=En())!==a?(Vt=t,t=n=r):(Yt=t,t=a),Zt--,t===a&&(n=a,0===Zt&&un(vt)),t}function On(){var e,t;return Zt++,e=Yt,(t=Ln())!==a&&(Vt=e,t=t),(e=t)===a&&(e=Yt,(t=En())!==a&&(Vt=e,t={type_name:t}),e=t),Zt--,e===a&&(t=a,0===Zt&&un(mt)),e}function Ln(){var t,n,r,o,u,i,s,f,p,d;return t=Yt,(n=En())!==a&&Un()!==a?(r=Yt,40===e.charCodeAt(Yt)?(o="(",Yt++):(o=a,0===Zt&&un(c)),o!==a&&(u=Un())!==a&&(i=In())!==a&&(s=Un())!==a?(41===e.charCodeAt(Yt)?(f=")",Yt++):(f=a,0===Zt&&un(l)),f!==a?r=o=[o,u,i,s,f]:(Yt=r,r=a)):(Yt=r,r=a),r===a&&(r=null),r!==a?(Vt=t,p=n,d=(d=r)?d[2]:null,"enum"!==p.toLowerCase()&&(p=d?p+"("+d+")":p),t=n={type_name:p,args:d}):(Yt=t,t=a)):(Yt=t,t=a),t}function In(){var e,t,n,r;for(Zt++,e=Yt,t=[],n=Sn();n!==a;)t.push(n),n=Sn();return t!==a&&(Vt=e,r=t,t=Jn(Yn.flattenDeep(r).join(""))),Zt--,(e=t)===a&&(t=a,0===Zt&&un(yt)),e}function Sn(){var t,n,r,o,u,i,s,f;if(t=Yt,n=Yt,r=[],(o=jn())!==a)for(;o!==a;)r.push(o),o=jn();else r=a;if(r!==a&&(o=Un())!==a?(40===e.charCodeAt(Yt)?(u="(",Yt++):(u=a,0===Zt&&un(c)),u!==a&&(i=In())!==a?(41===e.charCodeAt(Yt)?(s=")",Yt++):(s=a,0===Zt&&un(l)),s!==a?n=r=[r,o,u,i,s]:(Yt=n,n=a)):(Yt=n,n=a)):(Yt=n,n=a),n===a&&(n=Yt,40===e.charCodeAt(Yt)?(r="(",Yt++):(r=a,0===Zt&&un(c)),r!==a&&(o=In())!==a?(41===e.charCodeAt(Yt)?(u=")",Yt++):(u=a,0===Zt&&un(l)),u!==a?n=r=[r,o,u]:(Yt=n,n=a)):(Yt=n,n=a),n===a)){if(n=Yt,r=[],(o=Tn())!==a)for(;o!==a;)r.push(o),o=Tn();else r=a;if(r!==a?(o=Yt,Zt++,(u=Un())===a&&(44===e.charCodeAt(Yt)?(u=",",Yt++):(u=a,0===Zt&&un(gt)),u===a&&(");"===e.substr(Yt,2)?(u=");",Yt+=2):(u=a,0===Zt&&un(wt)),u===a&&(u=Yt,(i=Fn())!==a?(");"===e.substr(Yt,2)?(s=");",Yt+=2):(s=a,0===Zt&&un(wt)),s!==a?u=i=[i,s]:(Yt=u,u=a)):(Yt=u,u=a)))),Zt--,u!==a?(Yt=o,o=void 0):o=a,o!==a?n=r=[r,o]:(Yt=n,n=a)):(Yt=n,n=a),n===a){if(n=Yt,r=[],(o=kn())!==a)for(;o!==a;)r.push(o),o=kn();else r=a;r!==a?(o=Yt,Zt++,e.length>Yt?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(ke)),Zt--,u!==a?(Yt=o,o=void 0):o=a,o!==a?n=r=[r,o]:(Yt=n,n=a)):(Yt=n,n=a)}}return n!==a&&(Vt=t,f=n,n=Yn.flattenDeep(f).join("")),t=n}function kn(){var t;return _t.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=a,0===Zt&&un(Ct)),t===a&&(t=Nn())===a&&(t=Mn())===a&&(t=Rn()),t}function Tn(){var t;return At.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=a,0===Zt&&un(Et)),t}function jn(){var t;return Zt++,Ot.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=a,0===Zt&&un(Lt)),Zt--,t===a&&(a,0===Zt&&un(xt)),t}function Nn(){var t;return 32===e.charCodeAt(Yt)?(t=" ",Yt++):(t=a,0===Zt&&un(It)),t}function Pn(){var t;return 96===e.charCodeAt(Yt)?(t="`",Yt++):(t=a,0===Zt&&un(St)),t===a&&(34===e.charCodeAt(Yt)?(t='"',Yt++):(t=a,0===Zt&&un(ze))),t}function Dn(){var t;return 44===e.charCodeAt(Yt)?(t=",",Yt++):(t=a,0===Zt&&un(gt)),t}function Rn(){var t;return 9===e.charCodeAt(Yt)?(t="\t",Yt++):(t=a,0===Zt&&un(kt)),t}function Kn(){var t;return 59===e.charCodeAt(Yt)?(t=";",Yt++):(t=a,0===Zt&&un(Se)),t}function Fn(){var e,t,n;for(Zt++,e=Yt,t=[],n=Nn();n!==a;)t.push(n),n=Nn();return t!==a&&(n=Mn())!==a?e=t=[t,n]:(Yt=e,e=a),Zt--,e===a&&(t=a,0===Zt&&un(Tt)),e}function Mn(){var t;return Zt++,"\r\n"===e.substr(Yt,2)?(t="\r\n",Yt+=2):(t=a,0===Zt&&un(Nt)),t===a&&(10===e.charCodeAt(Yt)?(t="\n",Yt++):(t=a,0===Zt&&un(Pt))),Zt--,t===a&&(a,0===Zt&&un(jt)),t}function Un(){var e,t;for(Zt++,e=[],(t=Bn())===a&&(t=Nn())===a&&(t=Rn())===a&&(t=Mn());t!==a;)e.push(t),(t=Bn())===a&&(t=Nn())===a&&(t=Rn())===a&&(t=Mn());return Zt--,e===a&&(t=a,0===Zt&&un(Dt)),e}function qn(){var e,t;if(Zt++,e=[],(t=Bn())===a&&(t=Nn())===a&&(t=Rn())===a&&(t=Mn()),t!==a)for(;t!==a;)e.push(t),(t=Bn())===a&&(t=Nn())===a&&(t=Rn())===a&&(t=Mn());else e=a;return Zt--,e===a&&(t=a,0===Zt&&un(Dt)),e}function Bn(){var t,n,r,o,u,i;if(Zt++,t=Yt,"--"===e.substr(Yt,2)?(n="--",Yt+=2):(n=a,0===Zt&&un(Kt)),n!==a){for(r=[],Ft.test(e.charAt(Yt))?(o=e.charAt(Yt),Yt++):(o=a,0===Zt&&un(Mt));o!==a;)r.push(o),Ft.test(e.charAt(Yt))?(o=e.charAt(Yt),Yt++):(o=a,0===Zt&&un(Mt));r!==a?t=n=[n,r]:(Yt=t,t=a)}else Yt=t,t=a;if(t===a)if(t=Yt,"/*"===e.substr(Yt,2)?(n="/*",Yt+=2):(n=a,0===Zt&&un(Ut)),n!==a){for(r=[],o=Yt,u=Yt,Zt++,"*/"===e.substr(Yt,2)?(i="*/",Yt+=2):(i=a,0===Zt&&un(qt)),Zt--,i===a?u=void 0:(Yt=u,u=a),u!==a?(e.length>Yt?(i=e.charAt(Yt),Yt++):(i=a,0===Zt&&un(ke)),i!==a?o=u=[u,i]:(Yt=o,o=a)):(Yt=o,o=a);o!==a;)r.push(o),o=Yt,u=Yt,Zt++,"*/"===e.substr(Yt,2)?(i="*/",Yt+=2):(i=a,0===Zt&&un(qt)),Zt--,i===a?u=void 0:(Yt=u,u=a),u!==a?(e.length>Yt?(i=e.charAt(Yt),Yt++):(i=a,0===Zt&&un(ke)),i!==a?o=u=[u,i]:(Yt=o,o=a)):(Yt=o,o=a);r!==a?("*/"===e.substr(Yt,2)?(o="*/",Yt+=2):(o=a,0===Zt&&un(qt)),o!==a?((u=Kn())===a&&(u=null),u!==a?t=n=[n,r,o,u]:(Yt=t,t=a)):(Yt=t,t=a)):(Yt=t,t=a)}else Yt=t,t=a;return Zt--,t===a&&(n=a,0===Zt&&un(Rt)),t}function zn(){var t,n,r,o;if(Zt++,t=Yt,34===e.charCodeAt(Yt)?(n='"',Yt++):(n=a,0===Zt&&un(ze)),n!==a){for(r=[],o=$n();o!==a;)r.push(o),o=$n();r!==a?(34===e.charCodeAt(Yt)?(o='"',Yt++):(o=a,0===Zt&&un(ze)),o!==a?(Vt=t,t=n=zt(r)):(Yt=t,t=a)):(Yt=t,t=a)}else Yt=t,t=a;if(t===a)if(t=Yt,39===e.charCodeAt(Yt)?(n="'",Yt++):(n=a,0===Zt&&un(Me)),n!==a){for(r=[],o=Gn();o!==a;)r.push(o),o=Gn();r!==a?(39===e.charCodeAt(Yt)?(o="'",Yt++):(o=a,0===Zt&&un(Me)),o!==a?(Vt=t,t=n=zt(r)):(Yt=t,t=a)):(Yt=t,t=a)}else Yt=t,t=a;return Zt--,t===a&&(n=a,0===Zt&&un(Bt)),t}function $n(){var t,n,r;return t=Yt,92===e.charCodeAt(Yt)?(n="\\",Yt++):(n=a,0===Zt&&un($t)),n!==a?(34===e.charCodeAt(Yt)?(r='"',Yt++):(r=a,0===Zt&&un(ze)),r!==a?(Vt=t,t=n='"'):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,n=Yt,Zt++,34===e.charCodeAt(Yt)?(r='"',Yt++):(r=a,0===Zt&&un(ze)),Zt--,r===a?n=void 0:(Yt=n,n=a),n!==a&&(r=Wn())!==a?(Vt=t,t=n=Gt()):(Yt=t,t=a)),t}function Gn(){var t,n,r;return t=Yt,92===e.charCodeAt(Yt)?(n="\\",Yt++):(n=a,0===Zt&&un($t)),n!==a?(39===e.charCodeAt(Yt)?(r="'",Yt++):(r=a,0===Zt&&un(Me)),r!==a?(Vt=t,t=n="'"):(Yt=t,t=a)):(Yt=t,t=a),t===a&&(t=Yt,n=Yt,Zt++,39===e.charCodeAt(Yt)?(r="'",Yt++):(r=a,0===Zt&&un(Me)),Zt--,r===a?n=void 0:(Yt=n,n=a),n!==a&&(r=Wn())!==a?(Vt=t,t=n=Gt()):(Yt=t,t=a)),t}function Wn(){var t;return e.length>Yt?(t=e.charAt(Yt),Yt++):(t=a,0===Zt&&un(ke)),t}function Hn(){var t;return(t=function(){var t,n,r,o,u;t=Yt,n=[],Wt.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=a,0===Zt&&un(Ht));if(r!==a)for(;r!==a;)n.push(r),Wt.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=a,0===Zt&&un(Ht));else n=a;if(n!==a)if(46===e.charCodeAt(Yt)?(r=".",Yt++):(r=a,0===Zt&&un(bt)),r!==a){if(o=[],Wt.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(Ht)),u!==a)for(;u!==a;)o.push(u),Wt.test(e.charAt(Yt))?(u=e.charAt(Yt),Yt++):(u=a,0===Zt&&un(Ht));else o=a;o!==a?(Vt=t,i=o,n=parseFloat(n.join("")+"."+i.join("")),t=n):(Yt=t,t=a)}else Yt=t,t=a;else Yt=t,t=a;var i;return t}())===a&&(t=function(){var t,n,r;t=Yt,n=[],Wt.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=a,0===Zt&&un(Ht));if(r!==a)for(;r!==a;)n.push(r),Wt.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=a,0===Zt&&un(Ht));else n=a;n!==a&&(Vt=t,n=parseInt(n.join(""),10));return t=n}()),t}var Yn=n(0),Vn=[],Xn=[],Qn=[],Jn=function(e){return e.split(/[\s\r\n]*,[\s\r\n]*/).map((function(e){return e.replace(/^[\s]+|[\s]+$|[\r\n]|\s(?=\s)/g,"")})).join(",")};if((u=s())!==a&&Yt===e.length)return u;throw u!==a&&Yt<e.length&&un({type:"end"}),an(Jt,Qt<e.length?e.charAt(Qt):null,Qt<e.length?on(Qt,Qt+1):on(Qt,Qt))}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=n(0);n(8);function s(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,s)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(s,Error),s.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?u(e.parts[t][0])+"-"+u(e.parts[t][1]):u(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function u(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,o,u=new Array(e.length);for(t=0;t<e.length;t++)u[t]=(o=e[t],n[o.type](o));if(u.sort(),u.length>0){for(t=1,r=1;t<u.length;t++)u[t-1]!==u[t]&&(u[r]=u[t],r++);u.length=r}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:s,parse:function(e,t){t=void 0!==t?t:{};var n,r={},u={parser:Lr},c=Lr,l=wr("CREATE",!0),f=wr("ALTER",!0),p=wr("UNIQUE",!0),d=wr("INDEX",!0),h=wr("TYPE",!0),v=wr("ENUM",!0),b=wr("CONCURRENLY",!0),m=wr("FOREIGN",!0),y=wr("KEY",!0),g=wr("REFERENCES",!0),w=wr("ON",!0),_=wr("USING",!0),C=wr("TABLE",!0),A=wr("IF",!0),E=wr("NOT",!0),x=wr("EXISTS",!0),O=wr("GLOBAL",!0),L=wr("LOCAL",!0),I=wr("TEMPORARY",!0),S=wr("TEMP",!0),k=wr("UNLOGGED",!0),T=wr("COLLATE",!0),j=(wr("COLLATION",!0),wr("PARTITION",!0)),N=wr("BY",!0),P=wr("RANGE",!0),D=wr("LIST",!0),R=wr("HASH",!0),K=wr("LIKE",!0),F=wr("INHERITS",!0),M=wr("INHERIT",!0),U=wr("WITH",!0),q=wr("WITHOUT",!0),B=wr("OIDS",!0),z=wr("COMMIT",!0),$=wr("PRESERVE",!0),G=wr("ROWS",!0),W=wr("DELETE",!0),H=wr("DROP",!0),Y=wr("TABLESPACE",!0),V=wr("CONSTRAINT",!0),X=wr("NO",!0),Q=wr("NULL",!0),J=wr("CHECK",!0),Z=wr("DEFAULT",!0),ee=wr("PRIMARY",!0),te=wr("MATCH",!0),ne=wr("FULL",!0),re=wr("PARTIAL",!0),oe=wr("SIMPLE",!0),ue=wr("UPDATE",!0),ae=wr("DEFERRABLE",!0),ie=wr("INITIALLY",!0),se=wr("DEFERRED",!0),ce=wr("IMMEDIATE",!0),le=wr("EXCLUDE",!0),fe=wr("WHERE",!0),pe=wr("INCLUDING",!0),de=wr("EXCLUDING",!0),he=wr("COMMENTS",!0),ve=wr("CONSTRAINTS",!0),be=wr("GENERATED",!0),me=wr("ALWAYS",!0),ye=wr("AS",!0),ge=wr("ADD",!0),we=wr("ONLY",!0),_e=wr("DEFAULTS",!0),Ce=wr("IDENTITY",!0),Ae=wr("INDEXES",!0),Ee=wr("STATISTICS",!0),xe=wr("STORAGE",!0),Oe=wr("INCLUDE",!0),Le=wr("INCLUDES",!0),Ie=wr("ALL",!0),Se=wr("OF",!0),ke=wr("OPTIONS",!0),Te=wr("FOR",!0),je=wr("VALUES",!0),Ne=wr("IN",!0),Pe=wr("FROM",!0),De=wr("TO",!0),Re=wr("MODULUS",!0),Ke=wr("REMAINDER",!0),Fe=wr("TRUE",!0),Me=wr("FALSE",!0),Ue=wr("MAXVALUE",!0),qe=wr("MINVALUE",!0),Be=wr("SUBTYPE",!0),ze=wr("SUBTYPE_OPCLASS",!0),$e=wr("CANONICAL",!0),Ge=wr("SUBTYPE_DIFF",!0),We=wr("VALID",!0),He=wr("COLUMN",!0),Ye=wr("SET",!0),Ve=wr("DATA",!0),Xe=wr("RESET",!0),Qe=wr("PLAIN",!0),Je=wr("EXTERNAL",!0),Ze=wr("EXTENDED",!0),et=wr("MAIN",!0),tt=(wr("ASC",!0),wr("DESC",!0),wr("NULLS",!0),wr("FIRST",!0),wr("LAST",!0),wr("COMMENT",!0)),nt=wr("IS",!1),rt=wr("INSERT",!0),ot=wr("SELECT",!0),ut=wr("USE",!0),at=wr("SEQUENCE",!0),it=wr("SCHEMA",!0),st=wr("VIEW",!0),ct=Cr("expression"),lt=wr("(",!1),ft=wr(")",!1),pt=wr(",",!1),dt=wr(");",!1),ht={type:"any"},vt=/^["',.a-z0-9_+-:<>=!*]/i,bt=_r(['"',"'",",",".",["a","z"],["0","9"],"_",["+",":"],"<",">","=","!","*"],!1,!0),mt=/^['.a-z0-9_+\-]/i,yt=_r(["'",".",["a","z"],["0","9"],"_","+","-"],!1,!0),gt=Cr("valid column name"),wt=Cr("valid table name"),_t=wr(".",!1),Ct=Cr("string"),At=wr("'",!1),Et=wr("''",!1),xt=/^[^']/,Ot=_r(["'"],!0,!1),Lt=wr('"',!1),It=function(e){return e.join("")},St=wr('""',!1),kt=/^[^"]/,Tt=_r(['"'],!0,!1),jt=Cr("number"),Nt=wr("e",!1),Pt=wr("+",!1),Dt=wr("-",!1),Rt=/^[0-9]/,Kt=_r([["0","9"]],!1,!1),Ft=Cr("VALID TYPE"),Mt=wr("CHARACTER",!0),Ut=wr("VARYING",!0),qt=wr("timestamp",!0),Bt=wr("without",!0),zt=wr("with",!0),$t=wr("time",!0),Gt=wr("zone",!0),Wt=/^[^"\n]/,Ht=_r(['"',"\n"],!0,!1),Yt=wr(" ",!1),Vt=wr("\t",!1),Xt=wr(";",!1),Qt=Cr("endline"),Jt=Cr("newline"),Zt=wr("\r\n",!1),en=wr("\n",!1),tn=Cr("space"),nn=Cr("comment"),rn=wr("--",!1),on=/^[^\n]/,un=_r(["\n"],!0,!1),an=wr("/*",!1),sn=wr("*/",!1),cn=Cr("letter, number or underscore"),ln=/^[a-z0-9_]/i,fn=_r([["a","z"],["0","9"],"_"],!1,!0),pn=wr("&&",!1),dn=wr("=",!1),hn=function(e,t){return[e].concat(a(t.map((function(e){return e[3]}))))},vn=function(e){return{table_property_name:"table_constraint",value:e}},bn=wr("RESTRICT",!0),mn=wr("CASCADE",!0),yn=wr("ACTION",!0),gn=wr("BTREE",!0),wn=wr("GIST",!0),_n=wr("GIN",!0),Cn=wr("BRIN",!0),An=wr("SP-GIST",!0),En=wr("fillfactor",!0),xn=wr("parallel_worlers",!0),On=wr("autovacuum_enabled",!0),Ln=wr("toast.autovacuum_enabled",!0),In=wr("autovacuum_vacuum_threshold",!0),Sn=wr("toast.autovacuum_vacuum_threshold",!0),kn=wr("autovacuum_vacuum_scale_factor",!0),Tn=wr("toast.autovacuum_vacuum_scale_factor",!0),jn=wr("autovacuum_analyze_threshold",!0),Nn=wr("autovacuum_analyze_scale_factor",!0),Pn=wr("autovacuum_vacuum_cost_delay",!0),Dn=wr("toast.autovacuum_vacuum_cost_delay",!0),Rn=wr("autovacuum_vacuum_cost_limit",!0),Kn=wr("toast.autovacuum_vacuum_cost_limit",!0),Fn=wr("autovacuum_freeze_min_age",!0),Mn=wr("toast.autovacuum_freeze_min_age",!0),Un=wr("autovacuum_freeze_max_age",!0),qn=wr("toast.autovacuum_freeze_max_age",!0),Bn=wr("autovacuum_freeze_table_age",!0),zn=wr("toast.autovacuum_freeze_table_age",!0),$n=wr("autovacuum_multixact_freeze_min_age",!0),Gn=wr("toast.autovacuum_multixact_freeze_min_age",!0),Wn=wr("autovacuum_multixact_freeze_max_age",!0),Hn=wr("toast.autovacuum_multixact_freeze_max_age",!0),Yn=wr("autovacuum_multixact_freeze_table_age",!0),Vn=wr("toast.autovacuum_multixact_freeze_table_age",!0),Xn=wr("log_autovacuum_min_duration",!0),Qn=wr("toast.log_autovacuum_min_duration",!0),Jn=wr("user_catalog_table",!0),Zn=/^[^,;]/,er=_r([",",";"],!0,!1),tr=wr("COLLATE",!1),nr=wr("ASC",!1),rr=wr("DESC",!1),or=wr("NULLS",!1),ur=wr("FIRST",!1),ar=wr("LAST",!1),ir=wr("vacuum_cleanup_index_scale_factor",!0),sr=wr("buffering",!0),cr=wr("fastupdate",!0),lr=wr("gin_pending_list_limit",!0),fr=wr("pages_per_range",!0),pr=wr("autosummarize",!0),dr=/^[^;]/,hr=_r([";"],!0,!1),vr=0,br=[{line:1,column:1}],mr=0,yr=[],gr=0;if("startRule"in t){if(!(t.startRule in u))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=u[t.startRule]}function wr(e,t){return{type:"literal",text:e,ignoreCase:t}}function _r(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Cr(e){return{type:"other",description:e}}function Ar(t){var n,r=br[t];if(r)return r;for(n=t-1;!br[n];)n--;for(r={line:(r=br[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return br[t]=r,r}function Er(e,t){var n=Ar(e),r=Ar(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function xr(e){vr<mr||(vr>mr&&(mr=vr,yr=[]),yr.push(e))}function Or(e,t,n){return new s(s.buildMessage(e,t),e,t,n)}function Lr(){var e,t,n;for(e=vr,t=[],n=Pu();n!==r;)t.push(n),n=Pu();return t!==r&&(e,t.forEach((function(e){var t=e.command_name,n=e.value,r=n.syntax_name,o=n.value;switch(t.toLowerCase()){case"create_table":var u=o;switch(r.toLowerCase()){case"create_table_normal":Du.push(u);var i=[];if(u.fields.forEach((function(e){e.inline_refs&&Ru.push.apply(Ru,a(e.inline_refs.map((function(t){return{endpoints:[{tableName:u.name,fieldNames:[e.name],relation:"*"},t.endpoint],onDelete:t.onDelete,onUpdate:t.onUpdate}})))),e.pk&&i.push(e)})),i.length>1){u.fields=u.fields.map((function(e){return delete e.pk,e}));var s={columns:i.map((function(e){return{value:e.name,type:"column"}})),pk:!0};u.indexes?u.indexes.push(s):u.indexes=[s]}}break;case"create_index":var c=o.table_name;delete o.table_name;var l=Du.find((function(e){return e.name===c}));l.indexes?l.indexes.push(o):l.indexes=[o];break;case"create_type":switch(r.toLowerCase()){case"create_type_enum":Ku.push(o)}break;case"alter_table":switch(r.toLowerCase()){case"alter_table_action":o.forEach((function(e){switch(e.type.toLowerCase()){case"fk":e.t_value.forEach((function(e){Ru.push(e)}))}}))}break;case"comment":switch(r.toLowerCase()){case"column":Du.find((function(e){return e.name===o.relation_name})).fields.find((function(e){return e.name===o.column_name})).note=o.text}}})),t={tables:Du,refs:Ru,enums:Ku}),e=t}function Ir(){var t;return"create"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(l)),t}function Sr(){var t;return"alter"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(f)),t}function kr(){var t;return"unique"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(p)),t}function Tr(){var t;return"index"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(d)),t}function jr(){var t;return"type"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(h)),t}function Nr(){var t;return"references"===e.substr(vr,10).toLowerCase()?(t=e.substr(vr,10),vr+=10):(t=r,0===gr&&xr(g)),t}function Pr(){var t;return"on"===e.substr(vr,2).toLowerCase()?(t=e.substr(vr,2),vr+=2):(t=r,0===gr&&xr(w)),t}function Dr(){var t;return"using"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(_)),t}function Rr(){var t;return"table"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(C)),t}function Kr(){var t,n,o,u,a,i;return t=vr,"if"===e.substr(vr,2).toLowerCase()?(n=e.substr(vr,2),vr+=2):(n=r,0===gr&&xr(A)),n!==r&&(o=eu())!==r?("not"===e.substr(vr,3).toLowerCase()?(u=e.substr(vr,3),vr+=3):(u=r,0===gr&&xr(E)),u!==r&&(a=eu())!==r?("exists"===e.substr(vr,6).toLowerCase()?(i=e.substr(vr,6),vr+=6):(i=r,0===gr&&xr(x)),i!==r?t=n=[n,o,u,a,i]:(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}function Fr(){var t;return"global"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(O)),t}function Mr(){var t;return"local"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(L)),t}function Ur(){var t;return"temporary"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(I)),t}function qr(){var t;return"temp"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(S)),t}function Br(){var t;return"unlogged"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(k)),t}function zr(){var t;return"collate"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(T)),t}function $r(){var t;return"partition"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(j)),t}function Gr(){var t;return"by"===e.substr(vr,2).toLowerCase()?(t=e.substr(vr,2),vr+=2):(t=r,0===gr&&xr(N)),t}function Wr(){var t;return"range"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(P)),t}function Hr(){var t;return"list"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(D)),t}function Yr(){var t;return"hash"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(R)),t}function Vr(){var t;return"inherit"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(M)),t}function Xr(){var t;return"with"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(U)),t}function Qr(){var t;return"without"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(q)),t}function Jr(){var t;return"oids"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(B)),t}function Zr(){var t;return"commit"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(z)),t}function eo(){var t;return"preserve"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr($)),t}function to(){var t;return"rows"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(G)),t}function no(){var t;return"delete"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(W)),t}function ro(){var t;return"drop"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(H)),t}function oo(){var t;return"tablespace"===e.substr(vr,10).toLowerCase()?(t=e.substr(vr,10),vr+=10):(t=r,0===gr&&xr(Y)),t}function uo(){var t;return"constraint"===e.substr(vr,10).toLowerCase()?(t=e.substr(vr,10),vr+=10):(t=r,0===gr&&xr(V)),t}function ao(){var t;return"no"===e.substr(vr,2).toLowerCase()?(t=e.substr(vr,2),vr+=2):(t=r,0===gr&&xr(X)),t}function io(){var t;return"not"===e.substr(vr,3).toLowerCase()?(t=e.substr(vr,3),vr+=3):(t=r,0===gr&&xr(E)),t}function so(){var t;return"null"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(Q)),t}function co(){var t;return"check"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(J)),t}function lo(){var t;return"default"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(Z)),t}function fo(){var t,n,o,u;return t=vr,"primary"===e.substr(vr,7).toLowerCase()?(n=e.substr(vr,7),vr+=7):(n=r,0===gr&&xr(ee)),n!==r&&(o=eu())!==r?("key"===e.substr(vr,3).toLowerCase()?(u=e.substr(vr,3),vr+=3):(u=r,0===gr&&xr(y)),u!==r?t=n=[n,o,u]:(vr=t,t=r)):(vr=t,t=r),t}function po(){var t;return"match"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(te)),t}function ho(){var t;return"full"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(ne)),t}function vo(){var t;return"partial"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(re)),t}function bo(){var t;return"simple"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(oe)),t}function mo(){var t;return"deferrable"===e.substr(vr,10).toLowerCase()?(t=e.substr(vr,10),vr+=10):(t=r,0===gr&&xr(ae)),t}function yo(){var t;return"initially"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(ie)),t}function go(){var t;return"deferred"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(se)),t}function wo(){var t;return"immediate"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(ce)),t}function _o(){var t;return"where"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(fe)),t}function Co(){var t;return"as"===e.substr(vr,2).toLowerCase()?(t=e.substr(vr,2),vr+=2):(t=r,0===gr&&xr(ye)),t}function Ao(){var t;return"only"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(we)),t}function Eo(){var t;return"identity"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(Ce)),t}function xo(){var t;return"statistics"===e.substr(vr,10).toLowerCase()?(t=e.substr(vr,10),vr+=10):(t=r,0===gr&&xr(Ee)),t}function Oo(){var t;return"storage"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(xe)),t}function Lo(){var t;return"of"===e.substr(vr,2).toLowerCase()?(t=e.substr(vr,2),vr+=2):(t=r,0===gr&&xr(Se)),t}function Io(){var t;return"true"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(Fe)),t}function So(){var t;return"false"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(Me)),t}function ko(){var t;return"column"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(He)),t}function To(){var t;return"set"===e.substr(vr,3).toLowerCase()?(t=e.substr(vr,3),vr+=3):(t=r,0===gr&&xr(Ye)),t}function jo(){var t;return"reset"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(Xe)),t}function No(){var e,t,n,o;for(gr++,e=vr,t=[],n=Po();n!==r;)t.push(n),n=Po();return t!==r&&(e,o=t,t=Fu(i.flattenDeep(o).join(""))),gr--,(e=t)===r&&(t=r,0===gr&&xr(ct)),e}function Po(){var t,n,o,u,a,s,c,l;if(t=vr,n=vr,o=[],(u=nu())!==r)for(;u!==r;)o.push(u),u=nu();else o=r;if(o!==r&&(u=Zo())!==r?(40===e.charCodeAt(vr)?(a="(",vr++):(a=r,0===gr&&xr(lt)),a!==r&&(s=No())!==r?(41===e.charCodeAt(vr)?(c=")",vr++):(c=r,0===gr&&xr(ft)),c!==r?n=o=[o,u,a,s,c]:(vr=n,n=r)):(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,40===e.charCodeAt(vr)?(o="(",vr++):(o=r,0===gr&&xr(lt)),o!==r&&(u=No())!==r?(41===e.charCodeAt(vr)?(a=")",vr++):(a=r,0===gr&&xr(ft)),a!==r?n=o=[o,u,a]:(vr=n,n=r)):(vr=n,n=r),n===r)){if(n=vr,o=[],(u=Ro())!==r)for(;u!==r;)o.push(u),u=Ro();else o=r;if(o!==r?(u=vr,gr++,(a=Zo())===r&&(44===e.charCodeAt(vr)?(a=",",vr++):(a=r,0===gr&&xr(pt)),a===r&&(");"===e.substr(vr,2)?(a=");",vr+=2):(a=r,0===gr&&xr(dt)),a===r&&(a=vr,(s=function(){var e,t,n;gr++,e=vr,t=[],n=Ho();for(;n!==r;)t.push(n),n=Ho();t!==r&&(n=Jo())!==r?e=t=[t,n]:(vr=e,e=r);gr--,e===r&&(t=r,0===gr&&xr(Qt));return e}())!==r?(");"===e.substr(vr,2)?(c=");",vr+=2):(c=r,0===gr&&xr(dt)),c!==r?a=s=[s,c]:(vr=a,a=r)):(vr=a,a=r)))),gr--,a!==r?(vr=u,u=void 0):u=r,u!==r?n=o=[o,u]:(vr=n,n=r)):(vr=n,n=r),n===r){if(n=vr,o=[],(u=Do())!==r)for(;u!==r;)o.push(u),u=Do();else o=r;o!==r?(u=vr,gr++,e.length>vr?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(ht)),gr--,a!==r?(vr=u,u=void 0):u=r,u!==r?n=o=[o,u]:(vr=n,n=r)):(vr=n,n=r)}}return n!==r&&(t,l=n,n=i.flattenDeep(l).join("")),t=n}function Do(){var t;return vt.test(e.charAt(vr))?(t=e.charAt(vr),vr++):(t=r,0===gr&&xr(bt)),t===r&&(t=Ho())===r&&(t=Jo())===r&&(t=Xo()),t}function Ro(){var t;return mt.test(e.charAt(vr))?(t=e.charAt(vr),vr++):(t=r,0===gr&&xr(yt)),t}function Ko(){var e;return gr++,e=qo(),gr--,e===r&&(r,0===gr&&xr(gt)),e}function Fo(){var t,n,o,u,a,i,s;for(gr++,t=vr,n=[],o=vr,(u=qo())!==r&&(a=Zo())!==r?(46===e.charCodeAt(vr)?(i=".",vr++):(i=r,0===gr&&xr(_t)),i!==r&&(s=Zo())!==r?o=u=[u,a,i,s]:(vr=o,o=r)):(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=qo())!==r&&(a=Zo())!==r?(46===e.charCodeAt(vr)?(i=".",vr++):(i=r,0===gr&&xr(_t)),i!==r&&(s=Zo())!==r?o=u=[u,a,i,s]:(vr=o,o=r)):(vr=o,o=r);return n===r&&(n=null),n!==r&&(o=qo())!==r?(t,t=n=o):(vr=t,t=r),gr--,t===r&&(n=r,0===gr&&xr(wt)),t}function Mo(){var t,n,o,u;if(gr++,t=vr,39===e.charCodeAt(vr)?(n="'",vr++):(n=r,0===gr&&xr(At)),n!==r){if(o=[],(u=Uo())!==r)for(;u!==r;)o.push(u),u=Uo();else o=r;o!==r?(39===e.charCodeAt(vr)?(u="'",vr++):(u=r,0===gr&&xr(At)),u!==r?(t,t=n=o.join("")):(vr=t,t=r)):(vr=t,t=r)}else vr=t,t=r;return gr--,t===r&&(n=r,0===gr&&xr(Ct)),t}function Uo(){var t,n;return t=vr,"''"===e.substr(vr,2)?(n="''",vr+=2):(n=r,0===gr&&xr(Et)),n!==r&&(t,n="'"),(t=n)===r&&(xt.test(e.charAt(vr))?(t=e.charAt(vr),vr++):(t=r,0===gr&&xr(Ot))),t}function qo(){var t,n,o,u;if(t=vr,34===e.charCodeAt(vr)?(n='"',vr++):(n=r,0===gr&&xr(Lt)),n!==r){if(o=[],(u=Bo())!==r)for(;u!==r;)o.push(u),u=Bo();else o=r;o!==r?(34===e.charCodeAt(vr)?(u='"',vr++):(u=r,0===gr&&xr(Lt)),u!==r?(t,t=n=It(o)):(vr=t,t=r)):(vr=t,t=r)}else vr=t,t=r;if(t===r){if(t=vr,n=[],(o=nu())!==r)for(;o!==r;)n.push(o),o=nu();else n=r;n!==r&&(t,n=It(n)),t=n}return t}function Bo(){var t,n;return t=vr,'""'===e.substr(vr,2)?(n='""',vr+=2):(n=r,0===gr&&xr(St)),n!==r&&(t,n='"'),(t=n)===r&&(kt.test(e.charAt(vr))?(t=e.charAt(vr),vr++):(t=r,0===gr&&xr(Tt))),t}function zo(){var t,n,o,u,a,s,c,l,f,p;return gr++,t=vr,n=vr,(o=$o())!==r?(46===e.charCodeAt(vr)?(u=".",vr++):(u=r,0===gr&&xr(_t)),u!==r?((a=$o())===r&&(a=null),a!==r?(s=vr,101===e.charCodeAt(vr)?(c="e",vr++):(c=r,0===gr&&xr(Nt)),c!==r?(43===e.charCodeAt(vr)?(l="+",vr++):(l=r,0===gr&&xr(Pt)),l===r&&(45===e.charCodeAt(vr)?(l="-",vr++):(l=r,0===gr&&xr(Dt))),l===r&&(l=null),l!==r&&(f=$o())!==r?s=c=[c,l,f]:(vr=s,s=r)):(vr=s,s=r),s===r&&(s=null),s!==r?n=o=[o,u,a,s]:(vr=n,n=r)):(vr=n,n=r)):(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,(o=$o())===r&&(o=null),o!==r?(46===e.charCodeAt(vr)?(u=".",vr++):(u=r,0===gr&&xr(_t)),u!==r&&(a=$o())!==r?(s=vr,101===e.charCodeAt(vr)?(c="e",vr++):(c=r,0===gr&&xr(Nt)),c!==r?(43===e.charCodeAt(vr)?(l="+",vr++):(l=r,0===gr&&xr(Pt)),l===r&&(45===e.charCodeAt(vr)?(l="-",vr++):(l=r,0===gr&&xr(Dt))),l===r&&(l=null),l!==r&&(f=$o())!==r?s=c=[c,l,f]:(vr=s,s=r)):(vr=s,s=r),s===r&&(s=null),s!==r?n=o=[o,u,a,s]:(vr=n,n=r)):(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,(o=$o())!==r?(101===e.charCodeAt(vr)?(u="e",vr++):(u=r,0===gr&&xr(Nt)),u!==r?(43===e.charCodeAt(vr)?(a="+",vr++):(a=r,0===gr&&xr(Pt)),a===r&&(45===e.charCodeAt(vr)?(a="-",vr++):(a=r,0===gr&&xr(Dt))),a===r&&(a=null),a!==r&&(s=$o())!==r?n=o=[o,u,a,s]:(vr=n,n=r)):(vr=n,n=r)):(vr=n,n=r))),n!==r&&(t,p=n,n=i.flattenDeep(p).filter((function(e){return e})).join("")),(t=n)===r&&(t=$o()),gr--,t===r&&(n=r,0===gr&&xr(jt)),t}function $o(){var e,t,n;if(e=vr,t=[],(n=Go())!==r)for(;n!==r;)t.push(n),n=Go();else t=r;return t!==r&&(e,t=t.join("")),e=t}function Go(){var t;return Rt.test(e.charAt(vr))?(t=e.charAt(vr),vr++):(t=r,0===gr&&xr(Kt)),t}function Wo(){var t,n,o,u,a,i,s,c,l,f,p,d,h;if(gr++,t=vr,"character"===e.substr(vr,9).toLowerCase()?(n=e.substr(vr,9),vr+=9):(n=r,0===gr&&xr(Mt)),n!==r&&(o=Zo())!==r?("varying"===e.substr(vr,7).toLowerCase()?(u=e.substr(vr,7),vr+=7):(u=r,0===gr&&xr(Ut)),u!==r&&(a=Zo())!==r?(i=vr,40===e.charCodeAt(vr)?(s="(",vr++):(s=r,0===gr&&xr(lt)),s!==r&&(c=No())!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r?i=s=[s,c,l]:(vr=i,i=r)):(vr=i,i=r),i===r&&(i=null),i!==r?(t,p=u,d=i,h="".concat(n," ").concat(p),t=n={type_name:h=d?h+"("+d[1]+")":h,args:d?d[1]:null}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,"timestamp"===e.substr(vr,9).toLowerCase()?(n=e.substr(vr,9),vr+=9):(n=r,0===gr&&xr(qt)),n!==r&&(o=Zo())!==r?(u=vr,40===e.charCodeAt(vr)?(a="(",vr++):(a=r,0===gr&&xr(lt)),a!==r&&(i=Zo())!==r&&(s=zo())!==r&&(c=Zo())!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r&&(f=Zo())!==r?u=a=[a,i,s,c,l,f]:(vr=u,u=r)):(vr=u,u=r),u===r&&(u=null),u!==r?(a=vr,"without"===e.substr(vr,7).toLowerCase()?(i=e.substr(vr,7),vr+=7):(i=r,0===gr&&xr(Bt)),i===r&&("with"===e.substr(vr,4).toLowerCase()?(i=e.substr(vr,4),vr+=4):(i=r,0===gr&&xr(zt))),i!==r&&(s=Zo())!==r?("time"===e.substr(vr,4).toLowerCase()?(c=e.substr(vr,4),vr+=4):(c=r,0===gr&&xr($t)),c!==r&&(l=Zo())!==r?("zone"===e.substr(vr,4).toLowerCase()?(f=e.substr(vr,4),vr+=4):(f=r,0===gr&&xr(Gt)),f!==r?a=i=[i,s,c,l,f]:(vr=a,a=r)):(vr=a,a=r)):(vr=a,a=r),a===r&&(a=null),a!==r?(t,t=n=function(e){var t=e?e[2]:null;return{type_name:null!==t?"timestamp(".concat(t,")"):"timestamp",args:t}}(u)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,"time"===e.substr(vr,4).toLowerCase()?(n=e.substr(vr,4),vr+=4):(n=r,0===gr&&xr($t)),n!==r&&(o=Zo())!==r?(u=vr,40===e.charCodeAt(vr)?(a="(",vr++):(a=r,0===gr&&xr(lt)),a!==r&&(i=Zo())!==r&&(s=zo())!==r&&(c=Zo())!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r&&(f=Zo())!==r?u=a=[a,i,s,c,l,f]:(vr=u,u=r)):(vr=u,u=r),u===r&&(u=null),u!==r?(a=vr,"without"===e.substr(vr,7).toLowerCase()?(i=e.substr(vr,7),vr+=7):(i=r,0===gr&&xr(Bt)),i===r&&("with"===e.substr(vr,4).toLowerCase()?(i=e.substr(vr,4),vr+=4):(i=r,0===gr&&xr(zt))),i!==r&&(s=Zo())!==r?("time"===e.substr(vr,4).toLowerCase()?(c=e.substr(vr,4),vr+=4):(c=r,0===gr&&xr($t)),c!==r&&(l=Zo())!==r?("zone"===e.substr(vr,4).toLowerCase()?(f=e.substr(vr,4),vr+=4):(f=r,0===gr&&xr(Gt)),f!==r?a=i=[i,s,c,l,f]:(vr=a,a=r)):(vr=a,a=r)):(vr=a,a=r),a===r&&(a=null),a!==r?(t,t=n=function(e){var t=e?e[2]:null;return{type_name:null!==t?"time(".concat(t,")"):"time",args:t}}(u)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,(n=function(){var t,n,o,u,a,i,s;if(t=vr,n=[],(o=nu())!==r)for(;o!==r;)n.push(o),o=nu();else n=r;n!==r&&(o=Zo())!==r?(u=vr,40===e.charCodeAt(vr)?(a="(",vr++):(a=r,0===gr&&xr(lt)),a!==r&&(i=No())!==r?(41===e.charCodeAt(vr)?(s=")",vr++):(s=r,0===gr&&xr(ft)),s!==r?u=a=[a,i,s]:(vr=u,u=r)):(vr=u,u=r),u===r&&(u=null),u!==r?(t,n=function(e,t){var n=e.join("");return t=t?t[1]:null,"enum"!==n.toLowerCase()&&(n=t?n+"("+t+")":n),{type_name:n,args:t}}(n,u),t=n):(vr=t,t=r)):(vr=t,t=r);return t}())!==r&&(t,n=n),(t=n)===r))))if(t=vr,(n=Yo())!==r){if(o=[],Wt.test(e.charAt(vr))?(u=e.charAt(vr),vr++):(u=r,0===gr&&xr(Ht)),u!==r)for(;u!==r;)o.push(u),Wt.test(e.charAt(vr))?(u=e.charAt(vr),vr++):(u=r,0===gr&&xr(Ht));else o=r;o!==r&&(u=Yo())!==r?(t,t=n=function(e){return{type_name:e.join(""),args:null}}(o)):(vr=t,t=r)}else vr=t,t=r;return gr--,t===r&&(n=r,0===gr&&xr(Ft)),t}function Ho(){var t;return 32===e.charCodeAt(vr)?(t=" ",vr++):(t=r,0===gr&&xr(Yt)),t}function Yo(){var t;return 34===e.charCodeAt(vr)?(t='"',vr++):(t=r,0===gr&&xr(Lt)),t}function Vo(){var t;return 44===e.charCodeAt(vr)?(t=",",vr++):(t=r,0===gr&&xr(pt)),t}function Xo(){var t;return 9===e.charCodeAt(vr)?(t="\t",vr++):(t=r,0===gr&&xr(Vt)),t}function Qo(){var t;return 59===e.charCodeAt(vr)?(t=";",vr++):(t=r,0===gr&&xr(Xt)),t}function Jo(){var t;return gr++,"\r\n"===e.substr(vr,2)?(t="\r\n",vr+=2):(t=r,0===gr&&xr(Zt)),t===r&&(10===e.charCodeAt(vr)?(t="\n",vr++):(t=r,0===gr&&xr(en))),gr--,t===r&&(r,0===gr&&xr(Jt)),t}function Zo(){var e,t;for(gr++,e=[],(t=tu())===r&&(t=Ho())===r&&(t=Xo())===r&&(t=Jo());t!==r;)e.push(t),(t=tu())===r&&(t=Ho())===r&&(t=Xo())===r&&(t=Jo());return gr--,e===r&&(t=r,0===gr&&xr(tn)),e}function eu(){var e,t;if(gr++,e=[],(t=tu())===r&&(t=Ho())===r&&(t=Xo())===r&&(t=Jo()),t!==r)for(;t!==r;)e.push(t),(t=tu())===r&&(t=Ho())===r&&(t=Xo())===r&&(t=Jo());else e=r;return gr--,e===r&&(t=r,0===gr&&xr(tn)),e}function tu(){var t,n,o,u,a,i;if(gr++,t=vr,"--"===e.substr(vr,2)?(n="--",vr+=2):(n=r,0===gr&&xr(rn)),n!==r){for(o=[],on.test(e.charAt(vr))?(u=e.charAt(vr),vr++):(u=r,0===gr&&xr(un));u!==r;)o.push(u),on.test(e.charAt(vr))?(u=e.charAt(vr),vr++):(u=r,0===gr&&xr(un));o!==r?t=n=[n,o]:(vr=t,t=r)}else vr=t,t=r;if(t===r)if(t=vr,"/*"===e.substr(vr,2)?(n="/*",vr+=2):(n=r,0===gr&&xr(an)),n!==r){for(o=[],u=vr,a=vr,gr++,"*/"===e.substr(vr,2)?(i="*/",vr+=2):(i=r,0===gr&&xr(sn)),gr--,i===r?a=void 0:(vr=a,a=r),a!==r?(e.length>vr?(i=e.charAt(vr),vr++):(i=r,0===gr&&xr(ht)),i!==r?u=a=[a,i]:(vr=u,u=r)):(vr=u,u=r);u!==r;)o.push(u),u=vr,a=vr,gr++,"*/"===e.substr(vr,2)?(i="*/",vr+=2):(i=r,0===gr&&xr(sn)),gr--,i===r?a=void 0:(vr=a,a=r),a!==r?(e.length>vr?(i=e.charAt(vr),vr++):(i=r,0===gr&&xr(ht)),i!==r?u=a=[a,i]:(vr=u,u=r)):(vr=u,u=r);o!==r?("*/"===e.substr(vr,2)?(u="*/",vr+=2):(u=r,0===gr&&xr(sn)),u!==r?((a=Qo())===r&&(a=null),a!==r?t=n=[n,o,u,a]:(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)}else vr=t,t=r;return gr--,t===r&&(n=r,0===gr&&xr(nn)),t}function nu(){var t;return gr++,ln.test(e.charAt(vr))?(t=e.charAt(vr),vr++):(t=r,0===gr&&xr(fn)),gr--,t===r&&(r,0===gr&&xr(cn)),t}function ru(){var t,n,o,u,a,i,s,c,l,f,p,d,h,v,b,m,y,g,w,_,C,A,E,x,O,L,I;return t=vr,Zo()!==r&&Ir()!==r&&eu()!==r?(n=vr,o=vr,(u=Fr())!==r&&(a=eu())!==r?o=u=[u,a]:(vr=o,o=r),o===r&&(o=vr,(u=Mr())!==r&&(a=eu())!==r?o=u=[u,a]:(vr=o,o=r)),o===r&&(o=null),o!==r?((u=Ur())===r&&(u=qr()),u!==r&&(a=eu())!==r?n=o=[o,u,a]:(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,(o=Br())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r)),n===r&&(n=null),n!==r&&(o=Rr())!==r?(u=vr,(a=eu())!==r&&(i=Kr())!==r?u=a=[a,i]:(vr=u,u=r),u===r&&(u=null),u!==r&&(a=eu())!==r&&(i=Fo())!==r&&Zo()!==r?(40===e.charCodeAt(vr)?(s="(",vr++):(s=r,0===gr&&xr(lt)),s!==r&&Zo()!==r&&(c=function(){var e,t,n,o,u,a,i,s;if(e=vr,(t=ou())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=ou())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=ou())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r&&Zo()!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r?(f=vr,(p=eu())!==r&&(d=function(){var t;return"inherits"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(F)),t}())!==r&&(h=Zo())!==r?(40===e.charCodeAt(vr)?(v="(",vr++):(v=r,0===gr&&xr(lt)),v!==r&&(b=Zo())!==r&&(m=function(){var e,t,n,o,u,a,i,s;if(e=vr,(t=Fo())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Fo())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Fo())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r&&(y=Zo())!==r?(41===e.charCodeAt(vr)?(g=")",vr++):(g=r,0===gr&&xr(ft)),g!==r?f=p=[p,d,h,v,b,m,y,g]:(vr=f,f=r)):(vr=f,f=r)):(vr=f,f=r),f===r&&(f=null),f!==r?(p=vr,(d=eu())!==r&&(h=$r())!==r&&(v=eu())!==r&&(b=Gr())!==r&&(m=eu())!==r?((y=Wr())===r&&(y=Hr())===r&&(y=Yr()),y!==r&&(g=Zo())!==r?(40===e.charCodeAt(vr)?(w="(",vr++):(w=r,0===gr&&xr(lt)),w!==r&&(_=Zo())!==r?((C=Ko())===r&&(C=vr,40===e.charCodeAt(vr)?(A="(",vr++):(A=r,0===gr&&xr(lt)),A!==r&&(E=Zo())!==r&&(x=No())!==r&&(O=Zo())!==r?(41===e.charCodeAt(vr)?(L=")",vr++):(L=r,0===gr&&xr(ft)),L!==r?C=A=[A,E,x,O,L]:(vr=C,C=r)):(vr=C,C=r)),C!==r?(A=vr,(E=eu())!==r&&(x=zr())!==r&&(O=eu())!==r&&(L=qo())!==r?A=E=[E,x,O,L]:(vr=A,A=r),A===r&&(A=null),A!==r?(E=vr,(x=eu())!==r&&(O=fu())!==r?E=x=[x,O]:(vr=E,E=r),E===r&&(E=null),E!==r&&(x=Zo())!==r?(41===e.charCodeAt(vr)?(O=")",vr++):(O=r,0===gr&&xr(ft)),O!==r?p=d=[d,h,v,b,m,y,g,w,_,C,A,E,x,O]:(vr=p,p=r)):(vr=p,p=r)):(vr=p,p=r)):(vr=p,p=r)):(vr=p,p=r)):(vr=p,p=r)):(vr=p,p=r),p===r&&(p=null),p!==r?(d=vr,(h=eu())!==r&&(v=Xr())!==r&&(b=Zo())!==r?(40===e.charCodeAt(vr)?(m="(",vr++):(m=r,0===gr&&xr(lt)),m!==r&&(y=Zo())!==r&&(g=hu())!==r&&(w=Zo())!==r?(41===e.charCodeAt(vr)?(_=")",vr++):(_=r,0===gr&&xr(ft)),_!==r?d=h=[h,v,b,m,y,g,w,_]:(vr=d,d=r)):(vr=d,d=r)):(vr=d,d=r),d===r&&(d=vr,(h=eu())!==r&&(v=Xr())!==r&&(b=eu())!==r&&(m=Jr())!==r?d=h=[h,v,b,m]:(vr=d,d=r),d===r&&(d=vr,(h=eu())!==r&&(v=Qr())!==r&&(b=eu())!==r&&(m=Jr())!==r?d=h=[h,v,b,m]:(vr=d,d=r))),d===r&&(d=null),d!==r?(h=vr,(v=eu())!==r&&(b=Pr())!==r&&(m=eu())!==r&&(y=Zr())!==r&&(g=eu())!==r?(w=vr,(_=eo())!==r&&(C=eu())!==r&&(A=to())!==r?w=_=[_,C,A]:(vr=w,w=r),w===r&&(w=vr,(_=no())!==r&&(C=eu())!==r&&(A=to())!==r?w=_=[_,C,A]:(vr=w,w=r),w===r&&(w=ro())),w!==r?h=v=[v,b,m,y,g,w]:(vr=h,h=r)):(vr=h,h=r),h===r&&(h=null),h!==r?(v=vr,(b=eu())!==r&&(m=oo())!==r&&(y=eu())!==r&&(g=qo())!==r?v=b=[b,m,y,g]:(vr=v,v=r),v===r&&(v=null),v!==r&&(b=Zo())!==r&&(m=Qo())!==r&&(y=Zo())!==r?(t,I={name:i,fields:[],indexes:[]},c.forEach((function(e){var t=e.table_property_name,n=e.value;switch(t.toLowerCase()){case"column":I.fields.push(n);break;case"table_constraint":var r=n.type,o=n.t_value;switch(r.toLowerCase()){case"unique":o.forEach((function(e){var t=I.fields.find((function(t){return t.name===e}));t&&(t.unique=!0)}));break;case"pk":o.forEach((function(e){var t=I.fields.find((function(t){return t.name===e}));t&&(t.pk=!0)}));break;case"fk":o.forEach((function(e){var t=e.endpoints[0].fieldNames,n=I.fields.find((function(e){return e.name===t[0]}));n.inline_refs||(n.inline_refs=[]),n.inline_refs.push({endpoint:e.endpoints[1],onDelete:e.onDelete,onUpdate:e.onUpdate})}))}}})),t={syntax_name:"create_table_normal",value:I}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}function ou(){var t,n,o,u,a,i,s,c,l,f;if(t=vr,(n=au())!==r&&(t,n=vn(n)),(t=n)===r){if(t=vr,(n=function(){var t;return"like"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(K)),t}())!==r)if(eu()!==r)if((o=Fo())!==r){for(u=[],a=vr,(i=eu())!==r&&(s=iu())!==r?a=i=[i,s]:(vr=a,a=r);a!==r;)u.push(a),a=vr,(i=eu())!==r&&(s=iu())!==r?a=i=[i,s]:(vr=a,a=r);u!==r?(t,t=n={table_property_name:"like",value:o}):(vr=t,t=r)}else vr=t,t=r;else vr=t,t=r;else vr=t,t=r;if(t===r)if(t=vr,(n=Ko())!==r)if(eu()!==r)if((o=Wo())!==r)if(u=vr,(a=eu())!==r&&(i=zr())!==r&&(s=eu())!==r&&(c=qo())!==r?u=a=[a,i,s,c]:(vr=u,u=r),u===r&&(u=null),u!==r){for(a=[],i=vr,(s=Zo())!==r&&(c=uu())!==r?i=s=[s,c]:(vr=i,i=r);i!==r;)a.push(i),i=vr,(s=Zo())!==r&&(c=uu())!==r?i=s=[s,c]:(vr=i,i=r);a!==r?(t,l=a,"serial"===(f={name:n,type:o}).type.type_name.toLowerCase()&&(f.type.type_name="int",f.increment=!0),(l=l.map((function(e){return e[1]}))).forEach((function(e){var t=e.type,n=e.value;switch(t.toLowerCase()){case"not_null":f.not_null=n;break;case"dbdefault":f.dbdefault=n;break;case"unique":f.unique=!0;break;case"pk":f.pk=!0;break;case"fk":f.inline_refs||(f.inline_refs=[]),f.inline_refs.push(n)}})),t=n={table_property_name:"column",value:f}):(vr=t,t=r)}else vr=t,t=r;else vr=t,t=r;else vr=t,t=r;else vr=t,t=r}return t}function uu(){var t,n,u,a,i,s,c,l,f,p,d,h,v,b,m;if(t=vr,n=vr,(u=uo())!==r&&(a=eu())!==r&&(i=qo())!==r&&(s=eu())!==r?n=u=[u,a,i,s]:(vr=n,n=r),n===r&&(n=null),n!==r){if(u=vr,(a=io())!==r&&(i=eu())!==r&&(s=so())!==r?(u,u=a={type:"not_null",value:!0}):(vr=u,u=r),u===r&&(u=vr,(a=so())!==r&&(u,a={type:"not_null",value:!1}),(u=a)===r&&(u=vr,(a=co())!==r&&(i=Zo())!==r?(40===e.charCodeAt(vr)?(s="(",vr++):(s=r,0===gr&&xr(lt)),s!==r&&(c=Zo())!==r&&(l=No())!==r&&(f=Zo())!==r?(41===e.charCodeAt(vr)?(p=")",vr++):(p=r,0===gr&&xr(ft)),p!==r?(d=vr,(h=eu())!==r&&(v=ao())!==r&&(b=eu())!==r&&(m=Vr())!==r?d=h=[h,v,b,m]:(vr=d,d=r),d===r&&(d=null),d!==r?(u,u=a={type:"not_supported"}):(vr=u,u=r)):(vr=u,u=r)):(vr=u,u=r)):(vr=u,u=r),u===r&&(u=vr,(a=lo())!==r&&(i=eu())!==r&&(s=function(){var t,n;return t=vr,(n=Mo())!==r&&(t,n={value:n,type:"string"}),(t=n)===r&&(t=vr,(n=zo())!==r&&(t,n=function(e){return{value:e,type:"number"}}(n)),(t=n)===r&&(t=vr,"true"===e.substr(vr,4).toLowerCase()?(n=e.substr(vr,4),vr+=4):(n=r,0===gr&&xr(Fe)),n===r&&("false"===e.substr(vr,5).toLowerCase()?(n=e.substr(vr,5),vr+=5):(n=r,0===gr&&xr(Me)),n===r&&("null"===e.substr(vr,4).toLowerCase()?(n=e.substr(vr,4),vr+=4):(n=r,0===gr&&xr(Q)))),n!==r&&(t,n=function(e){return{value:e,type:"boolean"}}(n)),(t=n)===r&&(t=vr,(n=Po())!==r&&(t,n=function(e){var t=e;return e&&e.length>2&&"("===e[0]&&")"===e[e.length-1]&&(t=e.slice(1,-1)),{value:t,type:"expression"}}(n)),t=n))),t}())!==r?(u,u=a={type:"dbdefault",value:s}):(vr=u,u=r),u===r&&(u=vr,(a=function(){var t;return"generated"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(be)),t}())!==r&&(i=eu())!==r?((s=function(){var t;return"always"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(me)),t}())===r&&(s=vr,(c=Gr())!==r&&(l=eu())!==r&&(f=lo())!==r?s=c=[c,l,f]:(vr=s,s=r)),s!==r&&(c=eu())!==r&&(l=Co())!==r&&(f=eu())!==r&&(p=Eo())!==r?(u,u=a={type:"not_supported"}):(vr=u,u=r)):(vr=u,u=r),u===r&&(u=vr,(a=kr())!==r?(i=vr,(s=eu())!==r&&(c=lu())!==r?i=s=[s,c]:(vr=i,i=r),i===r&&(i=null),i!==r?(u,u=a={type:"unique"}):(vr=u,u=r)):(vr=u,u=r),u===r&&(u=vr,(a=fo())!==r?(i=vr,(s=eu())!==r&&(c=lu())!==r?i=s=[s,c]:(vr=i,i=r),i===r&&(i=null),i!==r?(u,u=a={type:"pk"}):(vr=u,u=r)):(vr=u,u=r),u===r)))))))if(u=vr,(a=Nr())!==r)if((i=eu())!==r)if((s=Fo())!==r)if(c=vr,(l=Zo())!==r?(40===e.charCodeAt(vr)?(f="(",vr++):(f=r,0===gr&&xr(lt)),f!==r&&(p=Zo())!==r&&(d=Ko())!==r&&(h=Zo())!==r?(41===e.charCodeAt(vr)?(v=")",vr++):(v=r,0===gr&&xr(ft)),v!==r?(c,c=l=d):(vr=c,c=r)):(vr=c,c=r)):(vr=c,c=r),c===r&&(c=null),c!==r)if(l=vr,(f=eu())!==r&&(p=po())!==r&&(d=eu())!==r&&(h=ho())!==r?l=f=[f,p,d,h]:(vr=l,l=r),l===r&&(l=vr,(f=eu())!==r&&(p=po())!==r&&(d=eu())!==r&&(h=vo())!==r?l=f=[f,p,d,h]:(vr=l,l=r),l===r&&(l=vr,(f=eu())!==r&&(p=po())!==r&&(d=eu())!==r&&(h=bo())!==r?l=f=[f,p,d,h]:(vr=l,l=r))),l===r&&(l=null),l!==r){for(f=[],p=su();p!==r;)f.push(p),p=su();f!==r?(u,u=a=function(e,t,n){var r={};return n.forEach((function(e){"delete"!==e.type?r.onUpdate=e.action:r.onDelete=e.action})),{type:"fk",value:o({endpoint:{tableName:e,fieldNames:t?[t]:null,relation:"1"}},r)}}(s,c,f)):(vr=u,u=r)}else vr=u,u=r;else vr=u,u=r;else vr=u,u=r;else vr=u,u=r;else vr=u,u=r;u!==r?(a=vr,(i=eu())!==r&&(s=mo())!==r?a=i=[i,s]:(vr=a,a=r),a===r&&(a=vr,(i=eu())!==r&&(s=io())!==r&&(c=mo())!==r?a=i=[i,s,c]:(vr=a,a=r)),a===r&&(a=null),a!==r?(i=vr,(s=eu())!==r&&(c=yo())!==r&&(l=eu())!==r&&(f=go())!==r?i=s=[s,c,l,f]:(vr=i,i=r),i===r&&(i=vr,(s=eu())!==r&&(c=yo())!==r&&(l=eu())!==r&&(f=wo())!==r?i=s=[s,c,l,f]:(vr=i,i=r)),i===r&&(i=null),i!==r?(t,t=n=u):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)}else vr=t,t=r;return t}function au(){var t,n,o,u,a,i,s,c,l,f,p,d,h,v,b,g,w,_,C,A,E;if(t=vr,n=vr,(o=uo())!==r&&(u=eu())!==r&&(a=qo())!==r&&(i=eu())!==r?n=o=[o,u,a,i]:(vr=n,n=r),n===r&&(n=null),n!==r){if(o=vr,(u=co())!==r&&(a=Zo())!==r?(40===e.charCodeAt(vr)?(i="(",vr++):(i=r,0===gr&&xr(lt)),i!==r&&(s=Zo())!==r&&(c=No())!==r&&(l=Zo())!==r?(41===e.charCodeAt(vr)?(f=")",vr++):(f=r,0===gr&&xr(ft)),f!==r?(p=vr,(d=eu())!==r&&(h=ao())!==r&&(v=eu())!==r&&(b=Vr())!==r?p=d=[d,h,v,b]:(vr=p,p=r),p===r&&(p=null),p!==r?(o,o=u={type:"not_supported"}):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r),o===r&&(o=vr,(u=kr())!==r&&(a=Zo())!==r?(40===e.charCodeAt(vr)?(i="(",vr++):(i=r,0===gr&&xr(lt)),i!==r&&(s=Zo())!==r&&(c=pu())!==r&&(l=Zo())!==r?(41===e.charCodeAt(vr)?(f=")",vr++):(f=r,0===gr&&xr(ft)),f!==r?(p=vr,(d=eu())!==r&&(h=lu())!==r?p=d=[d,h]:(vr=p,p=r),p===r&&(p=null),p!==r?(o,o=u={type:"unique",t_value:c}):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r),o===r&&(o=vr,(u=fo())!==r&&(a=Zo())!==r?(40===e.charCodeAt(vr)?(i="(",vr++):(i=r,0===gr&&xr(lt)),i!==r&&(s=Zo())!==r&&(c=pu())!==r&&(l=Zo())!==r?(41===e.charCodeAt(vr)?(f=")",vr++):(f=r,0===gr&&xr(ft)),f!==r?(p=vr,(d=eu())!==r&&(h=lu())!==r?p=d=[d,h]:(vr=p,p=r),p===r&&(p=null),p!==r?(o,o=u=function(e){return{type:"pk",t_value:e}}(c)):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r),o===r&&(o=vr,(u=function(){var t;return"exclude"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(le)),t}())!==r?(a=vr,(i=eu())!==r&&(s=Dr())!==r&&(c=eu())!==r&&(l=cu())!==r?a=i=[i,s,c,l]:(vr=a,a=r),a===r&&(a=null),a!==r&&(i=eu())!==r?(40===e.charCodeAt(vr)?(s="(",vr++):(s=r,0===gr&&xr(lt)),s!==r&&(c=function(){var e,t,n,o,u,a,i,s;if(e=vr,(t=du())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=du())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=du())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r&&(f=eu())!==r&&(p=lu())!==r?(d=vr,(h=eu())!==r&&(v=_o())!==r&&(b=Zo())!==r?(40===e.charCodeAt(vr)?(g="(",vr++):(g=r,0===gr&&xr(lt)),g!==r&&(w=Zo())!==r&&(_=No())!==r&&(C=Zo())!==r?(41===e.charCodeAt(vr)?(A=")",vr++):(A=r,0===gr&&xr(ft)),A!==r?d=h=[h,v,b,g,w,_,C,A]:(vr=d,d=r)):(vr=d,d=r)):(vr=d,d=r),d===r&&(d=null),d!==r?(o,o=u={type:"not_supported"}):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r)):(vr=o,o=r),o===r))))if(o=vr,(u=function(){var t,n,o,u;return t=vr,"foreign"===e.substr(vr,7).toLowerCase()?(n=e.substr(vr,7),vr+=7):(n=r,0===gr&&xr(m)),n!==r&&(o=eu())!==r?("key"===e.substr(vr,3).toLowerCase()?(u=e.substr(vr,3),vr+=3):(u=r,0===gr&&xr(y)),u!==r?t=n=[n,o,u]:(vr=t,t=r)):(vr=t,t=r),t}())!==r)if((a=Zo())!==r)if(40===e.charCodeAt(vr)?(i="(",vr++):(i=r,0===gr&&xr(lt)),i!==r)if((s=Zo())!==r)if((c=pu())!==r)if((l=Zo())!==r)if(41===e.charCodeAt(vr)?(f=")",vr++):(f=r,0===gr&&xr(ft)),f!==r)if((p=Zo())!==r)if((d=Nr())!==r)if((h=eu())!==r)if((v=Fo())!==r)if(b=vr,(g=Zo())!==r?(40===e.charCodeAt(vr)?(w="(",vr++):(w=r,0===gr&&xr(lt)),w!==r&&(_=Zo())!==r&&(C=pu())!==r&&(A=Zo())!==r?(41===e.charCodeAt(vr)?(E=")",vr++):(E=r,0===gr&&xr(ft)),E!==r?(b,b=g=C):(vr=b,b=r)):(vr=b,b=r)):(vr=b,b=r),b===r&&(b=null),b!==r)if(g=vr,(w=eu())!==r&&(_=po())!==r&&(C=eu())!==r&&(A=ho())!==r?g=w=[w,_,C,A]:(vr=g,g=r),g===r&&(g=vr,(w=eu())!==r&&(_=po())!==r&&(C=eu())!==r&&(A=vo())!==r?g=w=[w,_,C,A]:(vr=g,g=r),g===r&&(g=vr,(w=eu())!==r&&(_=po())!==r&&(C=eu())!==r&&(A=bo())!==r?g=w=[w,_,C,A]:(vr=g,g=r))),g===r&&(g=null),g!==r){for(w=[],_=su();_!==r;)w.push(_),_=su();w!==r?(o,o=u=function(e,t,n,r){var o=[];n&&(n.length,e.length);var u={endpoints:[{tableName:null,fieldNames:e,relation:"*"},{tableName:t,fieldNames:n,relation:"1"}]};return r.forEach((function(e){"delete"!==e.type?u.onUpdate=e.action:u.onDelete=e.action})),o.push(u),{type:"fk",t_value:o}}(c,v,b,w)):(vr=o,o=r)}else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;else vr=o,o=r;o!==r?(u=vr,(a=eu())!==r&&(i=mo())!==r?u=a=[a,i]:(vr=u,u=r),u===r&&(u=vr,(a=eu())!==r&&(i=io())!==r&&(s=eu())!==r&&(c=mo())!==r?u=a=[a,i,s,c]:(vr=u,u=r)),u===r&&(u=null),u!==r?(a=vr,(i=eu())!==r&&(s=yo())!==r&&(c=eu())!==r&&(l=go())!==r?a=i=[i,s,c,l]:(vr=a,a=r),a===r&&(a=vr,(i=eu())!==r&&(s=yo())!==r&&(c=eu())!==r&&(l=wo())!==r?a=i=[i,s,c,l]:(vr=a,a=r)),a===r&&(a=null),a!==r?(t,t=n=o):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)}else vr=t,t=r;return t}function iu(){var t,n,o,u;return t=vr,(n=function(){var t;return"including"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(pe)),t}())===r&&(n=function(){var t;return"excluding"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(de)),t}()),n!==r&&(o=eu())!==r?((u=function(){var t;return"comments"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(he)),t}())===r&&(u=function(){var t;return"constraints"===e.substr(vr,11).toLowerCase()?(t=e.substr(vr,11),vr+=11):(t=r,0===gr&&xr(ve)),t}())===r&&(u=function(){var t;return"defaults"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(_e)),t}())===r&&(u=Eo())===r&&(u=function(){var t;return"indexes"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(Ae)),t}())===r&&(u=xo())===r&&(u=Oo())===r&&(u=function(){var t;return"all"===e.substr(vr,3).toLowerCase()?(t=e.substr(vr,3),vr+=3):(t=r,0===gr&&xr(Ie)),t}()),u!==r?t=n=[n,o,u]:(vr=t,t=r)):(vr=t,t=r),t}function su(){var t,n,o,u;return t=vr,eu()!==r&&Pr()!==r&&eu()!==r?((n=function(){var t;return"update"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(ue)),t}())===r&&(n=no()),n!==r&&eu()!==r&&(o=function(){var t,n,o,u,a;t=vr,"restrict"===e.substr(vr,8).toLowerCase()?(n=e.substr(vr,8),vr+=8):(n=r,0===gr&&xr(bn));n===r&&("cascade"===e.substr(vr,7).toLowerCase()?(n=e.substr(vr,7),vr+=7):(n=r,0===gr&&xr(mn)),n===r&&(n=vr,"no"===e.substr(vr,2).toLowerCase()?(o=e.substr(vr,2),vr+=2):(o=r,0===gr&&xr(X)),o!==r&&(u=eu())!==r?("action"===e.substr(vr,6).toLowerCase()?(a=e.substr(vr,6),vr+=6):(a=r,0===gr&&xr(yn)),a!==r?n=o=[o,u,a]:(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,"set"===e.substr(vr,3).toLowerCase()?(o=e.substr(vr,3),vr+=3):(o=r,0===gr&&xr(Ye)),o!==r&&(u=eu())!==r?("null"===e.substr(vr,4).toLowerCase()?(a=e.substr(vr,4),vr+=4):(a=r,0===gr&&xr(Q)),a!==r?n=o=[o,u,a]:(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,"set"===e.substr(vr,3).toLowerCase()?(o=e.substr(vr,3),vr+=3):(o=r,0===gr&&xr(Ye)),o!==r&&(u=eu())!==r?("default"===e.substr(vr,7).toLowerCase()?(a=e.substr(vr,7),vr+=7):(a=r,0===gr&&xr(Z)),a!==r?n=o=[o,u,a]:(vr=n,n=r)):(vr=n,n=r)))));t=n!==r?e.substring(t,vr):n;return t}())!==r?(t,u=o,t={type:n.toLowerCase(),action:u.toLowerCase()}):(vr=t,t=r)):(vr=t,t=r),t}function cu(){var t,n;return t=vr,"hash"===e.substr(vr,4).toLowerCase()?(n=e.substr(vr,4),vr+=4):(n=r,0===gr&&xr(R)),n===r&&("btree"===e.substr(vr,5).toLowerCase()?(n=e.substr(vr,5),vr+=5):(n=r,0===gr&&xr(gn)),n===r&&("gist"===e.substr(vr,4).toLowerCase()?(n=e.substr(vr,4),vr+=4):(n=r,0===gr&&xr(wn)),n===r&&("gin"===e.substr(vr,3).toLowerCase()?(n=e.substr(vr,3),vr+=3):(n=r,0===gr&&xr(_n)),n===r&&("brin"===e.substr(vr,4).toLowerCase()?(n=e.substr(vr,4),vr+=4):(n=r,0===gr&&xr(Cn)),n===r&&("sp-gist"===e.substr(vr,7).toLowerCase()?(n=e.substr(vr,7),vr+=7):(n=r,0===gr&&xr(An))))))),n!==r&&(t,n=n),t=n}function lu(){var t,n,o,u,a,i,s,c,l;return t=vr,n=vr,(o=function(){var t;return"includes"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(Le)),t}())!==r&&(u=Zo())!==r?(40===e.charCodeAt(vr)?(a="(",vr++):(a=r,0===gr&&xr(lt)),a!==r&&(i=Zo())!==r&&(s=pu())!==r&&(c=Zo())!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r?n=o=[o,u,a,i,s,c,l]:(vr=n,n=r)):(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,(o=Xr())!==r&&(u=Zo())!==r?(40===e.charCodeAt(vr)?(a="(",vr++):(a=r,0===gr&&xr(lt)),a!==r&&(i=Zo())!==r&&(s=hu())!==r&&(c=Zo())!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r?n=o=[o,u,a,i,s,c,l]:(vr=n,n=r)):(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,(o=Dr())!==r&&(u=eu())!==r&&(a=Tr())!==r&&(i=eu())!==r&&(s=oo())!==r&&(c=eu())!==r&&(l=qo())!==r?n=o=[o,u,a,i,s,c,l]:(vr=n,n=r))),n===r&&(n=null),n!==r&&(t,n=n),t=n}function fu(){var e,t,n,o,u,a,i,s;if(e=vr,(t=qo())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=qo())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=qo())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,e=t=hn(t,n)):(vr=e,e=r)}else vr=e,e=r;return e}function pu(){var e,t,n,o,u,a,i,s;if(e=vr,(t=Ko())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Ko())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Ko())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,e=t=hn(t,n)):(vr=e,e=r)}else vr=e,e=r;return e}function du(){var t,n,o,u,a,i;return t=vr,(n=qo())!==r&&(o=Zo())!==r&&(u=Xr())!==r&&(a=Zo())!==r&&(i=function(){var t;return"&&"===e.substr(vr,2)?(t="&&",vr+=2):(t=r,0===gr&&xr(pn)),t===r&&(61===e.charCodeAt(vr)?(t="=",vr++):(t=r,0===gr&&xr(dn))),t}())!==r?t=n=[n,o,u,a,i]:(vr=t,t=r),t}function hu(){var e,t,n,o,u,a,i,s;if(e=vr,(t=vu())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=vu())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=vu())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?e=t=[t,n]:(vr=e,e=r)}else vr=e,e=r;return e}function vu(){var t,n,o,u,a,i,s;return t=vr,"fillfactor"===e.substr(vr,10).toLowerCase()?(n=e.substr(vr,10),vr+=10):(n=r,0===gr&&xr(En)),n===r&&("parallel_worlers"===e.substr(vr,16).toLowerCase()?(n=e.substr(vr,16),vr+=16):(n=r,0===gr&&xr(xn)),n===r&&("autovacuum_enabled"===e.substr(vr,18).toLowerCase()?(n=e.substr(vr,18),vr+=18):(n=r,0===gr&&xr(On)),n===r&&("toast.autovacuum_enabled"===e.substr(vr,24).toLowerCase()?(n=e.substr(vr,24),vr+=24):(n=r,0===gr&&xr(Ln)),n===r&&("autovacuum_vacuum_threshold"===e.substr(vr,27).toLowerCase()?(n=e.substr(vr,27),vr+=27):(n=r,0===gr&&xr(In)),n===r&&("toast.autovacuum_vacuum_threshold"===e.substr(vr,33).toLowerCase()?(n=e.substr(vr,33),vr+=33):(n=r,0===gr&&xr(Sn)),n===r&&("autovacuum_vacuum_scale_factor"===e.substr(vr,30).toLowerCase()?(n=e.substr(vr,30),vr+=30):(n=r,0===gr&&xr(kn)),n===r&&("toast.autovacuum_vacuum_scale_factor"===e.substr(vr,36).toLowerCase()?(n=e.substr(vr,36),vr+=36):(n=r,0===gr&&xr(Tn)),n===r&&("autovacuum_analyze_threshold"===e.substr(vr,28).toLowerCase()?(n=e.substr(vr,28),vr+=28):(n=r,0===gr&&xr(jn)),n===r&&("autovacuum_analyze_scale_factor"===e.substr(vr,31).toLowerCase()?(n=e.substr(vr,31),vr+=31):(n=r,0===gr&&xr(Nn)),n===r&&("autovacuum_vacuum_cost_delay"===e.substr(vr,28).toLowerCase()?(n=e.substr(vr,28),vr+=28):(n=r,0===gr&&xr(Pn)),n===r&&("toast.autovacuum_vacuum_cost_delay"===e.substr(vr,34).toLowerCase()?(n=e.substr(vr,34),vr+=34):(n=r,0===gr&&xr(Dn)),n===r&&("autovacuum_vacuum_cost_limit"===e.substr(vr,28).toLowerCase()?(n=e.substr(vr,28),vr+=28):(n=r,0===gr&&xr(Rn)),n===r&&("toast.autovacuum_vacuum_cost_limit"===e.substr(vr,34).toLowerCase()?(n=e.substr(vr,34),vr+=34):(n=r,0===gr&&xr(Kn)),n===r&&("autovacuum_freeze_min_age"===e.substr(vr,25).toLowerCase()?(n=e.substr(vr,25),vr+=25):(n=r,0===gr&&xr(Fn)),n===r&&("toast.autovacuum_freeze_min_age"===e.substr(vr,31).toLowerCase()?(n=e.substr(vr,31),vr+=31):(n=r,0===gr&&xr(Mn)),n===r&&("autovacuum_freeze_max_age"===e.substr(vr,25).toLowerCase()?(n=e.substr(vr,25),vr+=25):(n=r,0===gr&&xr(Un)),n===r&&("toast.autovacuum_freeze_max_age"===e.substr(vr,31).toLowerCase()?(n=e.substr(vr,31),vr+=31):(n=r,0===gr&&xr(qn)),n===r&&("autovacuum_freeze_table_age"===e.substr(vr,27).toLowerCase()?(n=e.substr(vr,27),vr+=27):(n=r,0===gr&&xr(Bn)),n===r&&("toast.autovacuum_freeze_table_age"===e.substr(vr,33).toLowerCase()?(n=e.substr(vr,33),vr+=33):(n=r,0===gr&&xr(zn)),n===r&&("autovacuum_multixact_freeze_min_age"===e.substr(vr,35).toLowerCase()?(n=e.substr(vr,35),vr+=35):(n=r,0===gr&&xr($n)),n===r&&("toast.autovacuum_multixact_freeze_min_age"===e.substr(vr,41).toLowerCase()?(n=e.substr(vr,41),vr+=41):(n=r,0===gr&&xr(Gn)),n===r&&("autovacuum_multixact_freeze_max_age"===e.substr(vr,35).toLowerCase()?(n=e.substr(vr,35),vr+=35):(n=r,0===gr&&xr(Wn)),n===r&&("toast.autovacuum_multixact_freeze_max_age"===e.substr(vr,41).toLowerCase()?(n=e.substr(vr,41),vr+=41):(n=r,0===gr&&xr(Hn)),n===r&&("autovacuum_multixact_freeze_table_age"===e.substr(vr,37).toLowerCase()?(n=e.substr(vr,37),vr+=37):(n=r,0===gr&&xr(Yn)),n===r&&("toast.autovacuum_multixact_freeze_table_age"===e.substr(vr,43).toLowerCase()?(n=e.substr(vr,43),vr+=43):(n=r,0===gr&&xr(Vn)),n===r&&("log_autovacuum_min_duration"===e.substr(vr,27).toLowerCase()?(n=e.substr(vr,27),vr+=27):(n=r,0===gr&&xr(Xn)),n===r&&("toast.log_autovacuum_min_duration"===e.substr(vr,33).toLowerCase()?(n=e.substr(vr,33),vr+=33):(n=r,0===gr&&xr(Qn)),n===r&&("user_catalog_table"===e.substr(vr,18).toLowerCase()?(n=e.substr(vr,18),vr+=18):(n=r,0===gr&&xr(Jn)))))))))))))))))))))))))))))),n!==r?(o=vr,(u=Zo())!==r?(61===e.charCodeAt(vr)?(a="=",vr++):(a=r,0===gr&&xr(dn)),a!==r&&(i=Zo())!==r&&(s=No())!==r?o=u=[u,a,i,s]:(vr=o,o=r)):(vr=o,o=r),o===r&&(o=null),o!==r?t=n=[n,o]:(vr=t,t=r)):(vr=t,t=r),t}function bu(){var e,t,n,o,u,a,i,s,c;if(e=vr,(t=mu())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=mu())!==r&&(c=Zo())!==r?o=u=[u,a,i,s,c]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=mu())!==r&&(c=Zo())!==r?o=u=[u,a,i,s,c]:(vr=o,o=r);n!==r?(e,e=t=hn(t,n)):(vr=e,e=r)}else vr=e,e=r;return e}function mu(){var t,n,o,u,a,i,s;if(t=vr,(n=au())!==r&&(t,n=vn(n)),(t=n)===r)if(t=vr,(n=Ko())!==r)if(eu()!==r)if(o=vr,(u=Xr())!==r&&(a=eu())!==r&&(i=function(){var t;return"options"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(ke)),t}())!==r?o=u=[u,a,i]:(vr=o,o=r),o===r&&(o=null),o!==r){for(u=[],a=vr,(i=Zo())!==r&&(s=uu())!==r?a=i=[i,s]:(vr=a,a=r);a!==r;)u.push(a),a=vr,(i=Zo())!==r&&(s=uu())!==r?a=i=[i,s]:(vr=a,a=r);u!==r?(t,t=n={table_property_name:"table_constraint",value:{name:n,column_constraints:u}}):(vr=t,t=r)}else vr=t,t=r;else vr=t,t=r;else vr=t,t=r;return t}function yu(){var t,n,o,u,a,i,s,c,l,f,p,d,h,v,b,m,y,g,w,_,C,A,E,x,O;return t=vr,Zo()!==r&&Ir()!==r&&eu()!==r?(n=vr,o=vr,(u=Fr())!==r&&(a=eu())!==r?o=u=[u,a]:(vr=o,o=r),o===r&&(o=vr,(u=Mr())!==r&&(a=eu())!==r?o=u=[u,a]:(vr=o,o=r)),o===r&&(o=null),o!==r?((u=Ur())===r&&(u=qr()),u!==r&&(a=eu())!==r?n=o=[o,u,a]:(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,(o=Br())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r)),n===r&&(n=null),n!==r&&(o=Rr())!==r?(u=vr,(a=eu())!==r&&(i=Kr())!==r?u=a=[a,i]:(vr=u,u=r),u===r&&(u=null),u!==r&&(a=eu())!==r&&(i=Fo())!==r&&eu()!==r&&$r()!==r&&eu()!==r&&Lo()!==r&&eu()!==r&&(s=Fo())!==r?(c=vr,(l=Zo())!==r?(40===e.charCodeAt(vr)?(f="(",vr++):(f=r,0===gr&&xr(lt)),f!==r&&(p=Zo())!==r&&(d=bu())!==r&&(h=Zo())!==r?(41===e.charCodeAt(vr)?(v=")",vr++):(v=r,0===gr&&xr(ft)),v!==r?c=l=[l,f,p,d,h,v]:(vr=c,c=r)):(vr=c,c=r)):(vr=c,c=r),c===r&&(c=null),c!==r?(l=vr,(f=eu())!==r&&(p=function(){var t;return"for"===e.substr(vr,3).toLowerCase()?(t=e.substr(vr,3),vr+=3):(t=r,0===gr&&xr(Te)),t}())!==r&&(d=eu())!==r&&(h=function(){var t;return"values"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(je)),t}())!==r&&(v=eu())!==r&&(b=function(){var t,n,o,u,a,i,s,c,l,f,p,d,h,v,b,m;t=vr,(n=function(){var t;return"in"===e.substr(vr,2).toLowerCase()?(t=e.substr(vr,2),vr+=2):(t=r,0===gr&&xr(Ne)),t}())!==r&&(o=Zo())!==r?(40===e.charCodeAt(vr)?(u="(",vr++):(u=r,0===gr&&xr(lt)),u!==r&&(a=Zo())!==r&&(i=function(){var e,t,n,o,u,a,i,s;if(e=vr,(t=gu())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=gu())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=gu())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r&&(s=Zo())!==r?(41===e.charCodeAt(vr)?(c=")",vr++):(c=r,0===gr&&xr(ft)),c!==r?t=n=[n,o,u,a,i,s,c]:(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r);t===r&&(t=vr,(n=function(){var t;return"from"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(Pe)),t}())!==r&&(o=Zo())!==r?(40===e.charCodeAt(vr)?(u="(",vr++):(u=r,0===gr&&xr(lt)),u!==r&&(a=Zo())!==r&&(i=wu())!==r&&(s=Zo())!==r?(41===e.charCodeAt(vr)?(c=")",vr++):(c=r,0===gr&&xr(ft)),c!==r&&(l=Zo())!==r&&(f=function(){var t;return"to"===e.substr(vr,2).toLowerCase()?(t=e.substr(vr,2),vr+=2):(t=r,0===gr&&xr(De)),t}())!==r&&(p=Zo())!==r?(40===e.charCodeAt(vr)?(d="(",vr++):(d=r,0===gr&&xr(lt)),d!==r&&(h=Zo())!==r&&(v=wu())!==r&&(b=Zo())!==r?(41===e.charCodeAt(vr)?(m=")",vr++):(m=r,0===gr&&xr(ft)),m!==r?t=n=[n,o,u,a,i,s,c,l,f,p,d,h,v,b,m]:(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,(n=Xr())!==r&&(o=Zo())!==r?(40===e.charCodeAt(vr)?(u="(",vr++):(u=r,0===gr&&xr(lt)),u!==r&&(a=Zo())!==r&&(i=function(){var t;return"modulus"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(Re)),t}())!==r&&(s=eu())!==r&&(c=zo())!==r&&(l=Zo())!==r&&(f=Vo())!==r&&(p=Zo())!==r&&(d=function(){var t;return"remainder"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(Ke)),t}())!==r&&(h=eu())!==r&&(v=zo())!==r&&(b=Zo())!==r?(41===e.charCodeAt(vr)?(m=")",vr++):(m=r,0===gr&&xr(ft)),m!==r?t=n=[n,o,u,a,i,s,c,l,f,p,d,h,v,b,m]:(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)));return t}())!==r?l=f=[f,p,d,h,v,b]:(vr=l,l=r),l===r&&(l=vr,(f=eu())!==r&&(p=lo())!==r?l=f=[f,p]:(vr=l,l=r)),l!==r?(f=vr,(p=eu())!==r&&(d=$r())!==r&&(h=eu())!==r&&(v=Gr())!==r&&(b=eu())!==r?((m=Wr())===r&&(m=Hr())===r&&(m=Yr()),m!==r&&(y=Zo())!==r?(40===e.charCodeAt(vr)?(g="(",vr++):(g=r,0===gr&&xr(lt)),g!==r&&(w=Zo())!==r?((_=Ko())===r&&(_=vr,40===e.charCodeAt(vr)?(C="(",vr++):(C=r,0===gr&&xr(lt)),C!==r&&(A=Zo())!==r&&(E=No())!==r&&(x=Zo())!==r?(41===e.charCodeAt(vr)?(O=")",vr++):(O=r,0===gr&&xr(ft)),O!==r?_=C=[C,A,E,x,O]:(vr=_,_=r)):(vr=_,_=r)),_!==r?(C=vr,(A=eu())!==r&&(E=zr())!==r&&(x=eu())!==r&&(O=qo())!==r?C=A=[A,E,x,O]:(vr=C,C=r),C===r&&(C=null),C!==r?(A=vr,(E=eu())!==r&&(x=fu())!==r?A=E=[E,x]:(vr=A,A=r),A===r&&(A=null),A!==r&&(E=Zo())!==r?(41===e.charCodeAt(vr)?(x=")",vr++):(x=r,0===gr&&xr(ft)),x!==r?f=p=[p,d,h,v,b,m,y,g,w,_,C,A,E,x]:(vr=f,f=r)):(vr=f,f=r)):(vr=f,f=r)):(vr=f,f=r)):(vr=f,f=r)):(vr=f,f=r)):(vr=f,f=r),f===r&&(f=null),f!==r?(p=vr,(d=eu())!==r&&(h=Xr())!==r&&(v=Zo())!==r?(40===e.charCodeAt(vr)?(b="(",vr++):(b=r,0===gr&&xr(lt)),b!==r&&(m=Zo())!==r&&(y=hu())!==r&&(g=Zo())!==r?(41===e.charCodeAt(vr)?(w=")",vr++):(w=r,0===gr&&xr(ft)),w!==r?p=d=[d,h,v,b,m,y,g,w]:(vr=p,p=r)):(vr=p,p=r)):(vr=p,p=r),p===r&&(p=vr,(d=eu())!==r&&(h=Xr())!==r&&(v=eu())!==r&&(b=Jr())!==r?p=d=[d,h,v,b]:(vr=p,p=r),p===r&&(p=vr,(d=eu())!==r&&(h=Qr())!==r&&(v=eu())!==r&&(b=Jr())!==r?p=d=[d,h,v,b]:(vr=p,p=r))),p===r&&(p=null),p!==r?(d=vr,(h=eu())!==r&&(v=Pr())!==r&&(b=eu())!==r&&(m=Zr())!==r&&(y=eu())!==r?(g=vr,(w=eo())!==r&&(_=eu())!==r&&(C=to())!==r?g=w=[w,_,C]:(vr=g,g=r),g===r&&(g=vr,(w=no())!==r&&(_=eu())!==r&&(C=to())!==r?g=w=[w,_,C]:(vr=g,g=r),g===r&&(g=ro())),g!==r?d=h=[h,v,b,m,y,g]:(vr=d,d=r)):(vr=d,d=r),d===r&&(d=null),d!==r?(h=vr,(v=eu())!==r&&(b=oo())!==r&&(m=eu())!==r&&(y=qo())!==r?h=v=[v,b,m,y]:(vr=h,h=r),h===r&&(h=null),h!==r&&(v=Zo())!==r&&(b=Qo())!==r&&(m=Zo())!==r?(t,t={syntax_name:"create_table_partition_of",value:{name:i,parent_table:s}}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}function gu(){var e;return(e=zo())===r&&(e=Mo())===r&&(e=Io())===r&&(e=So())===r&&(e=so()),e}function wu(){var e,t,n,o,u,a,i,s;if(e=vr,(t=_u())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=_u())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=_u())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,e=t=hn(t,n)):(vr=e,e=r)}else vr=e,e=r;return e}function _u(){var t;return(t=zo())===r&&(t=Mo())===r&&(t=Io())===r&&(t=So())===r&&(t=function(){var t;return"minvalue"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(qe)),t}())===r&&(t=function(){var t;return"maxvalue"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(Ue)),t}()),t}function Cu(){var t,n;return t=vr,(n=ru())!==r&&(t,n={command_name:"create_table",value:n}),(t=n)===r&&(t=vr,(n=function(){var t,n,o,u,a,i,s,c,l,f,p,d,h,v,b,m,y,g,w,_,C,A,E,x;return t=vr,Zo()!==r&&Ir()!==r&&eu()!==r?(n=vr,o=vr,(u=Fr())!==r&&(a=eu())!==r?o=u=[u,a]:(vr=o,o=r),o===r&&(o=vr,(u=Mr())!==r&&(a=eu())!==r?o=u=[u,a]:(vr=o,o=r)),o===r&&(o=null),o!==r?((u=Ur())===r&&(u=qr()),u!==r&&(a=eu())!==r?n=o=[o,u,a]:(vr=n,n=r)):(vr=n,n=r),n===r&&(n=vr,(o=Br())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r)),n===r&&(n=null),n!==r&&(o=Rr())!==r?(u=vr,(a=eu())!==r&&(i=Kr())!==r?u=a=[a,i]:(vr=u,u=r),u===r&&(u=null),u!==r&&(a=eu())!==r&&(i=Fo())!==r&&eu()!==r&&Lo()!==r&&eu()!==r&&(s=qo())!==r?(c=vr,(l=Zo())!==r?(40===e.charCodeAt(vr)?(f="(",vr++):(f=r,0===gr&&xr(lt)),f!==r&&(p=Zo())!==r&&(d=bu())!==r&&(h=Zo())!==r?(41===e.charCodeAt(vr)?(v=")",vr++):(v=r,0===gr&&xr(ft)),v!==r?c=l=[l,f,p,d,h,v]:(vr=c,c=r)):(vr=c,c=r)):(vr=c,c=r),c===r&&(c=null),c!==r?(l=vr,(f=eu())!==r&&(p=$r())!==r&&(d=eu())!==r&&(h=Gr())!==r&&(v=eu())!==r?((b=Wr())===r&&(b=Hr())===r&&(b=Yr()),b!==r&&(m=Zo())!==r?(40===e.charCodeAt(vr)?(y="(",vr++):(y=r,0===gr&&xr(lt)),y!==r&&(g=Zo())!==r?((w=Ko())===r&&(w=vr,40===e.charCodeAt(vr)?(_="(",vr++):(_=r,0===gr&&xr(lt)),_!==r&&(C=Zo())!==r&&(A=No())!==r&&(E=Zo())!==r?(41===e.charCodeAt(vr)?(x=")",vr++):(x=r,0===gr&&xr(ft)),x!==r?w=_=[_,C,A,E,x]:(vr=w,w=r)):(vr=w,w=r)),w!==r?(_=vr,(C=eu())!==r&&(A=zr())!==r&&(E=eu())!==r&&(x=qo())!==r?_=C=[C,A,E,x]:(vr=_,_=r),_===r&&(_=null),_!==r?(C=vr,(A=eu())!==r&&(E=fu())!==r?C=A=[A,E]:(vr=C,C=r),C===r&&(C=null),C!==r&&(A=Zo())!==r?(41===e.charCodeAt(vr)?(E=")",vr++):(E=r,0===gr&&xr(ft)),E!==r?l=f=[f,p,d,h,v,b,m,y,g,w,_,C,A,E]:(vr=l,l=r)):(vr=l,l=r)):(vr=l,l=r)):(vr=l,l=r)):(vr=l,l=r)):(vr=l,l=r)):(vr=l,l=r),l===r&&(l=null),l!==r?(f=vr,(p=eu())!==r&&(d=Xr())!==r&&(h=Zo())!==r?(40===e.charCodeAt(vr)?(v="(",vr++):(v=r,0===gr&&xr(lt)),v!==r&&(b=Zo())!==r&&(m=hu())!==r&&(y=Zo())!==r?(41===e.charCodeAt(vr)?(g=")",vr++):(g=r,0===gr&&xr(ft)),g!==r?f=p=[p,d,h,v,b,m,y,g]:(vr=f,f=r)):(vr=f,f=r)):(vr=f,f=r),f===r&&(f=vr,(p=eu())!==r&&(d=Xr())!==r&&(h=eu())!==r&&(v=Jr())!==r?f=p=[p,d,h,v]:(vr=f,f=r),f===r&&(f=vr,(p=eu())!==r&&(d=Qr())!==r&&(h=eu())!==r&&(v=Jr())!==r?f=p=[p,d,h,v]:(vr=f,f=r))),f===r&&(f=null),f!==r?(p=vr,(d=eu())!==r&&(h=Pr())!==r&&(v=eu())!==r&&(b=Zr())!==r&&(m=eu())!==r?(y=vr,(g=eo())!==r&&(w=eu())!==r&&(_=to())!==r?y=g=[g,w,_]:(vr=y,y=r),y===r&&(y=vr,(g=no())!==r&&(w=eu())!==r&&(_=to())!==r?y=g=[g,w,_]:(vr=y,y=r),y===r&&(y=ro())),y!==r?p=d=[d,h,v,b,m,y]:(vr=p,p=r)):(vr=p,p=r),p===r&&(p=null),p!==r?(d=vr,(h=eu())!==r&&(v=oo())!==r&&(b=eu())!==r&&(m=qo())!==r?d=h=[h,v,b,m]:(vr=d,d=r),d===r&&(d=null),d!==r&&(h=Zo())!==r&&(v=Qo())!==r&&(b=Zo())!==r?(t,t={syntax_name:"create_table_of",value:{name:i,type:s}}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}())!==r&&(t,n={command_name:"create_table",value:n}),(t=n)===r&&(t=vr,(n=yu())!==r&&(t,n={command_name:"create_table",value:n}),t=n)),t}function Au(){var t,n,o,u,i;return t=vr,Zo()!==r&&Ir()!==r&&eu()!==r&&jr()!==r&&eu()!==r&&(n=qo())!==r&&eu()!==r&&Co()!==r&&eu()!==r&&function(){var t;return"enum"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(v)),t}()!==r&&Zo()!==r?(40===e.charCodeAt(vr)?(o="(",vr++):(o=r,0===gr&&xr(lt)),o!==r&&Zo()!==r&&(u=function(){var e,t,n,o,u,i,s,c;if(e=vr,(t=Mo())!==r){for(n=[],o=vr,(u=Zo())!==r&&(i=Vo())!==r&&(s=Zo())!==r&&(c=Mo())!==r?o=u=[u,i,s,c]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(i=Vo())!==r&&(s=Zo())!==r&&(c=Mo())!==r?o=u=[u,i,s,c]:(vr=o,o=r);n!==r?(e,t=[t].concat(a(n.map((function(e){return e[3]})))),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r&&Zo()!==r?(41===e.charCodeAt(vr)?(i=")",vr++):(i=r,0===gr&&xr(ft)),i!==r&&Zo()!==r&&Qo()!==r&&Zo()!==r?(t,t={syntax_name:"create_type_enum",value:{name:n,values:u.map((function(e){return{name:e}}))}}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}function Eu(){var t,n,o,u,a,i,s,c,l,f,p,d,h,v,b;return t=vr,Zo()!==r&&Ir()!==r&&eu()!==r&&jr()!==r&&eu()!==r&&qo()!==r&&eu()!==r&&Co()!==r&&eu()!==r&&Wr()!==r&&Zo()!==r?(40===e.charCodeAt(vr)?(n="(",vr++):(n=r,0===gr&&xr(lt)),n!==r&&Zo()!==r&&function(){var t;return"subtype"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(Be)),t}()!==r&&Zo()!==r?(61===e.charCodeAt(vr)?(o="=",vr++):(o=r,0===gr&&xr(dn)),o!==r&&Zo()!==r&&No()!==r?(u=vr,(a=Zo())!==r&&(i=Vo())!==r&&(s=Zo())!==r&&(c=function(){var t;return"subtype_opclass"===e.substr(vr,15).toLowerCase()?(t=e.substr(vr,15),vr+=15):(t=r,0===gr&&xr(ze)),t}())!==r&&(l=Zo())!==r?(61===e.charCodeAt(vr)?(f="=",vr++):(f=r,0===gr&&xr(dn)),f!==r&&(p=Zo())!==r&&(d=No())!==r?u=a=[a,i,s,c,l,f,p,d]:(vr=u,u=r)):(vr=u,u=r),u===r&&(u=null),u!==r?(a=vr,(i=Zo())!==r&&(s=Vo())!==r&&(c=Zo())!==r&&(l=zr())!==r&&(f=Zo())!==r?(61===e.charCodeAt(vr)?(p="=",vr++):(p=r,0===gr&&xr(dn)),p!==r&&(d=Zo())!==r&&(h=qo())!==r?a=i=[i,s,c,l,f,p,d,h]:(vr=a,a=r)):(vr=a,a=r),a===r&&(a=null),a!==r?(i=vr,(s=Zo())!==r&&(c=Vo())!==r&&(l=Zo())!==r&&(f=function(){var t;return"canonical"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr($e)),t}())!==r&&(p=Zo())!==r?(61===e.charCodeAt(vr)?(d="=",vr++):(d=r,0===gr&&xr(dn)),d!==r&&(h=Zo())!==r&&(v=No())!==r?i=s=[s,c,l,f,p,d,h,v]:(vr=i,i=r)):(vr=i,i=r),i===r&&(i=null),i!==r?(s=vr,(c=Zo())!==r&&(l=Vo())!==r&&(f=Zo())!==r&&(p=function(){var t;return"subtype_diff"===e.substr(vr,12).toLowerCase()?(t=e.substr(vr,12),vr+=12):(t=r,0===gr&&xr(Ge)),t}())!==r&&(d=Zo())!==r?(61===e.charCodeAt(vr)?(h="=",vr++):(h=r,0===gr&&xr(dn)),h!==r&&(v=Zo())!==r&&(b=No())!==r?s=c=[c,l,f,p,d,h,v,b]:(vr=s,s=r)):(vr=s,s=r),s===r&&(s=null),s!==r&&(c=Zo())!==r?(41===e.charCodeAt(vr)?(l=")",vr++):(l=r,0===gr&&xr(ft)),l!==r&&(f=Zo())!==r&&(p=Qo())!==r&&(d=Zo())!==r?(t,t={syntax_name:"create_table_range"}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}function xu(){var t,n;return t=vr,(n=function(){var t,n,o,u,a,i;t=vr,Zo()!==r&&Sr()!==r&&eu()!==r&&Rr()!==r?(n=vr,(o=eu())!==r&&(u=function(){var t,n,o,u;return t=vr,"if"===e.substr(vr,2).toLowerCase()?(n=e.substr(vr,2),vr+=2):(n=r,0===gr&&xr(A)),n!==r&&(o=eu())!==r?("exists"===e.substr(vr,6).toLowerCase()?(u=e.substr(vr,6),vr+=6):(u=r,0===gr&&xr(x)),u!==r?t=n=[n,o,u]:(vr=t,t=r)):(vr=t,t=r),t}())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r?(o=vr,(u=eu())!==r&&(a=Ao())!==r?o=u=[u,a]:(vr=o,o=r),o===r&&(o=null),o!==r&&(u=eu())!==r&&(a=Fo())!==r&&eu()!==r&&(i=function(){var e,t,n,o,u,a,i,s;if(e=vr,(t=Ou())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Ou())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Ou())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r&&Zo()!==r&&Qo()!==r&&Zo()!==r?(t,s=a,(c=i).forEach((function(e){var t=e.type,n=e.t_value;switch(t.toLowerCase()){case"fk":n.forEach((function(e){e.endpoints[0].tableName=s}))}})),t={syntax_name:"alter_table_action",value:c}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r);var s,c;return t}())!==r&&(t,n={command_name:"alter_table",value:n}),t=n}function Ou(){var t,n,o,u,a,i,s,c,l,f,p,d,h;return t=vr,function(){var t;return"add"===e.substr(vr,3).toLowerCase()?(t=e.substr(vr,3),vr+=3):(t=r,0===gr&&xr(ge)),t}()!==r&&eu()!==r&&(n=au())!==r?(o=vr,(u=eu())!==r&&(a=io())!==r&&(i=eu())!==r&&(s=function(){var t;return"valid"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(We)),t}())!==r?o=u=[u,a,i,s]:(vr=o,o=r),o===r&&(o=null),o!==r?(t,t=n):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r?(a=vr,(i=To())!==r&&(s=eu())!==r&&(c=function(){var t;return"data"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(Ve)),t}())!==r&&(l=eu())!==r?a=i=[i,s,c,l]:(vr=a,a=r),a===r&&(a=null),a!==r&&(i=jr())!==r&&(s=eu())!==r&&(c=Wo())!==r?(l=vr,(f=eu())!==r&&(p=zr())!==r&&(d=qo())!==r?l=f=[f,p,d]:(vr=l,l=r),l===r&&(l=null),l!==r?(f=vr,(p=eu())!==r&&(d=Dr())!==r&&(h=Iu())!==r?(f,f=p=h):(vr=f,f=r),f===r&&(f=null),f!==r?(t,t={type:"type",expression:f}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r&&(a=To())!==r&&(i=eu())!==r&&(s=lo())!==r&&(c=eu())!==r&&(l=Iu())!==r?(t,t=function(e,t){return{type:"set_default",expression:t}}(0,l)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r&&(a=ro())!==r&&(i=eu())!==r&&(s=lo())!==r?(t,t={type:"drop_default"}):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r?((a=To())===r&&(a=ro()),a!==r&&(i=eu())!==r&&(s=io())!==r&&(c=eu())!==r&&(l=so())!==r?(t,t="SET"===a.toUpperCase()?{type:"set_not_null"}:{type:"drop_not_null"}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r&&(a=To())!==r&&(i=eu())!==r&&(s=xo())!==r&&(c=zo())!==r?(t,t={type:"set_statistics",value:c}):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r&&(a=To())!==r&&(i=Zo())!==r?(40===e.charCodeAt(vr)?(s="(",vr++):(s=r,0===gr&&xr(lt)),s!==r&&(c=Zo())!==r&&(l=function(){var e,t,n,o,u,a,i,s;if(e=vr,(t=Lu())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Lu())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=Lu())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r&&(f=Zo())!==r?(41===e.charCodeAt(vr)?(p=")",vr++):(p=r,0===gr&&xr(ft)),p!==r?(t,t={type:"set_options"}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r&&(a=jo())!==r&&(i=Zo())!==r?(40===e.charCodeAt(vr)?(s="(",vr++):(s=r,0===gr&&xr(lt)),s!==r&&(c=Zo())!==r&&(l=function(){var e,t,n,o,u,a,i;e=vr,(t=qo())!==r?(n=vr,(o=Zo())!==r&&(u=Vo())!==r&&(a=Zo())!==r&&(i=qo())!==r?n=o=[o,u,a,i]:(vr=n,n=r),n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)):(vr=e,e=r);return e}())!==r&&(f=Zo())!==r?(41===e.charCodeAt(vr)?(p=")",vr++):(p=r,0===gr&&xr(ft)),p!==r?(t,t={type:"reset_options"}):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t===r&&(t=vr,Sr()!==r&&eu()!==r?(n=vr,(o=ko())!==r&&(u=eu())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=Ko())!==r&&(u=eu())!==r&&(a=To())!==r&&(i=eu())!==r&&(s=Oo())!==r&&(c=eu())!==r?((l=function(){var t;return"plain"===e.substr(vr,5).toLowerCase()?(t=e.substr(vr,5),vr+=5):(t=r,0===gr&&xr(Qe)),t}())===r&&(l=function(){var t;return"external"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(Je)),t}())===r&&(l=function(){var t;return"extended"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(Ze)),t}())===r&&(l=function(){var t;return"main"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(et)),t}()),l!==r?(t,t=function(e,t){return{type:"set_storage",value:t.toLowerCase()}}(0,l)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r))))))))),t}function Lu(){var t,n,o,u,a,i;return t=vr,(n=qo())!==r&&(o=Zo())!==r?(61===e.charCodeAt(vr)?(u="=",vr++):(u=r,0===gr&&xr(dn)),u!==r&&(a=Zo())!==r&&(i=No())!==r?t=n=[n,o,u,a,i]:(vr=t,t=r)):(vr=t,t=r),t}function Iu(){var t,n,o;if(t=vr,n=[],Zn.test(e.charAt(vr))?(o=e.charAt(vr),vr++):(o=r,0===gr&&xr(er)),o!==r)for(;o!==r;)n.push(o),Zn.test(e.charAt(vr))?(o=e.charAt(vr),vr++):(o=r,0===gr&&xr(er));else n=r;return n!==r&&(t,n=Fu(n.join(""))),t=n}function Su(){var t,n,o,u,a,i,s,c,l,f,p,d,h,v,m,y,g,w,_,C,A,E,x,O,L;return t=vr,Zo()!==r&&Ir()!==r?(n=vr,(o=eu())!==r&&(u=kr())!==r?n=o=[o,u]:(vr=n,n=r),n===r&&(n=null),n!==r&&(o=eu())!==r&&(u=Tr())!==r?(a=vr,(i=eu())!==r&&(s=function(){var t;return"concurrenly"===e.substr(vr,11).toLowerCase()?(t=e.substr(vr,11),vr+=11):(t=r,0===gr&&xr(b)),t}())!==r?a=i=[i,s]:(vr=a,a=r),a===r&&(a=null),a!==r?(i=vr,(s=eu())!==r&&(c=Pr())!==r?(i,i=s=null):(vr=i,i=r),i===r&&(i=vr,s=vr,(c=eu())!==r&&(l=Kr())!==r?s=c=[c,l]:(vr=s,s=r),s===r&&(s=null),s!==r&&(c=eu())!==r&&(l=qo())!==r&&(f=eu())!==r&&Pr()!==r?(i,i=s=l):(vr=i,i=r)),i!==r?(s=vr,(c=eu())!==r&&(l=Ao())!==r?s=c=[c,l]:(vr=s,s=r),s===r&&(s=null),s!==r&&(c=eu())!==r&&(l=Fo())!==r?(f=vr,eu()!==r&&(p=Dr())!==r&&eu()!==r&&(d=cu())!==r?(f,f=d):(vr=f,f=r),f===r&&(f=null),f!==r&&Zo()!==r?(40===e.charCodeAt(vr)?(p="(",vr++):(p=r,0===gr&&xr(lt)),p!==r&&Zo()!==r&&(d=function(){var e,t,n,o,u,a,i,s;if(e=vr,(t=ku())!==r){for(n=[],o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=ku())!==r?o=u=[u,a,i,s]:(vr=o,o=r);o!==r;)n.push(o),o=vr,(u=Zo())!==r&&(a=Vo())!==r&&(i=Zo())!==r&&(s=ku())!==r?o=u=[u,a,i,s]:(vr=o,o=r);n!==r?(e,t=hn(t,n),e=t):(vr=e,e=r)}else vr=e,e=r;return e}())!==r&&Zo()!==r?(41===e.charCodeAt(vr)?(h=")",vr++):(h=r,0===gr&&xr(ft)),h!==r?(v=vr,(m=eu())!==r&&(y=function(){var t;return"include"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(Oe)),t}())!==r&&(g=Zo())!==r?(40===e.charCodeAt(vr)?(w="(",vr++):(w=r,0===gr&&xr(lt)),w!==r&&(_=Zo())!==r&&(C=pu())!==r&&(A=Zo())!==r?(41===e.charCodeAt(vr)?(E=")",vr++):(E=r,0===gr&&xr(ft)),E!==r?v=m=[m,y,g,w,_,C,A,E]:(vr=v,v=r)):(vr=v,v=r)):(vr=v,v=r),v===r&&(v=null),v!==r?(m=vr,(y=eu())!==r&&(g=Xr())!==r&&(w=Zo())!==r?(40===e.charCodeAt(vr)?(_="(",vr++):(_=r,0===gr&&xr(lt)),_!==r&&(C=Zo())!==r&&(A=function(){var t,n,o,u,a,i,s,c,l,f,p;t=vr,n=vr,(o=Tu())!==r&&(u=Zo())!==r?(61===e.charCodeAt(vr)?(a="=",vr++):(a=r,0===gr&&xr(dn)),a!==r&&(i=Zo())!==r&&(s=No())!==r?n=o=[o,u,a,i,s]:(vr=n,n=r)):(vr=n,n=r);if(n!==r){for(o=[],u=vr,(a=Zo())!==r&&(i=Vo())!==r&&(s=Zo())!==r&&(c=Tu())!==r&&(l=Zo())!==r?(61===e.charCodeAt(vr)?(f="=",vr++):(f=r,0===gr&&xr(dn)),f!==r&&(p=No())!==r?u=a=[a,i,s,c,l,f,p]:(vr=u,u=r)):(vr=u,u=r);u!==r;)o.push(u),u=vr,(a=Zo())!==r&&(i=Vo())!==r&&(s=Zo())!==r&&(c=Tu())!==r&&(l=Zo())!==r?(61===e.charCodeAt(vr)?(f="=",vr++):(f=r,0===gr&&xr(dn)),f!==r&&(p=No())!==r?u=a=[a,i,s,c,l,f,p]:(vr=u,u=r)):(vr=u,u=r);o!==r?t=n=[n,o]:(vr=t,t=r)}else vr=t,t=r;return t}())!==r&&(E=Zo())!==r?(41===e.charCodeAt(vr)?(x=")",vr++):(x=r,0===gr&&xr(ft)),x!==r?m=y=[y,g,w,_,C,A,E,x]:(vr=m,m=r)):(vr=m,m=r)):(vr=m,m=r),m===r&&(m=null),m!==r?(y=vr,(g=eu())!==r&&(w=oo())!==r&&(_=eu())!==r&&(C=qo())!==r?y=g=[g,w,_,C]:(vr=y,y=r),y===r&&(y=null),y!==r?(g=vr,(w=eu())!==r&&(_=_o())!==r&&(C=Zo())!==r?(40===e.charCodeAt(vr)?(A="(",vr++):(A=r,0===gr&&xr(lt)),A!==r&&(E=Zo())!==r&&(x=No())!==r&&(O=Zo())!==r?(41===e.charCodeAt(vr)?(L=")",vr++):(L=r,0===gr&&xr(ft)),L!==r?g=w=[w,_,C,A,E,x,O,L]:(vr=g,g=r)):(vr=g,g=r)):(vr=g,g=r),g===r&&(g=null),g!==r&&(w=Zo())!==r&&(_=Qo())!==r&&(C=Zo())!==r?(t,t=function(e,t,n,r,o){var u={syntax_name:"create_table",value:{table_name:n,columns:o}};return t&&(u.value.name=t),e&&(u.value.unique=!0),r&&(u.value.type=r.toUpperCase()),{command_name:"create_index",value:u}}(n,i,l,f,d)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}function ku(){var t,n,o,u,a,s,c,l,f,p;if(t=vr,n=vr,(o=Ko())!==r)if(40===e.charCodeAt(vr)?(u="(",vr++):(u=r,0===gr&&xr(lt)),u!==r){for(a=[],(s=Ko())===r&&(s=eu())===r&&(s=Vo());s!==r;)a.push(s),(s=Ko())===r&&(s=eu())===r&&(s=Vo());a!==r?(41===e.charCodeAt(vr)?(s=")",vr++):(s=r,0===gr&&xr(ft)),s!==r?(n,p=a,n=o={value:"".concat(o,"(").concat(Fu(i.flattenDeep(p).join("")),")"),type:"expression"}):(vr=n,n=r)):(vr=n,n=r)}else vr=n,n=r;else vr=n,n=r;return n===r&&(n=vr,(o=Ko())!==r&&(n,o=function(e){return{value:"".concat(e),type:"string"}}(o)),(n=o)===r&&(n=vr,(o=No())!==r&&(n,o={value:"".concat(o),type:"expression"}),n=o)),n!==r?(o=vr,(u=eu())!==r?("COLLATE"===e.substr(vr,7)?(a="COLLATE",vr+=7):(a=r,0===gr&&xr(tr)),a!==r&&(s=eu())!==r&&(c=qo())!==r?o=u=[u,a,s,c]:(vr=o,o=r)):(vr=o,o=r),o===r&&(o=null),o!==r?(u=vr,(a=eu())!==r?("ASC"===e.substr(vr,3)?(s="ASC",vr+=3):(s=r,0===gr&&xr(nr)),s!==r?u=a=[a,s]:(vr=u,u=r)):(vr=u,u=r),u===r&&(u=vr,(a=eu())!==r?("DESC"===e.substr(vr,4)?(s="DESC",vr+=4):(s=r,0===gr&&xr(rr)),s!==r?u=a=[a,s]:(vr=u,u=r)):(vr=u,u=r)),u===r&&(u=null),u!==r?(a=vr,(s=eu())!==r?("NULLS"===e.substr(vr,5)?(c="NULLS",vr+=5):(c=r,0===gr&&xr(or)),c!==r&&(l=eu())!==r?("FIRST"===e.substr(vr,5)?(f="FIRST",vr+=5):(f=r,0===gr&&xr(ur)),f===r&&("LAST"===e.substr(vr,4)?(f="LAST",vr+=4):(f=r,0===gr&&xr(ar))),f!==r?a=s=[s,c,l,f]:(vr=a,a=r)):(vr=a,a=r)):(vr=a,a=r),a===r&&(a=null),a!==r?(t,t=n=n):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r)):(vr=t,t=r),t}function Tu(){var t;return"fillfactor"===e.substr(vr,10).toLowerCase()?(t=e.substr(vr,10),vr+=10):(t=r,0===gr&&xr(En)),t===r&&("vacuum_cleanup_index_scale_factor"===e.substr(vr,33).toLowerCase()?(t=e.substr(vr,33),vr+=33):(t=r,0===gr&&xr(ir)),t===r&&("buffering"===e.substr(vr,9).toLowerCase()?(t=e.substr(vr,9),vr+=9):(t=r,0===gr&&xr(sr)),t===r&&("fastupdate"===e.substr(vr,10).toLowerCase()?(t=e.substr(vr,10),vr+=10):(t=r,0===gr&&xr(cr)),t===r&&("gin_pending_list_limit"===e.substr(vr,22).toLowerCase()?(t=e.substr(vr,22),vr+=22):(t=r,0===gr&&xr(lr)),t===r&&("pages_per_range"===e.substr(vr,15).toLowerCase()?(t=e.substr(vr,15),vr+=15):(t=r,0===gr&&xr(fr)),t===r&&("autosummarize"===e.substr(vr,13).toLowerCase()?(t=e.substr(vr,13),vr+=13):(t=r,0===gr&&xr(pr)))))))),t}function ju(){var t,n,o;return t=vr,Zo()!==r&&function(){var t;return"comment"===e.substr(vr,7).toLowerCase()?(t=e.substr(vr,7),vr+=7):(t=r,0===gr&&xr(tt)),t}()!==r&&eu()!==r&&Pr()!==r&&eu()!==r&&(n=function(){var t,n,o,u;t=vr,ko()!==r&&eu()!==r&&(n=qo())!==r?(46===e.charCodeAt(vr)?(o=".",vr++):(o=r,0===gr&&xr(_t)),o!==r&&(u=Ko())!==r?(t,t={syntax_name:"column",value:{relation_name:n,column_name:u}}):(vr=t,t=r)):(vr=t,t=r);t===r&&(t=vr,Rr()!==r&&eu()!==r&&(n=Fo())!==r?(t,t={syntax_name:"table",value:{table_name:n}}):(vr=t,t=r));return t}())!==r&&eu()!==r&&function(){var t;return"IS"===e.substr(vr,2)?(t="IS",vr+=2):(t=r,0===gr&&xr(nt)),t}()!==r&&eu()!==r?((o=Mo())===r&&(o=so()),o!==r&&Zo()!==r&&Qo()!==r&&Zo()!==r?(t,t=function(e,t){return"null"!==t.toLowerCase()?e.value.text=t:e.value.syntax_name="remove_comment",{command_name:"comment",value:e}}(n,o)):(vr=t,t=r)):(vr=t,t=r),t}function Nu(){var t,n,o,u,a,i,s;if(t=vr,Zo()!==r){if(n=vr,(o=function(){var t;return"insert"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(rt)),t}())!==r){for(u=[],dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));a!==r;)u.push(a),dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));u!==r?(n,n=o={syntax_name:"insert"}):(vr=n,n=r)}else vr=n,n=r;if(n===r){if(n=vr,(o=To())!==r){for(u=[],dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));a!==r;)u.push(a),dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));u!==r?(n,n=o={syntax_name:"set"}):(vr=n,n=r)}else vr=n,n=r;if(n===r){if(n=vr,(o=jo())!==r){for(u=[],dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));a!==r;)u.push(a),dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));u!==r?(n,n=o={syntax_name:"reset"}):(vr=n,n=r)}else vr=n,n=r;if(n===r){if(n=vr,(o=function(){var t;return"select"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(ot)),t}())!==r){for(u=[],dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));a!==r;)u.push(a),dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));u!==r?(n,n=o={syntax_name:"select"}):(vr=n,n=r)}else vr=n,n=r;if(n===r){if(n=vr,(o=ro())!==r){for(u=[],dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));a!==r;)u.push(a),dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));u!==r?(n,n=o={syntax_name:"drop"}):(vr=n,n=r)}else vr=n,n=r;if(n===r){if(n=vr,(o=function(){var t;return"use"===e.substr(vr,3).toLowerCase()?(t=e.substr(vr,3),vr+=3):(t=r,0===gr&&xr(ut)),t}())!==r){for(u=[],dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));a!==r;)u.push(a),dr.test(e.charAt(vr))?(a=e.charAt(vr),vr++):(a=r,0===gr&&xr(hr));u!==r?(n,n=o={syntax_name:"use"}):(vr=n,n=r)}else vr=n,n=r;if(n===r){if(n=vr,(o=Ir())!==r)if((u=eu())!==r)if((a=function(){var t;return"sequence"===e.substr(vr,8).toLowerCase()?(t=e.substr(vr,8),vr+=8):(t=r,0===gr&&xr(at)),t}())!==r){for(i=[],dr.test(e.charAt(vr))?(s=e.charAt(vr),vr++):(s=r,0===gr&&xr(hr));s!==r;)i.push(s),dr.test(e.charAt(vr))?(s=e.charAt(vr),vr++):(s=r,0===gr&&xr(hr));i!==r?(n,n=o={syntax_name:"create_sequence"}):(vr=n,n=r)}else vr=n,n=r;else vr=n,n=r;else vr=n,n=r;if(n===r){if(n=vr,(o=Ir())!==r)if((u=eu())!==r)if((a=function(){var t;return"schema"===e.substr(vr,6).toLowerCase()?(t=e.substr(vr,6),vr+=6):(t=r,0===gr&&xr(it)),t}())!==r){for(i=[],dr.test(e.charAt(vr))?(s=e.charAt(vr),vr++):(s=r,0===gr&&xr(hr));s!==r;)i.push(s),dr.test(e.charAt(vr))?(s=e.charAt(vr),vr++):(s=r,0===gr&&xr(hr));i!==r?(n,n=o={syntax_name:"create_schema"}):(vr=n,n=r)}else vr=n,n=r;else vr=n,n=r;else vr=n,n=r;if(n===r){if(n=vr,(o=Ir())!==r)if((u=eu())!==r)if((a=function(){var t;return"view"===e.substr(vr,4).toLowerCase()?(t=e.substr(vr,4),vr+=4):(t=r,0===gr&&xr(st)),t}())!==r){for(i=[],dr.test(e.charAt(vr))?(s=e.charAt(vr),vr++):(s=r,0===gr&&xr(hr));s!==r;)i.push(s),dr.test(e.charAt(vr))?(s=e.charAt(vr),vr++):(s=r,0===gr&&xr(hr));i!==r?(n,n=o={syntax_name:"create_view"}):(vr=n,n=r)}else vr=n,n=r;else vr=n,n=r;else vr=n,n=r;n===r&&(n=vr,(o=eu())!==r&&(n,o={syntax_name:"comment_and_space"}),n=o)}}}}}}}}n!==r&&(o=Qo())!==r&&(u=Zo())!==r?(t,t={command_name:"ignore_syntax",value:n}):(vr=t,t=r)}else vr=t,t=r;return t}function Pu(){var e,t;return e=vr,(t=Cu())!==r&&(e,t=t),(e=t)===r&&(e=vr,(t=function(){var e,t;return e=vr,(t=Au())!==r&&(e,t={command_name:"create_type",value:t}),(e=t)===r&&(e=vr,(t=Eu())!==r&&(e,t={command_name:"create_type",value:t}),e=t),e}())!==r&&(e,t=t),(e=t)===r&&(e=vr,(t=xu())!==r&&(e,t=t),(e=t)===r&&(e=vr,(t=Su())!==r&&(e,t=t),(e=t)===r&&(e=vr,(t=ju())!==r&&(e,t=t),(e=t)===r&&(e=vr,(t=Nu())!==r&&(e,t=t),e=t))))),e}var Du=[],Ru=[],Ku=[],Fu=function(e){return e.split(/[\s\r\n]*,[\s\r\n]*/).map((function(e){return e.replace(/^[\s]+|[\s]+$|[\r\n]|\s(?=\s)/g,"")})).join(", ")};if((n=c())!==r&&vr===e.length)return n;throw n!==r&&vr<e.length&&xr({type:"end"}),Or(yr,mr<e.length?e.charAt(mr):null,mr<e.length?Er(mr,mr+1):Er(mr,mr))}}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(0);n(8);function s(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,s)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(s,Error),s.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?u(e.parts[t][0])+"-"+u(e.parts[t][1]):u(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function u(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,o,u=new Array(e.length);for(t=0;t<e.length;t++)u[t]=(o=e[t],n[o.type](o));if(u.sort(),u.length>0){for(t=1,r=1;t<u.length;t++)u[t-1]!==u[t]&&(u[r]=u[t],r++);u.length=r}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:s,parse:function(e,t){t=void 0!==t?t:{};var n,o={},a={rules:Ot},c=Ot,l=function(e){(Ln+=1)>1&&function(e,t){throw t=void 0!==t?t:At(pt,ft),function(e,t){return new s(e,null,null,t)}(e,t)}("Project is already defined"),On.project=e,On.tables=On.tables.concat(e.tables),On.refs=On.refs.concat(e.refs),On.enums=On.enums.concat(e.enums),On.tableGroups=On.tableGroups.concat(e.tableGroups)},f=gt("{",!1),p=gt("}",!1),d=function(e){return{type:"note",value:e}},h=gt(":",!1),v=function(e,t){var n={name:e?e[1]:null,endpoints:t.endpoints,token:yt()};return Object.assign(n,t.settings),n},b=gt(".",!1),m=gt("(",!1),y=gt(")",!1),g=gt("[",!1),w=gt("]",!1),_=gt("update:",!0),C=gt("delete:",!0),A=function(e){return{type:"note",value:e}},E=gt("not null",!0),x=gt("null",!0),O=gt("primary key",!0),L=gt("pk",!0),I=gt("unique",!0),S=gt("increment",!1),k=gt("`",!1),T=/^[^`]/,j=wt(["`"],!0,!1),N=gt("name:",!0),P=function(e){return e.value},D=gt("note",!0),R=gt("note:",!0),K=gt("type:",!0),F=gt("ref:",!1),M=gt("default:",!0),U=gt("as",!1),q=_t("project"),B=gt("project",!0),z=_t("table"),$=gt("table",!0),G=(gt("as",!0),_t("references")),W=gt("ref",!0),H=_t("unique"),Y=_t("PK"),V=_t("indexes"),X=gt("indexes",!0),Q=_t("btree"),J=gt("btree",!0),Z=_t("hash"),ee=gt("hash",!0),te=_t("enum"),ne=gt("enum",!0),re=gt("headercolor",!0),oe=_t("Table Group"),ue=gt("TableGroup",!0),ae=_t("no action"),ie=gt("no action",!0),se=_t("restrict"),ce=gt("restrict",!0),le=_t("cascade"),fe=gt("cascade",!0),pe=_t("set null"),de=gt("set null",!0),he=_t("set default"),ve=gt("set default",!0),be=_t(">, - or <"),me=/^[>\-<]/,ye=wt([">","-","<"],!1,!1),ge=_t("valid name"),we=function(e){return e.join("")},_e=/^[^"\n]/,Ce=wt(['"',"\n"],!0,!1),Ae=_t("type"),Ee=_t("expression"),xe=gt(",",!1),Oe=gt(");",!1),Le={type:"any"},Ie=/^[',.a-z0-9_+-`]/i,Se=wt(["'",",",".",["a","z"],["0","9"],"_",["+","`"]],!1,!0),ke=/^['.a-z0-9_+\-]/i,Te=wt(["'",".",["a","z"],["0","9"],"_","+","-"],!1,!0),je=/^[[\]]/,Ne=wt(["[","]"],!1,!1),Pe=_t("letter, number or underscore"),De=/^[a-z0-9_]/i,Re=wt([["a","z"],["0","9"],"_"],!1,!0),Ke=/^[0-9a-fA-F]/,Fe=wt([["0","9"],["a","f"],["A","F"]],!1,!1),Me=gt('"',!1),Ue=_t("endline"),qe=gt("\t",!1),Be=_t("comment"),ze=gt("//",!1),$e=/^[^\n]/,Ge=wt(["\n"],!0,!1),We=_t("newline"),He=gt("\r\n",!1),Ye=gt("\n",!1),Ve=_t("whitespace"),Xe=/^[ \t\r\n\r]/,Qe=wt([" ","\t","\r","\n","\r"],!1,!1),Je=(wt([" ","\t","\r","\n","\r",'"'],!1,!1),gt(" ",!1)),Ze=gt("#",!1),et=_t("string"),tt=function(e){return{value:e.join(""),type:"string"}},nt=gt("'''",!1),rt=gt("'",!1),ot=gt("\\",!1),ut=function(){return mt()},at=gt("\\'",!1),it=/^[0-9]/,st=wt([["0","9"]],!1,!1),ct=(gt("=",!1),gt("true",!0)),lt=gt("false",!0),ft=0,pt=0,dt=[{line:1,column:1}],ht=0,vt=[],bt=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=a[t.startRule]}function mt(){return e.substring(pt,ft)}function yt(){return At(pt,ft)}function gt(e,t){return{type:"literal",text:e,ignoreCase:t}}function wt(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function _t(e){return{type:"other",description:e}}function Ct(t){var n,r=dt[t];if(r)return r;for(n=t-1;!dt[n];)n--;for(r={line:(r=dt[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return dt[t]=r,r}function At(e,t){var n=Ct(e),r=Ct(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Et(e){ft<ht||(ft>ht&&(ht=ft,vt=[]),vt.push(e))}function xt(e,t,n){return new s(s.buildMessage(e,t),e,t,n)}function Ot(){var e,t,n;for(e=ft,t=[],n=Lt();n!==o;)t.push(n),n=Lt();return t!==o&&(pt=e,t=On),e=t}function Lt(){var t,n,r,a,i,s;return t=ft,(n=Dt())!==o&&(pt=t,r=n,n=void On.tables.push(r)),(t=n)===o&&(t=ft,(n=kt())!==o&&(pt=t,s=n,n=void On.refs.push(s)),(t=n)===o&&(t=ft,(n=Ft())!==o&&(pt=t,i=n,n=void On.enums.push(i)),(t=n)===o&&(t=ft,(n=St())!==o&&(pt=t,a=n,n=void On.tableGroups.push(a)),(t=n)===o&&(t=ft,(n=function(){var t,n,r,a,i,s,c;t=ft,(n=function(){var t;bt++,"project"===e.substr(ft,7).toLowerCase()?(t=e.substr(ft,7),ft+=7):(t=o,0===bt&&Et(B));bt--,t===o&&(o,0===bt&&Et(q));return t}())!==o?(r=ft,(a=vn())!==o&&(i=on())!==o?r=a=[a,i]:(ft=r,r=o),r===o&&(r=null),r!==o&&(a=hn())!==o?(123===e.charCodeAt(ft)?(i="{",ft++):(i=o,0===bt&&Et(f)),i!==o&&hn()!==o&&(s=function(){var e,t,n,r;if(e=ft,(t=hn())!==o){for(n=[],r=It();r!==o;)n.push(r),r=It();n!==o&&(r=hn())!==o?(pt=e,a=[],i=[],s=[],c=[],l=null,f={},n.forEach((function(e){"table"===e.type?a.push(e.value):"ref"===e.type?i.push(e.value):"enum"===e.type?s.push(e.value):"table_group"===e.type?c.push(e.value):"note"===e.type?l=e.value:f[e.value.name]=e.value.value})),t=u({tables:a,refs:i,enums:s,tableGroups:c,note:l},f),e=t):(ft=e,e=o)}else ft=e,e=o;var a,i,s,c,l,f;return e}())!==o&&hn()!==o?(125===e.charCodeAt(ft)?(c="}",ft++):(c=o,0===bt&&Et(p)),c!==o?(pt=t,d=s,n=u({name:(l=r)?l[1]:null},d),t=n):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o);var l,d;return t}())!==o&&(pt=t,n=l(n)),(t=n)===o&&(t=vn()))))),t}function It(){var t,n,r;return t=ft,(n=hn())!==o&&(r=Ht())!==o&&hn()!==o?(pt=t,t=n=d(r)):(ft=t,t=o),t===o&&(t=ft,(n=hn())!==o&&(r=Dt())!==o&&hn()!==o?(pt=t,t=n={type:"table",value:r}):(ft=t,t=o),t===o&&(t=ft,(n=hn())!==o&&(r=kt())!==o&&hn()!==o?(pt=t,t=n={type:"ref",value:r}):(ft=t,t=o),t===o&&(t=ft,(n=hn())!==o&&(r=Ft())!==o&&hn()!==o?(pt=t,t=n={type:"enum",value:r}):(ft=t,t=o),t===o&&(t=ft,(n=St())!==o&&(r=hn())!==o?(pt=t,t=n={type:"table_group",value:n}):(ft=t,t=o),t===o&&(t=ft,(n=hn())!==o&&(r=function(){var t,n,r,u;t=ft,(n=on())!==o&&hn()!==o?(58===e.charCodeAt(ft)?(r=":",ft++):(r=o,0===bt&&Et(h)),r!==o&&hn()!==o&&(u=_n())!==o?(pt=t,n={name:n,value:u.value},t=n):(ft=t,t=o)):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t=n={type:"element",value:r}):(ft=t,t=o)))))),t}function St(){var t,n,r,u,a,i;if(t=ft,function(){var t;bt++,"tablegroup"===e.substr(ft,10).toLowerCase()?(t=e.substr(ft,10),ft+=10):(t=o,0===bt&&Et(ue));bt--,t===o&&(o,0===bt&&Et(oe));return t}()!==o){if(n=[],(r=gn())!==o)for(;r!==o;)n.push(r),r=gn();else n=o;n!==o&&(r=on())!==o&&hn()!==o?(123===e.charCodeAt(ft)?(u="{",ft++):(u=o,0===bt&&Et(f)),u!==o&&hn()!==o&&(a=function(){var e,t,n,r,u;e=ft,t=[],n=ft,(r=on())!==o&&(u=vn())!==o?n=r=[r,u]:(ft=n,n=o);for(;n!==o;)t.push(n),n=ft,(r=on())!==o&&(u=vn())!==o?n=r=[r,u]:(ft=n,n=o);t!==o&&(pt=e,t=t.map((function(e){return{name:e[0]}})));return e=t}())!==o&&hn()!==o?(125===e.charCodeAt(ft)?(i="}",ft++):(i=o,0===bt&&Et(p)),i!==o?(pt=t,t={name:r,tables:a,token:yt()}):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;return t}function kt(){var t,n;return t=ft,(n=function(){var t,n,r,u,a,i,s;t=ft,(n=Xt())!==o?(r=ft,(u=vn())!==o&&(a=on())!==o?r=u=[u,a]:(ft=r,r=o),r===o&&(r=null),r!==o&&(u=hn())!==o?(123===e.charCodeAt(ft)?(a="{",ft++):(a=o,0===bt&&Et(f)),a!==o&&hn()!==o&&(i=Tt())!==o&&hn()!==o?(125===e.charCodeAt(ft)?(s="}",ft++):(s=o,0===bt&&Et(p)),s!==o?(pt=t,n=v(r,i),t=n):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o);return t}())===o&&(n=function(){var t,n,r,u,a,i,s;if(t=ft,(n=Xt())!==o){if(r=ft,u=[],(a=gn())!==o)for(;a!==o;)u.push(a),a=gn();else u=o;if(u!==o&&(a=on())!==o?r=u=[u,a]:(ft=r,r=o),r===o&&(r=null),r!==o){for(u=[],a=gn();a!==o;)u.push(a),a=gn();if(u!==o)if(58===e.charCodeAt(ft)?(a=":",ft++):(a=o,0===bt&&Et(h)),a!==o){for(i=[],s=gn();s!==o;)i.push(s),s=gn();i!==o&&(s=Tt())!==o?(pt=t,n=v(r,s),t=n):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o}else ft=t,t=o;return t}()),n!==o&&(pt=t,n=n),t=n}function Tt(){var t,n,r,u,a,i,s,c,l,f,p,d,h,v,m,y;if(t=ft,(n=on())!==o)if(46===e.charCodeAt(ft)?(r=".",ft++):(r=o,0===bt&&Et(b)),r!==o)if((u=jt())!==o){if(a=[],(i=gn())!==o)for(;i!==o;)a.push(i),i=gn();else a=o;if(a!==o)if((i=rn())!==o){if(s=[],(c=gn())!==o)for(;c!==o;)s.push(c),c=gn();else s=o;if(s!==o)if((c=on())!==o)if(46===e.charCodeAt(ft)?(l=".",ft++):(l=o,0===bt&&Et(b)),l!==o)if((f=jt())!==o){for(p=[],d=gn();d!==o;)p.push(d),d=gn();p!==o?((d=function(){var t,n,r,u,a,i,s;t=ft,91===e.charCodeAt(ft)?(n="[",ft++):(n=o,0===bt&&Et(g));if(n!==o)if((r=Pt())!==o){for(u=[],a=ft,(i=wn())!==o&&(s=Pt())!==o?a=i=[i,s]:(ft=a,a=o);a!==o;)u.push(a),a=ft,(i=wn())!==o&&(s=Pt())!==o?a=i=[i,s]:(ft=a,a=o);u!==o?(93===e.charCodeAt(ft)?(a="]",ft++):(a=o,0===bt&&Et(w)),a!==o?(pt=t,c=[r].concat(u.map((function(e){return e[1]}))),l={},c.forEach((function(e){"update"===e.type&&(l.onUpdate=e.value),"delete"===e.type&&(l.onDelete=e.value)})),t=n=l):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;var c,l;return t}())===o&&(d=null),d!==o?(pt=t,v=c,m=f,y=d,t=n={endpoints:[{tableName:n,fieldNames:u,relation:">"===(h=i)?"*":"1",token:yt()},{tableName:v,fieldNames:m,relation:"<"===h?"*":"1",token:yt()}],settings:y}):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;else ft=t,t=o;else ft=t,t=o;return t}function jt(){var t,n;return t=ft,(n=Nt())===o&&(n=function(){var t,n,r,u,a,i,s,c,l,f;t=ft,40===e.charCodeAt(ft)?(n="(",ft++):(n=o,0===bt&&Et(m));if(n!==o){for(r=[],u=gn();u!==o;)r.push(u),u=gn();if(r!==o)if((u=Nt())!==o){for(a=[],i=ft,s=[],c=gn();c!==o;)s.push(c),c=gn();if(s!==o)if((c=wn())!==o){for(l=[],f=gn();f!==o;)l.push(f),f=gn();l!==o&&(f=Nt())!==o?i=s=[s,c,l,f]:(ft=i,i=o)}else ft=i,i=o;else ft=i,i=o;for(;i!==o;){for(a.push(i),i=ft,s=[],c=gn();c!==o;)s.push(c),c=gn();if(s!==o)if((c=wn())!==o){for(l=[],f=gn();f!==o;)l.push(f),f=gn();l!==o&&(f=Nt())!==o?i=s=[s,c,l,f]:(ft=i,i=o)}else ft=i,i=o;else ft=i,i=o}if(a!==o){for(i=[],s=gn();s!==o;)i.push(s),s=gn();i!==o?(41===e.charCodeAt(ft)?(s=")",ft++):(s=o,0===bt&&Et(y)),s!==o?(pt=t,n=[u].concat(a.map((function(e){return e[3]}))),t=n):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;return t}()),n!==o&&(pt=t,n=function(e){return"string"==typeof e&&(e=[e]),e}(n)),t=n}function Nt(){var e,t;return e=ft,(t=on())!==o&&(pt=e,t=t),e=t}function Pt(){var t,n;return t=ft,hn()!==o&&(n=function(){var t,n,r;t=ft,"update:"===e.substr(ft,7).toLowerCase()?(n=e.substr(ft,7),ft+=7):(n=o,0===bt&&Et(_));n!==o&&hn()!==o?((r=Jt())===o&&(r=Zt())===o&&(r=en())===o&&(r=tn())===o&&(r=nn()),r!==o?(pt=t,t=n=r):(ft=t,t=o)):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t={type:"update",value:n}):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=function(){var t,n,r;t=ft,"delete:"===e.substr(ft,7).toLowerCase()?(n=e.substr(ft,7),ft+=7):(n=o,0===bt&&Et(C));n!==o&&hn()!==o?((r=Jt())===o&&(r=Zt())===o&&(r=en())===o&&(r=tn())===o&&(r=nn()),r!==o?(pt=t,t=n=r):(ft=t,t=o)):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t=function(e){return{type:"delete",value:e}}(n)):(ft=t,t=o)),t}function Dt(){var t,n,a,s,c,l,d,h,v;if(t=ft,function(){var t;bt++,"table"===e.substr(ft,5).toLowerCase()?(t=e.substr(ft,5),ft+=5):(t=o,0===bt&&Et($));bt--,t===o&&(o,0===bt&&Et(z));return t}()!==o){if(n=[],(a=gn())!==o)for(;a!==o;)n.push(a),a=gn();else n=o;if(n!==o)if((a=on())!==o)if((s=function(){var t,n,r,u,a;if(t=ft,n=[],(r=gn())!==o)for(;r!==o;)n.push(r),r=gn();else n=o;if(n!==o)if("as"===e.substr(ft,2)?(r="as",ft+=2):(r=o,0===bt&&Et(U)),r!==o){if(u=[],(a=gn())!==o)for(;a!==o;)u.push(a),a=gn();else u=o;u!==o&&(a=on())!==o?(pt=t,t=n=a):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;return t}())===o&&(s=null),s!==o){for(c=[],l=gn();l!==o;)c.push(l),l=gn();c!==o?((l=function(){var t,n,u,a,i,s,c;t=ft,91===e.charCodeAt(ft)?(n="[",ft++):(n=o,0===bt&&Et(g));if(n!==o)if((u=Ut())!==o){for(a=[],i=ft,(s=wn())!==o&&(c=Ut())!==o?i=s=[s,c]:(ft=i,i=o);i!==o;)a.push(i),i=ft,(s=wn())!==o&&(c=Ut())!==o?i=s=[s,c]:(ft=i,i=o);a!==o?(93===e.charCodeAt(ft)?(i="]",ft++):(i=o,0===bt&&Et(w)),i!==o?(pt=t,l=[u].concat(r(a.map((function(e){return e[1]})))),f={},l.forEach((function(e){"string"==typeof e?e.startsWith("#")&&(f.headerColor=e.toUpperCase()):"note"===e.type&&(f.note=e.value)})),t=n=f):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;var l,f;return t}())===o&&(l=null),l!==o&&hn()!==o?(123===e.charCodeAt(ft)?(d="{",ft++):(d=o,0===bt&&Et(f)),d!==o&&(h=function(){var e,t,n,r,u,a;if(e=ft,(t=hn())!==o){if(n=[],(r=Kt())!==o)for(;r!==o;)n.push(r),r=Kt();else n=o;if(n!==o)if((r=hn())!==o){for(u=[],a=Rt();a!==o;)u.push(a),a=Rt();u!==o&&(a=hn())!==o?(pt=e,t=function(e,t){var n=i.flatMap(t.filter((function(e){return"indexes"===e.type})),(function(e){return e.value})),r=t.slice().reverse().find((function(e){return"note"===e.type})),o=[];if(e.forEach((function(e){e.pk&&o.push(e)})),o.length>1){var u=o.map((function(e){return{value:e.name,type:"column"}}));o.forEach((function(e){return delete e.pk})),n.push({columns:u,token:i.head(o).token,pk:!0})}return{fields:e,indexes:n,note:r?r.value:null}}(n,u),e=t):(ft=e,e=o)}else ft=e,e=o;else ft=e,e=o}else ft=e,e=o;return e}())!==o?(125===e.charCodeAt(ft)?(v="}",ft++):(v=o,0===bt&&Et(p)),v!==o?(pt=t,t=function(e,t,n,r){var o=r.fields||[],a=r.indexes||[];o.forEach((function(t){(t.inline_refs||[]).forEach((function(n){var r={name:null,endpoints:[{tableName:n.tableName,fieldNames:n.fieldNames,relation:"<"===n.relation?"*":"1",token:n.token},{tableName:e,fieldNames:[t.name],relation:">"===n.relation?"*":"1",token:n.token}],token:n.token};On.refs.push(r)}))}));var i=u({name:e,alias:t,fields:o,token:yt(),indexes:a},n);return r.note&&(i=u({},i,{note:r.note})),i}(a,s,l,h)):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;return t}function Rt(){var t,n;return t=ft,hn()!==o&&(n=function(){var t,n,r,u;t=ft,hn()!==o&&function(){var t;bt++,"indexes"===e.substr(ft,7).toLowerCase()?(t=e.substr(ft,7),ft+=7):(t=o,0===bt&&Et(X));bt--,t===o&&(o,0===bt&&Et(V));return t}()!==o&&hn()!==o?(123===e.charCodeAt(ft)?(n="{",ft++):(n=o,0===bt&&Et(f)),n!==o&&(r=function(){var e,t,n;if(e=ft,hn()!==o){if(t=[],(n=Bt())!==o)for(;n!==o;)t.push(n),n=Bt();else t=o;t!==o&&(n=hn())!==o?(pt=e,e=t):(ft=e,e=o)}else ft=e,e=o;return e}())!==o?(125===e.charCodeAt(ft)?(u="}",ft++):(u=o,0===bt&&Et(p)),u!==o?(pt=t,t=r):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t={type:"indexes",value:n}):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=Ht())!==o&&hn()!==o?(pt=t,t=d(n)):(ft=t,t=o)),t}function Kt(){var t,n,u,a,i,s,c,l;if(t=ft,hn()!==o)if((n=on())!==o){if(u=[],(a=gn())!==o)for(;a!==o;)u.push(a),a=gn();else u=o;if(u!==o)if((a=function(){var t,n,r,u,a,i,s,c,l;if(bt++,t=ft,(n=function(){var t,n,r,u;if(bt++,t=ft,n=[],(r=ln())!==o)for(;r!==o;)n.push(r),r=ln();else n=o;n!==o&&(pt=t,n=we(n));if((t=n)===o)if(t=ft,(n=dn())!==o){if(r=[],_e.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(Ce)),u!==o)for(;u!==o;)r.push(u),_e.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(Ce));else r=o;r!==o&&(u=dn())!==o?(pt=t,n=we(r),t=n):(ft=t,t=o)}else ft=t,t=o;bt--,t===o&&(n=o,0===bt&&Et(ge));return t}())!==o){for(r=ft,u=[],a=gn();a!==o;)u.push(a),a=gn();if(u!==o)if(40===e.charCodeAt(ft)?(a="(",ft++):(a=o,0===bt&&Et(m)),a!==o){for(i=[],s=gn();s!==o;)i.push(s),s=gn();if(i!==o)if((s=un())!==o){for(c=[],l=gn();l!==o;)c.push(l),l=gn();c!==o?(41===e.charCodeAt(ft)?(l=")",ft++):(l=o,0===bt&&Et(y)),l!==o?r=u=[u,a,i,s,c,l]:(ft=r,r=o)):(ft=r,r=o)}else ft=r,r=o;else ft=r,r=o}else ft=r,r=o;else ft=r,r=o;r===o&&(r=null),r!==o?(pt=t,f=n,p=(p=r)?p[3]:null,"enum"!==f.toLowerCase()&&(f=p?f+"("+p+")":f),t=n={type_name:f,args:p}):(ft=t,t=o)}else ft=t,t=o;var f,p;bt--,t===o&&(n=o,0===bt&&Et(Ae));return t}())!==o){if(i=[],s=ft,c=[],(l=gn())!==o)for(;l!==o;)c.push(l),l=gn();else c=o;for(c!==o&&(l=Vt())!==o?s=c=[c,l]:(ft=s,s=o);s!==o;){if(i.push(s),s=ft,c=[],(l=gn())!==o)for(;l!==o;)c.push(l),l=gn();else c=o;c!==o&&(l=Vt())!==o?s=c=[c,l]:(ft=s,s=o)}if(i!==o){if(s=ft,c=[],(l=gn())!==o)for(;l!==o;)c.push(l),l=gn();else c=o;if(c!==o&&(l=function(){var t,n,r,u,a,i,s;t=ft,91===e.charCodeAt(ft)?(n="[",ft++):(n=o,0===bt&&Et(g));if(n!==o)if((r=qt())!==o){for(u=[],a=ft,(i=wn())!==o&&(s=qt())!==o?a=i=[i,s]:(ft=a,a=o);a!==o;)u.push(a),a=ft,(i=wn())!==o&&(s=qt())!==o?a=i=[i,s]:(ft=a,a=o);u!==o?(93===e.charCodeAt(ft)?(a="]",ft++):(a=o,0===bt&&Et(w)),a!==o?(pt=t,c=[r].concat(u.map((function(e){return e[1]}))),l={inline_refs:[]},c.forEach((function(e){"string"==typeof e?("not null"==e.toLowerCase()&&(l.not_null=!0),"null"==e.toLowerCase()&&(l.not_null=!1),"primary key"!=e.toLowerCase()&&"pk"!=e.toLowerCase()||(l.pk=!0),"unique"==e.toLowerCase()&&(l.unique=!0),"increment"==e.toLowerCase()&&(l.increment=!0)):("note"===e.type&&(l.note=e.value),"ref_inline"===e.type&&l.inline_refs.push(e.value),"default"===e.type&&(l.dbdefault=e.value))})),t=n=l):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;var c,l;return t}())!==o?s=c=[c,l]:(ft=s,s=o),s===o&&(s=null),s!==o){for(c=[],l=gn();l!==o;)c.push(l),l=gn();c!==o?((l=bn())===o&&(l=null),l!==o&&mn()!==o?(pt=t,t=function(e,t,n,o){var u={name:e,type:t,token:yt(),inline_refs:[]};return Object.assign.apply(Object,[u].concat(r(n.map((function(e){return e[1]}))))),o&&Object.assign(u,o[1]),u}(n,a,i,s)):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o}else ft=t,t=o}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;else ft=t,t=o;return t}function Ft(){var t,n,r,u,a,i,s;if(t=ft,function(){var t;bt++,"enum"===e.substr(ft,4).toLowerCase()?(t=e.substr(ft,4),ft+=4):(t=o,0===bt&&Et(ne));bt--,t===o&&(o,0===bt&&Et(te));return t}()!==o){if(n=[],(r=gn())!==o)for(;r!==o;)n.push(r),r=gn();else n=o;n!==o&&(r=on())!==o&&hn()!==o?(123===e.charCodeAt(ft)?(u="{",ft++):(u=o,0===bt&&Et(f)),u!==o&&(a=function(){var e,t,n;if(e=ft,hn()!==o){if(t=[],(n=Mt())!==o)for(;n!==o;)t.push(n),n=Mt();else t=o;t!==o&&(n=hn())!==o?(pt=e,e={enum_values:t}):(ft=e,e=o)}else ft=e,e=o;return e}())!==o?(125===e.charCodeAt(ft)?(i="}",ft++):(i=o,0===bt&&Et(p)),i!==o?(pt=t,s=a,t={name:r,token:yt(),values:s.enum_values}):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;return t}function Mt(){var t,n,r,u,a,i,s,c;if(t=ft,hn()!==o)if((n=on())!==o){for(r=[],u=gn();u!==o;)r.push(u),u=gn();if(r!==o)if((u=function(){var t,n,r,u;t=ft,91===e.charCodeAt(ft)?(n="[",ft++):(n=o,0===bt&&Et(g));n!==o&&hn()!==o&&(r=Yt())!==o&&hn()!==o?(93===e.charCodeAt(ft)?(u="]",ft++):(u=o,0===bt&&Et(w)),u!==o?(pt=t,t=n={note:r}):(ft=t,t=o)):(ft=t,t=o);return t}())===o&&(u=null),u!==o){for(a=[],i=gn();i!==o;)a.push(i),i=gn();a!==o?((i=bn())===o&&(i=null),i!==o&&mn()!==o?(pt=t,s=u,c={name:n,token:yt()},Object.assign(c,s),t=c):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;else ft=t,t=o;return t}function Ut(){var t,n;return t=ft,hn()!==o&&(n=Yt())!==o&&hn()!==o?(pt=t,t=A(n)):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=function(){var t,n,r,u,a;t=ft,(n=hn())!==o&&function(){var t;"headercolor"===e.substr(ft,11).toLowerCase()?(t=e.substr(ft,11),ft+=11):(t=o,0===bt&&Et(re));return t}()!==o?(58===e.charCodeAt(ft)?(r=":",ft++):(r=o,0===bt&&Et(h)),r!==o&&hn()!==o&&(u=function(){var t,n;t=ft,35===e.charCodeAt(ft)?(n="#",ft++):(n=o,0===bt&&Et(Ze));n!==o&&(pt=t,n="#");return t=n}())!==o&&(a=function(){var e;(e=function(){var e,t,n,r,u,a,i;e=ft,(t=pn())!==o&&(n=pn())!==o&&(r=pn())!==o&&(u=pn())!==o&&(a=pn())!==o&&(i=pn())!==o?e=t=[t,n,r,u,a,i]:(ft=e,e=o);return e}())===o&&(e=function(){var e,t,n,r;e=ft,(t=pn())!==o&&(n=pn())!==o&&(r=pn())!==o?e=t=[t,n,r]:(ft=e,e=o);return e}());return e}())!==o&&hn()!==o?(pt=t,n=u+a.join(""),t=n):(ft=t,t=o)):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)),t}function qt(){var t,n;return t=ft,hn()!==o?("not null"===e.substr(ft,8).toLowerCase()?(n=e.substr(ft,8),ft+=8):(n=o,0===bt&&Et(E)),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,hn()!==o?("null"===e.substr(ft,4).toLowerCase()?(n=e.substr(ft,4),ft+=4):(n=o,0===bt&&Et(x)),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,hn()!==o?("primary key"===e.substr(ft,11).toLowerCase()?(n=e.substr(ft,11),ft+=11):(n=o,0===bt&&Et(O)),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,hn()!==o?("pk"===e.substr(ft,2).toLowerCase()?(n=e.substr(ft,2),ft+=2):(n=o,0===bt&&Et(L)),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,hn()!==o?("unique"===e.substr(ft,6).toLowerCase()?(n=e.substr(ft,6),ft+=6):(n=o,0===bt&&Et(I)),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,hn()!==o?("increment"===e.substr(ft,9)?(n="increment",ft+=9):(n=o,0===bt&&Et(S)),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=Yt())!==o&&hn()!==o?(pt=t,t=A(n)):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=function(){var t,n,r,u,a,i,s,c;t=ft,"ref:"===e.substr(ft,4)?(n="ref:",ft+=4):(n=o,0===bt&&Et(F));if(n!==o){for(r=[],u=gn();u!==o;)r.push(u),u=gn();if(r!==o)if((u=rn())!==o){if(a=[],(i=gn())!==o)for(;i!==o;)a.push(i),i=gn();else a=o;a!==o&&(i=on())!==o?(46===e.charCodeAt(ft)?(s=".",ft++):(s=o,0===bt&&Et(b)),s!==o&&(c=on())!==o?(pt=t,n={tableName:i,fieldNames:[c],relation:u,token:yt()},t=n):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;return t}())!==o?(pt=t,t={type:"ref_inline",value:n}):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=function(){var t,n,r;t=ft,"default:"===e.substr(ft,8).toLowerCase()?(n=e.substr(ft,8),ft+=8):(n=o,0===bt&&Et(M));n!==o&&hn()!==o&&(r=function(){var t;(t=_n())===o&&(t=$t())===o&&(t=function(){var t,n;t=ft,"true"===e.substr(ft,4).toLowerCase()?(n=e.substr(ft,4),ft+=4):(n=o,0===bt&&Et(ct));n===o&&("false"===e.substr(ft,5).toLowerCase()?(n=e.substr(ft,5),ft+=5):(n=o,0===bt&&Et(lt)),n===o&&("null"===e.substr(ft,4).toLowerCase()?(n=e.substr(ft,4),ft+=4):(n=o,0===bt&&Et(x))));n!==o&&(pt=t,n={type:"boolean",value:n});return t=n}())===o&&(t=function(){var t,n;t=ft,(n=function(){var t,n,r,u,a;t=ft,n=[],it.test(e.charAt(ft))?(r=e.charAt(ft),ft++):(r=o,0===bt&&Et(st));if(r!==o)for(;r!==o;)n.push(r),it.test(e.charAt(ft))?(r=e.charAt(ft),ft++):(r=o,0===bt&&Et(st));else n=o;if(n!==o)if(46===e.charCodeAt(ft)?(r=".",ft++):(r=o,0===bt&&Et(b)),r!==o){if(u=[],it.test(e.charAt(ft))?(a=e.charAt(ft),ft++):(a=o,0===bt&&Et(st)),a!==o)for(;a!==o;)u.push(a),it.test(e.charAt(ft))?(a=e.charAt(ft),ft++):(a=o,0===bt&&Et(st));else u=o;u!==o?(pt=t,i=u,n=parseFloat(n.join("")+"."+i.join("")),t=n):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;var i;return t}())===o&&(n=function(){var t,n,r;t=ft,n=[],it.test(e.charAt(ft))?(r=e.charAt(ft),ft++):(r=o,0===bt&&Et(st));if(r!==o)for(;r!==o;)n.push(r),it.test(e.charAt(ft))?(r=e.charAt(ft),ft++):(r=o,0===bt&&Et(st));else n=o;n!==o&&(pt=t,n=parseInt(n.join(""),10));return t=n}());n!==o&&(pt=t,n={type:"number",value:n});return t=n}());return t}())!==o?(pt=t,t=n=r):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t=function(e){return{type:"default",value:e}}(n)):(ft=t,t=o))))))))),t}function Bt(){var t,n;return t=ft,hn()!==o?((n=function(){var e,t,n,r;if(e=ft,hn()!==o)if((t=zt())!==o){for(n=[],r=gn();r!==o;)n.push(r),r=gn();n!==o?((r=Gt())===o&&(r=null),r!==o?(pt=e,u=r,a={columns:[t],token:yt()},Object.assign(a,u),e=a):(ft=e,e=o)):(ft=e,e=o)}else ft=e,e=o;else ft=e,e=o;var u,a;return e}())===o&&(n=function(){var t,n,r,u;if(t=ft,hn()!==o)if((n=function(){var t,n,r,u,a,i,s,c,l;t=ft,40===e.charCodeAt(ft)?(n="(",ft++):(n=o,0===bt&&Et(m));if(n!==o){for(r=[],u=gn();u!==o;)r.push(u),u=gn();if(r!==o)if((u=zt())!==o){if(a=[],i=ft,(s=wn())!==o){for(c=[],l=gn();l!==o;)c.push(l),l=gn();c!==o&&(l=zt())!==o?i=s=[s,c,l]:(ft=i,i=o)}else ft=i,i=o;for(;i!==o;)if(a.push(i),i=ft,(s=wn())!==o){for(c=[],l=gn();l!==o;)c.push(l),l=gn();c!==o&&(l=zt())!==o?i=s=[s,c,l]:(ft=i,i=o)}else ft=i,i=o;a!==o?(41===e.charCodeAt(ft)?(i=")",ft++):(i=o,0===bt&&Et(y)),i!==o?(pt=t,n=[u].concat(a.map((function(e){return e[2]}))),t=n):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;return t}())!==o){for(r=[],u=gn();u!==o;)r.push(u),u=gn();r!==o?((u=Gt())===o&&(u=null),u!==o?(pt=t,a=u,i={columns:n,token:yt()},Object.assign(i,a),t=i):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;var a,i;return t}()),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t}function zt(){var e,t,n,r;if(e=ft,(t=on())!==o){for(n=[],r=gn();r!==o;)n.push(r),r=gn();n!==o?(pt=e,e=t={value:t,type:"column"}):(ft=e,e=o)}else ft=e,e=o;return e===o&&(e=$t()),e}function $t(){var t,n,r,u;if(t=ft,96===e.charCodeAt(ft)?(n="`",ft++):(n=o,0===bt&&Et(k)),n!==o){for(r=[],T.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(j));u!==o;)r.push(u),T.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(j));r!==o?(96===e.charCodeAt(ft)?(u="`",ft++):(u=o,0===bt&&Et(k)),u!==o?(pt=t,t=n=function(e){return{value:e.join(""),type:"expression"}}(r)):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;return t}function Gt(){var t,n,r,u,a,i,s,c,l;if(t=ft,91===e.charCodeAt(ft)?(n="[",ft++):(n=o,0===bt&&Et(g)),n!==o){for(r=[],u=gn();u!==o;)r.push(u),u=gn();if(r!==o)if((u=Qt())!==o){for(a=[],i=gn();i!==o;)a.push(i),i=gn();a!==o?(93===e.charCodeAt(ft)?(i="]",ft++):(i=o,0===bt&&Et(w)),i!==o?(pt=t,t=n={pk:!0}):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o}else ft=t,t=o;if(t===o)if(t=ft,91===e.charCodeAt(ft)?(n="[",ft++):(n=o,0===bt&&Et(g)),n!==o)if((r=Wt())!==o){for(u=[],a=ft,(i=wn())!==o&&(s=Wt())!==o?a=i=[i,s]:(ft=a,a=o);a!==o;)u.push(a),a=ft,(i=wn())!==o&&(s=Wt())!==o?a=i=[i,s]:(ft=a,a=o);u!==o?(93===e.charCodeAt(ft)?(a="]",ft++):(a=o,0===bt&&Et(w)),a!==o?(pt=t,c=[r].concat(u.map((function(e){return e[1]}))),l={},c.forEach((function(e){"string"==typeof e?l[e.toLowerCase()]=!0:l[e.type]=e.value})),t=n=l):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;else ft=t,t=o;return t}function Wt(){var t,n;return t=ft,hn()!==o?("unique"===e.substr(ft,6).toLowerCase()?(n=e.substr(ft,6),ft+=6):(n=o,0===bt&&Et(I)),n!==o&&hn()!==o?(pt=t,t=n):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=function(){var t,n,r;t=ft,"name:"===e.substr(ft,5).toLowerCase()?(n=e.substr(ft,5),ft+=5):(n=o,0===bt&&Et(N));n!==o&&hn()!==o&&(r=_n())!==o?(pt=t,n=P(r),t=n):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t={type:"name",value:n}):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=function(){var t,n,r;t=ft,"type:"===e.substr(ft,5).toLowerCase()?(n=e.substr(ft,5),ft+=5):(n=o,0===bt&&Et(K));n!==o&&hn()!==o?((r=function(){var t;bt++,"btree"===e.substr(ft,5).toLowerCase()?(t=e.substr(ft,5),ft+=5):(t=o,0===bt&&Et(J));bt--,t===o&&(o,0===bt&&Et(Q));return t}())===o&&(r=function(){var t;bt++,"hash"===e.substr(ft,4).toLowerCase()?(t=e.substr(ft,4),ft+=4):(t=o,0===bt&&Et(ee));bt--,t===o&&(o,0===bt&&Et(Z));return t}()),r!==o?(pt=t,t=n=r):(ft=t,t=o)):(ft=t,t=o);return t}())!==o&&hn()!==o?(pt=t,t=function(e){return{type:"type",value:e}}(n)):(ft=t,t=o),t===o&&(t=ft,hn()!==o&&(n=Yt())!==o&&hn()!==o?(pt=t,t=A(n)):(ft=t,t=o)))),t}function Ht(){var t,n,r,u,a;return t=ft,(n=Yt())!==o&&(pt=t,n=n),(t=n)===o&&(t=ft,"note"===e.substr(ft,4).toLowerCase()?(n=e.substr(ft,4),ft+=4):(n=o,0===bt&&Et(D)),n!==o&&hn()!==o?(123===e.charCodeAt(ft)?(r="{",ft++):(r=o,0===bt&&Et(f)),r!==o&&hn()!==o&&(u=_n())!==o&&hn()!==o?(125===e.charCodeAt(ft)?(a="}",ft++):(a=o,0===bt&&Et(p)),a!==o?(pt=t,t=n=P(u)):(ft=t,t=o)):(ft=t,t=o)):(ft=t,t=o)),t}function Yt(){var t,n,r;return t=ft,"note:"===e.substr(ft,5).toLowerCase()?(n=e.substr(ft,5),ft+=5):(n=o,0===bt&&Et(R)),n!==o&&hn()!==o&&(r=_n())!==o?(pt=t,t=n=P(r)):(ft=t,t=o),t}function Vt(){var t;return(t=function(){var t,n;bt++,t=ft,"unique"===e.substr(ft,6).toLowerCase()?(n=e.substr(ft,6),ft+=6):(n=o,0===bt&&Et(I));n!==o&&(pt=t,n={unique:!0});bt--,(t=n)===o&&(n=o,0===bt&&Et(H));return t}())===o&&(t=Qt()),t}function Xt(){var t;return bt++,"ref"===e.substr(ft,3).toLowerCase()?(t=e.substr(ft,3),ft+=3):(t=o,0===bt&&Et(W)),bt--,t===o&&(o,0===bt&&Et(G)),t}function Qt(){var t,n;return bt++,t=ft,"pk"===e.substr(ft,2).toLowerCase()?(n=e.substr(ft,2),ft+=2):(n=o,0===bt&&Et(L)),n!==o&&(pt=t,n={pk:!0}),bt--,(t=n)===o&&(n=o,0===bt&&Et(Y)),t}function Jt(){var t;return bt++,"no action"===e.substr(ft,9).toLowerCase()?(t=e.substr(ft,9),ft+=9):(t=o,0===bt&&Et(ie)),bt--,t===o&&(o,0===bt&&Et(ae)),t}function Zt(){var t;return bt++,"restrict"===e.substr(ft,8).toLowerCase()?(t=e.substr(ft,8),ft+=8):(t=o,0===bt&&Et(ce)),bt--,t===o&&(o,0===bt&&Et(se)),t}function en(){var t;return bt++,"cascade"===e.substr(ft,7).toLowerCase()?(t=e.substr(ft,7),ft+=7):(t=o,0===bt&&Et(fe)),bt--,t===o&&(o,0===bt&&Et(le)),t}function tn(){var t;return bt++,"set null"===e.substr(ft,8).toLowerCase()?(t=e.substr(ft,8),ft+=8):(t=o,0===bt&&Et(de)),bt--,t===o&&(o,0===bt&&Et(pe)),t}function nn(){var t;return bt++,"set default"===e.substr(ft,11).toLowerCase()?(t=e.substr(ft,11),ft+=11):(t=o,0===bt&&Et(ve)),bt--,t===o&&(o,0===bt&&Et(he)),t}function rn(){var t;return bt++,me.test(e.charAt(ft))?(t=e.charAt(ft),ft++):(t=o,0===bt&&Et(ye)),bt--,t===o&&(o,0===bt&&Et(be)),t}function on(){var t,n,r,u;if(bt++,t=ft,n=[],(r=fn())!==o)for(;r!==o;)n.push(r),r=fn();else n=o;if(n!==o&&(pt=t,n=we(n)),(t=n)===o)if(t=ft,(n=dn())!==o){if(r=[],_e.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(Ce)),u!==o)for(;u!==o;)r.push(u),_e.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(Ce));else r=o;r!==o&&(u=dn())!==o?(pt=t,t=n=we(r)):(ft=t,t=o)}else ft=t,t=o;return bt--,t===o&&(n=o,0===bt&&Et(ge)),t}function un(){var e,t,n,r;for(bt++,e=ft,t=[],n=an();n!==o;)t.push(n),n=an();return t!==o&&(pt=e,r=t,t=i.flattenDeep(r).join("")),bt--,(e=t)===o&&(t=o,0===bt&&Et(Ee)),e}function an(){var t,n,r,u,a,s,c,l;if(t=ft,n=ft,r=[],(u=fn())!==o)for(;u!==o;)r.push(u),u=fn();else r=o;if(r!==o){for(u=[],a=gn();a!==o;)u.push(a),a=gn();u!==o?(40===e.charCodeAt(ft)?(a="(",ft++):(a=o,0===bt&&Et(m)),a!==o&&(s=un())!==o?(41===e.charCodeAt(ft)?(c=")",ft++):(c=o,0===bt&&Et(y)),c!==o?n=r=[r,u,a,s,c]:(ft=n,n=o)):(ft=n,n=o)):(ft=n,n=o)}else ft=n,n=o;if(n===o&&(n=ft,40===e.charCodeAt(ft)?(r="(",ft++):(r=o,0===bt&&Et(m)),r!==o&&(u=un())!==o?(41===e.charCodeAt(ft)?(a=")",ft++):(a=o,0===bt&&Et(y)),a!==o?n=r=[r,u,a]:(ft=n,n=o)):(ft=n,n=o),n===o)){if(n=ft,r=[],(u=cn())!==o)for(;u!==o;)r.push(u),u=cn();else r=o;if(r!==o){for(u=ft,bt++,a=[],s=gn();s!==o;)a.push(s),s=gn();a===o&&(44===e.charCodeAt(ft)?(a=",",ft++):(a=o,0===bt&&Et(xe)),a===o&&(");"===e.substr(ft,2)?(a=");",ft+=2):(a=o,0===bt&&Et(Oe)),a===o&&(a=ft,(s=function(){var e,t,n;bt++,e=ft,t=[],n=gn();for(;n!==o;)t.push(n),n=gn();t!==o&&(n=mn())!==o?e=t=[t,n]:(ft=e,e=o);bt--,e===o&&(t=o,0===bt&&Et(Ue));return e}())!==o?(");"===e.substr(ft,2)?(c=");",ft+=2):(c=o,0===bt&&Et(Oe)),c!==o?a=s=[s,c]:(ft=a,a=o)):(ft=a,a=o)))),bt--,a!==o?(ft=u,u=void 0):u=o,u!==o?n=r=[r,u]:(ft=n,n=o)}else ft=n,n=o;if(n===o){if(n=ft,r=[],(u=sn())!==o)for(;u!==o;)r.push(u),u=sn();else r=o;r!==o?(u=ft,bt++,e.length>ft?(a=e.charAt(ft),ft++):(a=o,0===bt&&Et(Le)),bt--,a!==o?(ft=u,u=void 0):u=o,u!==o?n=r=[r,u]:(ft=n,n=o)):(ft=n,n=o)}}return n!==o&&(pt=t,l=n,n=i.flattenDeep(l).join("")),t=n}function sn(){var t;return Ie.test(e.charAt(ft))?(t=e.charAt(ft),ft++):(t=o,0===bt&&Et(Se)),t===o&&(t=gn())===o&&(t=mn())===o&&(t=function(){var t;9===e.charCodeAt(ft)?(t="\t",ft++):(t=o,0===bt&&Et(qe));return t}()),t}function cn(){var t;return ke.test(e.charAt(ft))?(t=e.charAt(ft),ft++):(t=o,0===bt&&Et(Te)),t}function ln(){var t;return(t=fn())===o&&(je.test(e.charAt(ft))?(t=e.charAt(ft),ft++):(t=o,0===bt&&Et(Ne))),t}function fn(){var t;return bt++,De.test(e.charAt(ft))?(t=e.charAt(ft),ft++):(t=o,0===bt&&Et(Re)),bt--,t===o&&(o,0===bt&&Et(Pe)),t}function pn(){var t,n;return t=ft,Ke.test(e.charAt(ft))?(n=e.charAt(ft),ft++):(n=o,0===bt&&Et(Fe)),n!==o&&(pt=t,n=n.toLowerCase()),t=n}function dn(){var t;return 34===e.charCodeAt(ft)?(t='"',ft++):(t=o,0===bt&&Et(Me)),t}function hn(){var e,t;for(e=[],(t=bn())===o&&(t=yn());t!==o;)e.push(t),(t=bn())===o&&(t=yn());return e}function vn(){var e,t;if(e=[],(t=bn())===o&&(t=yn()),t!==o)for(;t!==o;)e.push(t),(t=bn())===o&&(t=yn());else e=o;return e}function bn(){var t,n,r,u;if(bt++,t=ft,"//"===e.substr(ft,2)?(n="//",ft+=2):(n=o,0===bt&&Et(ze)),n!==o){for(r=[],$e.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(Ge));u!==o;)r.push(u),$e.test(e.charAt(ft))?(u=e.charAt(ft),ft++):(u=o,0===bt&&Et(Ge));r!==o?t=n=[n,r]:(ft=t,t=o)}else ft=t,t=o;return bt--,t===o&&(n=o,0===bt&&Et(Be)),t}function mn(){var t;return bt++,"\r\n"===e.substr(ft,2)?(t="\r\n",ft+=2):(t=o,0===bt&&Et(He)),t===o&&(10===e.charCodeAt(ft)?(t="\n",ft++):(t=o,0===bt&&Et(Ye))),bt--,t===o&&(o,0===bt&&Et(We)),t}function yn(){var t;return bt++,Xe.test(e.charAt(ft))?(t=e.charAt(ft),ft++):(t=o,0===bt&&Et(Qe)),bt--,t===o&&(o,0===bt&&Et(Ve)),t}function gn(){var t;return 32===e.charCodeAt(ft)?(t=" ",ft++):(t=o,0===bt&&Et(Je)),t}function wn(){var t;return 44===e.charCodeAt(ft)?(t=",",ft++):(t=o,0===bt&&Et(xe)),t}function _n(){var t,n,r,u,a,i,s;if(bt++,t=ft,34===e.charCodeAt(ft)?(n='"',ft++):(n=o,0===bt&&Et(Me)),n!==o){for(r=[],u=Cn();u!==o;)r.push(u),u=Cn();r!==o?(34===e.charCodeAt(ft)?(u='"',ft++):(u=o,0===bt&&Et(Me)),u!==o?(pt=t,t=n=tt(r)):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;if(t===o){if(t=ft,"'''"===e.substr(ft,3)?(n="'''",ft+=3):(n=o,0===bt&&Et(nt)),n!==o){for(r=[],u=En();u!==o;)r.push(u),u=En();r!==o?("'''"===e.substr(ft,3)?(u="'''",ft+=3):(u=o,0===bt&&Et(nt)),u!==o?(pt=t,a=r.join("").split(/\n|\r\n?/),i=a.filter((function(e){return e.replace(/\s+/g,"")})).reduce((function(e,t){return Math.min(e,function(e){for(var t=0;t<e.length&&" "===e[t];)t+=1;return t}(t))}),Number.MAX_SAFE_INTEGER),s=function(e){for(var t=0;t<e.length&&!e[t].replace(/\s+/g,"");)t+=1;return t},(a=a.map((function(e){return e?e.slice(i):e}))).splice(0,s(a)),a.splice(a.length-s(a.slice().reverse())),t=n={value:a.join("\n"),type:"string"}):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o;if(t===o)if(t=ft,39===e.charCodeAt(ft)?(n="'",ft++):(n=o,0===bt&&Et(rt)),n!==o){for(r=[],u=An();u!==o;)r.push(u),u=An();r!==o?(39===e.charCodeAt(ft)?(u="'",ft++):(u=o,0===bt&&Et(rt)),u!==o?(pt=t,t=n=tt(r)):(ft=t,t=o)):(ft=t,t=o)}else ft=t,t=o}return bt--,t===o&&(n=o,0===bt&&Et(et)),t}function Cn(){var t,n,r;return t=ft,92===e.charCodeAt(ft)?(n="\\",ft++):(n=o,0===bt&&Et(ot)),n!==o?(34===e.charCodeAt(ft)?(r='"',ft++):(r=o,0===bt&&Et(Me)),r!==o?(pt=t,t=n='"'):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,n=ft,bt++,34===e.charCodeAt(ft)?(r='"',ft++):(r=o,0===bt&&Et(Me)),bt--,r===o?n=void 0:(ft=n,n=o),n!==o&&(r=xn())!==o?(pt=t,t=n=ut()):(ft=t,t=o)),t}function An(){var t,n,r;return t=ft,"\\'"===e.substr(ft,2)?(n="\\'",ft+=2):(n=o,0===bt&&Et(at)),n!==o&&(pt=t,n="'"),(t=n)===o&&(t=ft,n=ft,bt++,39===e.charCodeAt(ft)?(r="'",ft++):(r=o,0===bt&&Et(rt)),bt--,r===o?n=void 0:(ft=n,n=o),n!==o&&(r=xn())!==o?(pt=t,t=n=ut()):(ft=t,t=o)),t}function En(){var t,n,r,u;if(t=ft,"\\'"===e.substr(ft,2)?(n="\\'",ft+=2):(n=o,0===bt&&Et(at)),n!==o&&(pt=t,n="'"),(t=n)===o){if(t=ft,92===e.charCodeAt(ft)?(n="\\",ft++):(n=o,0===bt&&Et(ot)),n!==o){if(r=[],92===e.charCodeAt(ft)?(u="\\",ft++):(u=o,0===bt&&Et(ot)),u!==o)for(;u!==o;)r.push(u),92===e.charCodeAt(ft)?(u="\\",ft++):(u=o,0===bt&&Et(ot));else r=o;r!==o?(pt=t,t=n=r.join("")):(ft=t,t=o)}else ft=t,t=o;t===o&&(t=ft,92===e.charCodeAt(ft)?(n="\\",ft++):(n=o,0===bt&&Et(ot)),n!==o?(10===e.charCodeAt(ft)?(r="\n",ft++):(r=o,0===bt&&Et(Ye)),r===o&&(r=null),r!==o?(pt=t,t=n=""):(ft=t,t=o)):(ft=t,t=o),t===o&&(t=ft,n=ft,bt++,"'''"===e.substr(ft,3)?(r="'''",ft+=3):(r=o,0===bt&&Et(nt)),bt--,r===o?n=void 0:(ft=n,n=o),n!==o&&(r=xn())!==o?(pt=t,t=n=ut()):(ft=t,t=o)))}return t}function xn(){var t;return e.length>ft?(t=e.charAt(ft),ft++):(t=o,0===bt&&Et(Le)),t}var On={schemas:[],tables:[],refs:[],enums:[],tableGroups:[],project:{}},Ln=0;if((n=c())!==o&&ft===e.length)return n;throw n!==o&&ft<e.length&&Et({type:"end"}),xt(vt,ht<e.length?e.charAt(ht):null,ht<e.length?At(ht,ht+1):At(ht,ht))}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(0),n(8);function a(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(a,Error),a.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?u(e.parts[t][0])+"-"+u(e.parts[t][1]):u(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function u(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,o,u=new Array(e.length);for(t=0;t<e.length;t++)u[t]=(o=e[t],n[o.type](o));if(u.sort(),u.length>0){for(t=1,r=1;t<u.length;t++)u[t-1]!==u[t]&&(u[r]=u[t],r++);u.length=r}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:a,parse:function(e,t){t=void 0!==t?t:{};var r,u={},i={schema:be},s=be,c=function(){return function(e){for(var t=e.tables,n=e.refs,r=t.map((function(e){var t=e.name,n=Ne.singular(t);return{name:t,field:"".concat(n,"_id")}})),o=0;o<t.length;o+=1)for(var u=t[o],a=u.fields,i=function(e){var t=a[e],o=r.find((function(e){return e.field===t.name}));if(o){var i={name:"fk_rails_".concat(u.name,"_").concat(o.name),endpoints:[{tableName:u.name,fieldNames:[t.name],relation:"1"},{tableName:o.name,fieldNames:["id"],relation:"1"}]};n.find((function(e){return Me(e,i)}))||n.push(i)}},s=0;s<a.length;s+=1)i(s);return e}(De)},l=function(e){var t=e.table,n=e.refs;!function(e){if(De.tables.find((function(t){return t.name==e.name})))se("Duplicated table name");else{e.fields.find((function(e){return"id"===e.name}))||e.fields.unshift({name:"id",type:{type_name:"varchar"}}),De.tables.push(e)}}(t),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||0===e.length)return;for(var t=0;t<e.length;t+=1)Ue(e[t])}(n)},f=ce(",",!1),p=function(e,t,n){return function(e){var t=De.tables,n=e.endpoints,r=t.find((function(e){return e.name===n[0].tableName}));if(!r)return null;if(!t.find((function(e){return e.name===n[1].tableName})))return null;if(!n[0].fieldNames){var o=Ne.singular(n[1].tableName),u="".concat(o,"_id");if(n[0].fieldNames=[u],!r.fields.find((function(e){return e.name===u})))return null;n[0].fieldNames=[u]}if(!n[1].fieldNames){n[1].fieldNames=["id"]}return e}(function(e,t,n){for(var r=[{tableName:e,relation:"1"},{tableName:t,relation:"1"}],u={},a=0;a<n.length;a+=1){var i=n[a];i.columnName&&(r[0].fieldNames=[i.columnName]),i.primaryKey&&(r[1].fieldNames=[i.primaryKey]),i.onDelete&&(u=o({},u,{onDelete:i.onDelete})),i.onUpdate&&(u=o({},u,{onUpdate:i.onUpdate}))}return o({name:"fk_rails_".concat(e,"_").concat(t),endpoints:r},u)}(e,t,n))},d=ce(":",!1),h=ce("on_delete",!0),v=ce("on_update",!0),b=(fe("add index"),ce("add_index",!1),fe("schema define"),ce("ActiveRecord::Schema.define",!1),fe("create table")),m=ce("create_table",!0),y=(fe("do |t|"),fe("index")),g=ce(".index",!1),w=fe("references"),_=ce(".references",!1),C=fe("add foreign key"),A=ce("add_foreign_key",!0),E=fe("column"),x=ce("column",!1),O=fe("primary key"),L=ce("primary_key",!1),I=(ce("version",!1),ce("do",!1),ce("end",!1)),S=(fe("lambda function"),ce("=>",!1),ce("->",!1),/^[^"\n]/),k=le(['"',"\n"],!0,!1),T=function(e){return e.join("")},j=/^[^'\n]/,N=le(["'","\n"],!0,!1),P=ce(".",!1),D=(le([["0","9"]],!1,!0),fe("letter, number or underscore")),R=/^[a-z0-9_.]/i,K=le([["a","z"],["0","9"],"_","."],!1,!0),F=fe("comment line"),M=ce("#",!1),U=fe("whatever"),q=/^[^\t\r\n]/,B=le(["\t","\r","\n"],!0,!1),z=ce("'",!1),$=ce('"',!1),G=(ce("|",!1),fe("comment")),W=ce("//",!1),H=/^[^\n]/,Y=le(["\n"],!0,!1),V=fe("newline"),X=ce("\r\n",!1),Q=ce("\n",!1),J=fe("whitespace"),Z=/^[ \t\r\n\r]/,ee=le([" ","\t","\r","\n","\r"],!1,!1),te=ce(" ",!1),ne=0,re=0,oe=[{line:1,column:1}],ue=0,ae=[],ie=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function se(e,t){throw function(e,t){return new a(e,null,null,t)}(e,t=void 0!==t?t:de(re,ne))}function ce(e,t){return{type:"literal",text:e,ignoreCase:t}}function le(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function fe(e){return{type:"other",description:e}}function pe(t){var n,r=oe[t];if(r)return r;for(n=t-1;!oe[n];)n--;for(r={line:(r=oe[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return oe[t]=r,r}function de(e,t){var n=pe(e),r=pe(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function he(e){ne<ue||(ne>ue&&(ue=ne,ae=[]),ae.push(e))}function ve(e,t,n){return new a(a.buildMessage(e,t),e,t,n)}function be(){var e,t,n;for(e=ne,t=[],n=me();n!==u;)t.push(n),n=me();return t!==u&&(re=e,t=c()),e=t}function me(){var t,n,r;for(t=ne,n=[],r=Te();r!==u;)n.push(r),r=Te();return n!==u&&(r=function(){var t,n;t=ne,(n=function(){var t,n,r,o,a;if(t=ne,(n=function(){var t;ie++,"create_table"===e.substr(ne,12).toLowerCase()?(t=e.substr(ne,12),ne+=12):(t=u,0===ie&&he(m));ie--,t===u&&(u,0===ie&&he(b));return t}())!==u){for(r=[],o=je();o!==u;)r.push(o),o=je();r!==u&&(o=_e())!==u&&xe()!==u&&Se()!==u&&(a=function(){var e,t,n;e=ne,t=[],n=ge();for(;n!==u;)t.push(n),n=ge();t!==u&&(re=e,t={fields:(r=t).filter((function(e){return e.isField})).map((function(e){return e.field})),index:r.filter((function(e){return e.isIndex})).map((function(e){return e.index})),references:r.filter((function(e){return e.isReferences})).map((function(e){return e.reference}))});var r;return e=t}())!==u&&Ee()!==u?(re=t,s={name:o,fields:Re((i=a).fields)},n={table:s,refs:qe(s,i.references)},t=n):(ne=t,t=u)}else ne=t,t=u;var i,s;return t}())!==u&&(re=t,n=l(n));(t=n)===u&&(t=ne,(n=function(){var t,n,r,o,a,i,s,c,l,d;t=ne,n=[],r=je();for(;r!==u;)n.push(r),r=je();if(n!==u)if((r=function(){var t;ie++,"add_foreign_key"===e.substr(ne,15).toLowerCase()?(t=e.substr(ne,15),ne+=15):(t=u,0===ie&&he(A));ie--,t===u&&(u,0===ie&&he(C));return t}())!==u){for(o=[],a=je();a!==u;)o.push(a),a=je();if(o!==u)if((a=_e())!==u)if(44===e.charCodeAt(ne)?(i=",",ne++):(i=u,0===ie&&he(f)),i!==u){for(s=[],c=je();c!==u;)s.push(c),c=je();if(s!==u)if((c=_e())!==u){for(l=[],d=ye();d!==u;)l.push(d),d=ye();l!==u?(re=t,n=p(a,c,l),t=n):(ne=t,t=u)}else ne=t,t=u;else ne=t,t=u}else ne=t,t=u;else ne=t,t=u;else ne=t,t=u}else ne=t,t=u;else ne=t,t=u;return t}())!==u&&(re=t,n=void Ue(n)),(t=n)===u&&(t=function(){var e,t,n,r;e=ne,(t=Ce())!==u&&(n=xe())!==u?((r=Se())===u&&(r=null),r!==u?e=t=[t,n,r]:(ne=e,e=u)):(ne=e,e=u);return e}()));return t}())!==u?t=n=[n,r]:(ne=t,t=u),t===u&&(t=function(){var t,n,r,o,a;ie++,t=ne,n=[],r=Te();for(;r!==u;)n.push(r),r=Te();n!==u?(35===e.charCodeAt(ne)?(r="#",ne++):(r=u,0===ie&&he(M)),r!==u&&(o=xe())!==u?((a=Se())===u&&(a=null),a!==u?t=n=[n,r,o,a]:(ne=t,t=u)):(ne=t,t=u)):(ne=t,t=u);ie--,t===u&&(n=u,0===ie&&he(F));return t}())===u&&(t=Ee())===u&&(t=function(){var e,t;e=[],(t=ke())===u&&(t=Te());if(t!==u)for(;t!==u;)e.push(t),(t=ke())===u&&(t=Te());else e=u;return e}()),t}function ye(){var t,n,r,o,a,i,s;if(t=ne,44===e.charCodeAt(ne)?(n=",",ne++):(n=u,0===ie&&he(f)),n!==u){for(r=[],o=je();o!==u;)r.push(o),o=je();if(r!==u)if((o=function(){var t;ie++,"column"===e.substr(ne,6)?(t="column",ne+=6):(t=u,0===ie&&he(x));ie--,t===u&&(u,0===ie&&he(E));return t}())!==u)if(58===e.charCodeAt(ne)?(a=":",ne++):(a=u,0===ie&&he(d)),a!==u){for(i=[],s=je();s!==u;)i.push(s),s=je();i!==u&&(s=_e())!==u?(re=t,t=n={columnName:s}):(ne=t,t=u)}else ne=t,t=u;else ne=t,t=u;else ne=t,t=u}else ne=t,t=u;if(t===u){if(t=ne,44===e.charCodeAt(ne)?(n=",",ne++):(n=u,0===ie&&he(f)),n!==u){for(r=[],o=je();o!==u;)r.push(o),o=je();if(r!==u)if((o=function(){var t;ie++,"primary_key"===e.substr(ne,11)?(t="primary_key",ne+=11):(t=u,0===ie&&he(L));ie--,t===u&&(u,0===ie&&he(O));return t}())!==u)if(58===e.charCodeAt(ne)?(a=":",ne++):(a=u,0===ie&&he(d)),a!==u){for(i=[],s=je();s!==u;)i.push(s),s=je();i!==u&&(s=_e())!==u?(re=t,t=n={primaryKey:s}):(ne=t,t=u)}else ne=t,t=u;else ne=t,t=u;else ne=t,t=u}else ne=t,t=u;if(t===u)if(t=ne,44===e.charCodeAt(ne)?(n=",",ne++):(n=u,0===ie&&he(f)),n!==u){for(r=[],o=je();o!==u;)r.push(o),o=je();if(r!==u)if((o=function(){var t;"on_delete"===e.substr(ne,9).toLowerCase()?(t=e.substr(ne,9),ne+=9):(t=u,0===ie&&he(h));t===u&&("on_update"===e.substr(ne,9).toLowerCase()?(t=e.substr(ne,9),ne+=9):(t=u,0===ie&&he(v)));return t}())!==u)if(58===e.charCodeAt(ne)?(a=":",ne++):(a=u,0===ie&&he(d)),a!==u){for(i=[],s=je();s!==u;)i.push(s),s=je();i!==u&&(s=function(){var t,n,r,o;t=ne,58===e.charCodeAt(ne)?(n=":",ne++):(n=u,0===ie&&he(d));if(n!==u){for(r=[],o=Ae();o!==u;)r.push(o),o=Ae();r!==u?(re=t,n=T(r),t=n):(ne=t,t=u)}else ne=t,t=u;return t}())!==u?(re=t,t=n=function(e,t){switch(e.toLowerCase()){case"on_delete":return{onDelete:t.split("_").join(" ")};case"on_update":return{onUpdate:t.split("_").join(" ")}}}(o,s)):(ne=t,t=u)}else ne=t,t=u;else ne=t,t=u;else ne=t,t=u}else ne=t,t=u}return t}function ge(){var t,n,r,o,a;for(t=ne,n=[],r=Te();r!==u;)n.push(r),r=Te();if(n!==u)if((r=function(){var t,n;(t=function(){var t,n,r,o;if(t=ne,(n=function(){var t,n,r;ie++,t=ne,(n=Ae())!==u?(".index"===e.substr(ne,6)?(r=".index",ne+=6):(r=u,0===ie&&he(g)),r!==u?t=n=[n,r]:(ne=t,t=u)):(ne=t,t=u);ie--,t===u&&(n=u,0===ie&&he(y));return t}())!==u){if(r=[],(o=je())!==u)for(;o!==u;)r.push(o),o=je();else r=u;r!==u&&(o=xe())!==u?t=n=[n,r,o]:(ne=t,t=u)}else ne=t,t=u;return t}())===u&&(t=ne,(n=function(){var t,n,r;if(t=ne,function(){var t,n,r;ie++,t=ne,(n=Ae())!==u?(".references"===e.substr(ne,11)?(r=".references",ne+=11):(r=u,0===ie&&he(_)),r!==u?t=n=[n,r]:(ne=t,t=u)):(ne=t,t=u);ie--,t===u&&(n=u,0===ie&&he(w));return t}()!==u){if(n=[],(r=je())!==u)for(;r!==u;)n.push(r),r=je();else n=u;n!==u&&(r=function(){var t,n,r;t=ne,58===e.charCodeAt(ne)?(n=":",ne++):(n=u,0===ie&&he(d));n!==u&&(r=Ce())!==u?(re=t,t=n=r):(ne=t,t=u);t===u&&(t=ne,(n=_e())!==u&&(re=t,n=n),t=n);return t}())!==u?(re=t,t=r):(ne=t,t=u)}else ne=t,t=u;return t}())!==u&&(re=t,n={reference:n,isReferences:!0}),(t=n)===u&&(t=ne,(n=function(){var t,n,r,o;if(t=ne,(n=function(){var t,n,r,o,a;if(t=ne,(n=Ae())!==u)if(46===e.charCodeAt(ne)?(r=".",ne++):(r=u,0===ie&&he(P)),r!==u){if(o=[],(a=Ae())!==u)for(;a!==u;)o.push(a),a=Ae();else o=u;o!==u?(re=t,n=T(o),t=n):(ne=t,t=u)}else ne=t,t=u;else ne=t,t=u;return t}())!==u){if(r=[],(o=je())!==u)for(;o!==u;)r.push(o),o=je();else r=u;r!==u&&(o=_e())!==u?(re=t,t=n={name:o,type:{type_name:n}}):(ne=t,t=u)}else ne=t,t=u;return t}())!==u&&(re=t,n=function(e){return{field:e,isField:!0}}(n)),t=n));return t}())!==u){for(o=[],a=Oe();a!==u;)o.push(a),a=Oe();o!==u&&(a=Se())!==u?(re=t,t=n=r):(ne=t,t=u)}else ne=t,t=u;else ne=t,t=u;return t}function we(){var t;return"end"===e.substr(ne,3)?(t="end",ne+=3):(t=u,0===ie&&he(I)),t}function _e(){var t;return(t=function(){var t,n,r,o;if(t=ne,(n=Ie())!==u){for(r=[],S.test(e.charAt(ne))?(o=e.charAt(ne),ne++):(o=u,0===ie&&he(k));o!==u;)r.push(o),S.test(e.charAt(ne))?(o=e.charAt(ne),ne++):(o=u,0===ie&&he(k));r!==u&&(o=Ie())!==u?(re=t,n=T(r),t=n):(ne=t,t=u)}else ne=t,t=u;return t}())===u&&(t=function(){var t,n,r,o;if(t=ne,(n=Le())!==u){for(r=[],j.test(e.charAt(ne))?(o=e.charAt(ne),ne++):(o=u,0===ie&&he(N));o!==u;)r.push(o),j.test(e.charAt(ne))?(o=e.charAt(ne),ne++):(o=u,0===ie&&he(N));r!==u&&(o=Le())!==u?(re=t,n=T(r),t=n):(ne=t,t=u)}else ne=t,t=u;return t}()),t}function Ce(){var e,t,n;if(e=ne,t=[],(n=Ae())!==u)for(;n!==u;)t.push(n),n=Ae();else t=u;return t!==u&&(re=e,t=T(t)),e=t}function Ae(){var t;return ie++,R.test(e.charAt(ne))?(t=e.charAt(ne),ne++):(t=u,0===ie&&he(K)),ie--,t===u&&(u,0===ie&&he(D)),t}function Ee(){var e,t,n,r;for(e=ne,t=[],n=Te();n!==u;)t.push(n),n=Te();return t!==u&&(n=we())!==u?((r=Se())===u&&(r=null),r!==u?e=t=[t,n,r]:(ne=e,e=u)):(ne=e,e=u),e}function xe(){var t,n;for(ie++,t=[],q.test(e.charAt(ne))?(n=e.charAt(ne),ne++):(n=u,0===ie&&he(B));n!==u;)t.push(n),q.test(e.charAt(ne))?(n=e.charAt(ne),ne++):(n=u,0===ie&&he(B));return ie--,t===u&&(n=u,0===ie&&he(U)),t}function Oe(){var t;return q.test(e.charAt(ne))?(t=e.charAt(ne),ne++):(t=u,0===ie&&he(B)),t}function Le(){var t;return 39===e.charCodeAt(ne)?(t="'",ne++):(t=u,0===ie&&he(z)),t}function Ie(){var t;return 34===e.charCodeAt(ne)?(t='"',ne++):(t=u,0===ie&&he($)),t}function Se(){var t,n,r;for(t=ne,n=[],r=je();r!==u;)n.push(r),r=je();return n!==u&&(r=function(){var t;ie++,"\r\n"===e.substr(ne,2)?(t="\r\n",ne+=2):(t=u,0===ie&&he(X));t===u&&(10===e.charCodeAt(ne)?(t="\n",ne++):(t=u,0===ie&&he(Q)));ie--,t===u&&(u,0===ie&&he(V));return t}())!==u?t=n=[n,r]:(ne=t,t=u),t}function ke(){var t,n,r;return ie++,t=ne,"//"===e.substr(ne,2)?(n="//",ne+=2):(n=u,0===ie&&he(W)),n!==u?(H.test(e.charAt(ne))?(r=e.charAt(ne),ne++):(r=u,0===ie&&he(Y)),r===u&&(r=null),r!==u?t=n=[n,r]:(ne=t,t=u)):(ne=t,t=u),ie--,t===u&&(n=u,0===ie&&he(G)),t}function Te(){var t;return ie++,Z.test(e.charAt(ne))?(t=e.charAt(ne),ne++):(t=u,0===ie&&he(ee)),ie--,t===u&&(u,0===ie&&he(J)),t}function je(){var t;return 32===e.charCodeAt(ne)?(t=" ",ne++):(t=u,0===ie&&he(te)),t}var Ne=n(8),Pe=n(0),De={tables:[],refs:[]};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.find((function(e){return"primary_key"===e.name}));if(!n)return e;if(e.find((function(e){return e.name===n.value})))return e.map((function(e){return{name:e.name,type:e.type,PK:n.value===field.name}}));var r=[{name:n.value,type:{type_name:"varchar"},PK:!0}];return r.concat(e)}function Ke(e,t){return e.tableName==t.tableName&&Pe.isEqual(Pe.sortBy(e.fieldNames),Pe.sortBy(t.fieldNames))}function Fe(e,t){return Ke(e[0],t[0])&&Ke(e[1],t[1])}function Me(e,t){return Fe(e.endpoints,t.endpoints)||Fe(e.endpoints,t.endpoints.slice().reverse())}function Ue(e){e&&(De.refs.find((function(t){return Me(t,e)}))&&se("Duplicated references"),De.refs.push(e))}function qe(e,t){if(!t||0===t.length)return[];for(var n=[],r=function(r){var o=t[r],u=Ne.plural(o),a=De.tables.find((function(e){return e.name===u}));if(!a)return"continue";var i="".concat(o,"_id"),s=e.fields.find((function(e){return e.name===i})),c=a.fields.find((function(e){return"id"===e.name}));s||e.fields.push({name:i,type:{type_name:c?c.type.type_name:"varchar"}}),n.push({name:"fk_rails_".concat(e.name,"_").concat(u),endpoints:[{tableName:e.name,fieldNames:[i],relation:"1"},{tableName:u,fieldNames:["id"],relation:"1"}]})},o=0;o<t.length;o+=1)r(o);return n}if((r=s())!==u&&ne===e.length)return r;throw r!==u&&ne<e.length&&he({type:"end"}),ve(ae,ue<e.length?e.charAt(ue):null,ue<e.length?de(ue,ue+1):de(ue,ue))}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(47))&&r.__esModule?r:{default:r}).default;t.default=o},function(e,t,n){"use strict";var r=n(48);r.parseWithPegError=function(e){try{return r.tryParse(e)}catch(r){var t={name:"SyntaxError"};console.error(r),t.location={},t.location.start=r.result.index,t.found=e[t.location.start.offset];var n=r.result.expected.pop(),o="".concat(r.result.expected.join(", "),", or ").concat(n);throw t.message="Expected ".concat(o,' but "').concat(t.found,'" found.'),t}},e.exports=r},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(50),a=n(9),i=n(63),s=n(4).pIgnore,c=r.createLanguage({Statements:function(e){return a.then(e.Seperator).then(r.sepBy(e.StatementTypes,e.Seperator)).skip(e.Seperator).map(i.handleStatement)},StatementTypes:function(e){return r.alt(u.pCreateIndex,u.pCreateTable,u.pAlterTable,e.IgnoredStatementTypes)},IgnoredStatementTypes:function(e){return r.seq(e.IgnoredStatementSyntax,s)},IgnoredStatementSyntax:function(e){return r.alt(e.IgnoredDDLSyntax,e.IgnoredDMLSyntax,e.IgnoredBackupAndRestoreSyntax,e.IgnoredServiceBrokerSyntax,e.IgnoredPermissionSyntax,o.KeywordAdd,o.KeywordClose,o.KeywordSet,o.KeywordIf)},IgnoredDDLSyntax:function(e){return r.alt(e.KeywordCreateWithoutTable,e.KeywordAlterWithoutTable,o.KeywordCollate,o.KeywordDrop,o.KeywordRename,o.KeywordEnable,o.KeywordDisable)},IgnoredDMLSyntax:function(){return r.alt(o.KeywordBulkInsert,o.KeywordInsert,o.KeywordUpdate,o.KeywordMerge,o.KeywordTruncateTable,o.KeywordDelete)},IgnoredServiceBrokerSyntax:function(){return r.alt(o.KeywordBegin,o.KeywordEnd,o.KeywordMove,o.KeywordReceive,o.KeywordSend)},IgnoredPermissionSyntax:function(){return r.alt(o.KeywordDeny,o.KeywordExecute,o.KeywordGrant,o.KeywordOpen,o.KeywordRevoke)},IgnoredBackupAndRestoreSyntax:function(){return r.alt(o.KeywordBackup,o.KeywordRestore)},KeywordCreateWithoutTable:function(){return o.KeywordCreate.notFollowedBy(o.KeywordTable)},KeywordAlterWithoutTable:function(){return o.KeywordAlter.notFollowedBy(o.KeywordTable)},Seperator:function(){return r.alt(o.Semicolon,o.KeywordGo,r.seq(o.Semicolon,o.KeywordGo)).many()}});e.exports=c.Statements},function(e,t,n){"use strict";var r=n(1),o=n(9);t.word=function(e){return r.string(e).skip(o).desc('"'.concat(e,'"'))},t.keyword=function(e){var t,n=e.source;return t=function(e){var t=String(e),n=(t=t.replace(/[\s]+/g,"\\s+")).lastIndexOf("/");return new RegExp(t.slice(1,n),t.slice(n+1))}(e),r.regexp(t).skip(o).desc('"'.concat(n,'"'))}},function(e,t,n){"use strict";var r=n(51),o=n(59),u=n(61);e.exports={pAlterTable:r,pCreateIndex:o,pCreateTable:u}},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(4),a=u.pDotDelimitedName,i=u.pIgnore,s=n(52),c=n(53),l=r.createLanguage({AlterTable:function(e){return r.seqMap(e.AlterTableKeywords,a,e.AlterTableActions,s.handleAlterTableResult)},AlterTableActions:function(e){return r.alt(c,e.IgnoredAlterTableActions)},AlterTableKeywords:function(){return r.seq(o.KeywordAlter,o.KeywordTable)},IgnoredAlterTableActions:function(e){return r.seq(e.IgnoredAlterTableActionKeywords,i).result(null)},IgnoredAlterTableActionKeywords:function(){return r.alt(o.KeywordWith,o.KeywordAlterColumn,o.KeywordDrop,o.KeywordEnable,o.KeywordDisable,o.KeywordCheck,o.KeywordSwitch,o.KeywordSet,o.KeywordRebuild)}});e.exports=l.AlterTable},function(e,t,n){"use strict";var r=n(0);e.exports={handleAlterTableResult:function(e,t,n){return n?(n.forEach((function(e){if(e)switch(e.type){case"refs":!function(e,t){t.value.endpoints.find((function(e){return!e.tableName})).tableName=r.last(e)}(t,e);break;case"indexes":case"dbdefault":case"enums":!function(e,t){t.value.tableName=r.last(e)}(t,e)}})),n):null}}},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(4).pIdentifier,a=n(5),i=a.makeNode,s=a.makeList,c=n(54),l=n(23).pTableConstraintFK,f=n(10).pTableConstraintIndex,p=n(12),d=p.pConstraintCheck,h=p.pConstExpr,v=p.pConstraintName,b=n(24).pColumnsDefinition,m=r.createLanguage({AddAction:function(e){return r.seq(o.KeywordAdd,e.AddOption.sepBy1(o.Comma)).map((function(e){return e[1]}))},AddOption:function(e){return r.alt(e.AddConstraint,b.result(null),e.IgnoredAddSystemTimeOption.result(null))},IgnoredAddSystemTimeOption:function(){return r.alt(u,r.regexp(/[(),]/)).many()},AddConstraint:function(e){return r.seqMap(v.fallback(null),e.AddConstraintOption,c.makeTableConstraint).thru(i())},AddConstraintOption:function(e){return r.alt(l,f,d,e.AddConstraintDefault,e.IgnoredAddConstraintOption.result(null))},IgnoredAddConstraintOption:function(e){return r.alt(e.AddConstraintConnection)},AddConstraintDefault:function(){return r.seqMap(o.KeywordDefault,h,o.KeywordFor,u,o.KeywordWithValues.fallback(null),c.makeDefault)},AddConstraintConnection:function(){return r.seq(o.KeywordConnection,s(r.seq(u,o.KeywordTo,u)))}});e.exports=m.AddAction},function(e,t,n){"use strict";var r=n(12).makeTableConstraint;e.exports={makeTableConstraint:r,makeDefault:function(e,t,n,r,o){var u={};if(t.type)switch(t.type){case"string":case"number":case"boolean":u.type=t.type;break;default:u.type="expression"}else u.type="expression";return u.value=t.value,u.fieldName=r,{type:"dbdefault",value:u}}}},function(e,t,n){"use strict";var r=n(0);function o(e,t){t.forEach((function(t){t.type.match(/ON[^\S\r\n]DELETE/i)&&(e.onDelete=t.setting),t.type.match(/ON[^\S\r\n]UPDATE/i)&&(e.onUpdate=t.setting)}))}e.exports={makeOnSetting:function(e,t){return{type:e,setting:t.toLowerCase().trim().split(/[ ]+/).join(" ")}},makeColumnConstraintFK:function(e,t,n,r){var u={};return u.endpoint=function(e,t,n){return{tableName:e[e.length-1],fieldNames:t,relation:n}}(t,n,"1"),o(u,r),{type:"inline_refs",value:[u]}},makeTableConstraintFK:function(e,t,n,u,a,i){var s={};return a||((a={type:"endpoint",value:{}}).value.fieldNames=t.value.fieldNames),t.value.relation="*",a.value.relation="1",a.value.tableName=r.last(u),s.endpoints=[t.value,a.value],o(s,i),{type:"refs",value:s}},makeTableEndpoint:function(e){return{type:"endpoint",value:{fieldNames:e}}}}},function(e,t,n){"use strict";function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[];return e.forEach((function(e){o.push({value:e,type:"column"})})),{type:"indexes",value:{name:r,unique:!!t||null,pk:!!n||null,columns:o}}}e.exports={makeTableIndex:function(e,t,n,o,u,a){return r(a,n,null,t)},makeTableConstraintIndex:function(e,t,n){var o=null,u=null;return"pk"===e.type?o=!0:"unique"===e.type&&(u=!0),r(n,u,o)},makeColumnIndex:function(e,t){return{type:"indexes",value:{name:t,columns:[]}}}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports={makeConstraintCheckEnum:function(e,t,n){var r=[];return n.forEach((function(e){r.push({name:e.value.value,token:e.value.token})})),{type:"enums",value:{name:"".concat(e,"_enum"),values:r,fieldName:e}}},makeDefaultConstraint:function(e,t){var n={};if(t.type)switch(t.type){case"string":case"number":case"boolean":n.type=t.type;break;default:n.type="expression"}else n.type="expression";return n.value=t.value,{type:"dbdefault",value:n}},makeTableConstraint:function(e,t){return t?{type:t.type,value:o({},t.value,{name:"indexes"===t.type&&t.value.pk?null:e})}:null}}},function(e,t,n){"use strict";var r=n(0);e.exports={makeColumn:function(e,t,n){var r={};return r[t.type]=t.value,n.forEach((function(e){e&&(r[e.type]=e.value)})),r.name=e[0],r.inline_refs||(r.inline_refs=[]),{type:"fields",value:r}},makeDataType:function(e,t){var n=t?t.join(","):null;return{type:"type",value:{type_name:n?"".concat(r.last(e),"(").concat(n,")"):r.last(e),schemaName:e.length>1?e[0]:null,args:n}}}}},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(4),a=u.pIdentifier,i=u.pKeywordClusteredOrNon,s=u.pConst,c=u.pColumnNames,l=u.pDotDelimitedName,f=u.pComparsionOp,p=n(5),d=p.makeNode,h=p.makeList,v=n(60),b=n(10).pIgnoredIndexOption,m=r.createLanguage({CreateIndex:function(e){return r.seqMap(o.KeywordCreate,o.KeywordUnique.fallback(null),i.fallback(null),o.KeywordIndex,a,o.KeywordOn,l,c,v.makeIndex).thru(d()).skip(e.IgnoredCreateIndexOptions)},IgnoredCreateIndexOptions:function(e){return r.alt(b,e.IncludeIndexOption,e.WhereIndexOption).many()},IncludeIndexOption:function(){return r.seq(o.KeywordInclude,c)},WhereIndexOption:function(e){return r.seq(o.KeywordWhere,e.FilterPredicate)},FilterPredicate:function(e){return r.seq(e.Conjunct,r.seq(o.LogicalOpAnd,e.Conjunct).fallback(null))},Conjunct:function(e){return r.alt(e.Disjunct,e.Comparsion)},Disjunct:function(){return r.seq(a,o.KeywordIn,h(s))},Comparsion:function(){return r.seq(a,f,s)}});e.exports=m.CreateIndex},function(e,t,n){"use strict";e.exports={makeIndex:function(e,t,n,r,o,u,a,i){var s=[];return i.forEach((function(e){s.push({value:e,type:"column"})})),{type:"indexes",value:{name:o,unique:!!t||null,tableName:a[a.length-1],columns:s}}}}},function(e,t,n){"use strict";var r=n(1),o=n(2),u=n(4),a=u.pIdentifier,i=u.pDotDelimitedName,s=n(5),c=s.makeNode,l=s.makeList,f=n(12).pTableConstraint,p=n(10),d=p.pTableIndex,h=p.pIgnoredIndexOption,v=n(24).pColumnsDefinition,b=n(62),m=r.createLanguage({CreateTable:function(e){return r.seqMap(e.CreateTableKeywords,i,e.AsFileTableKeywords.fallback(null),l(e.Line),b.makeTable).thru(c()).skip(e.IgnoredTableOptions)},CreateTableKeywords:function(){return r.seq(o.KeywordCreate,o.KeywordTable)},AsFileTableKeywords:function(){return r.seq(o.KeywordAs,o.KeywordFileTable)},Line:function(e){return r.alt(e.SystemTimeTableOption,f,d,v)},SystemTimeTableOption:function(){return r.seq(o.KeywordPeriodForST,l(a)).result(null)},IgnoredTableOptions:function(e){return r.alt(h,e.TextImageTableOption).many()},TextImageTableOption:function(){return r.seq(o.KeywordTextImage_On,a)}});e.exports=m.CreateTable},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0);e.exports={makeTable:function(e,t,n,r){var u=function(e,t){var n={fields:[],enums:[],refs:[],indexes:[]};return e.forEach((function(e){if(e&&n[e.type]){if("fields"===e.type&&(function(e,t,n){if(t.enums){var r=t.enums,o=t.type;r.name="".concat(n,"_").concat(t.enums.name),o.type_name=r.name,o.args=r.values.map((function(e){return"'".concat(e.name,"'")})).join(", "),e.push(r),t.enums=null}}(n.enums,e.value,t),r=n.indexes,(o=e.value).indexes&&(o.indexes.columns.push({value:o.name,type:"column"}),r.push(o.indexes),o.indexes=null),function(e,t,n,r){if(t&&0!==t.length){var o={},u=t[0];o.onUpdate=u.onUpdate,o.onDelete=u.onDelete,o.endpoints=[],o.endpoints.push({tableName:r,fieldNames:[n],relation:"*"}),u.endpoint.fieldNames||(u.endpoint.fieldNames=o.endpoints[0].fieldNames),o.endpoints.push(u.endpoint),e.push(o)}}(n.refs,e.value.inline_refs,e.value.name,t)),"refs"===e.type)e.value.endpoints[0].tableName=t;n[e.type].push(e.value)}var r,o})),{type:"lines",value:n}}(r,a.last(t));return{type:"tables",value:o({name:a.last(t)},u.value,{schemaName:t.length>1?t[t.length-2]:null})}}}},function(e,t,n){"use strict";var r=n(0);function o(e,t){return e.tables.find((function(e){return e.name===t}))}function u(e,t){return e.fields.find((function(e){return e.name===t}))}function a(e,t){e.forEach((function(e){t.push(e)}))}e.exports={handleStatement:function(e){var t={tables:[],refs:[],indexes:[],enums:[]};return r.flatten(e).forEach((function(e){if(e){switch(e.type){case"tables":!function(e,t){a(e.enums,t.enums),a(e.refs,t.refs),e.enums.forEach((function(e){e.fieldName=null})),e.enums=null,e.refs=null}(e.value,t);break;case"indexes":!function(e,t){o(t,e.tableName).indexes.push(e),e.tableName=null}(e.value,t);break;case"dbdefault":!function(e,t){var n=u(o(t,e.tableName),e.fieldName);e.fieldName=null,e.tableName=null,n.dbdefault=e}(e.value,t);break;case"enums":!function(e,t){var n=u(o(t,e.tableName),e.fieldName);e.name="".concat(e.tableName,"_").concat(e.fieldName,"_enum"),e.fieldName=null,e.tableName=null,n.type.type_name=e.name,n.type.args=e.values.map((function(e){return"'".concat(e.name,"'")})).join(", ")}(e.value,t)}e.type&&t[e.type]&&t[e.type].push(e.value)}})),t.indexes=null,t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(16)),o=u(n(15));function u(e){return e&&e.__esModule?e:{default:e}}var a={import:function(e,t){var n=r.default.parse(e,t);return o.default.export(n.normalize(),"dbml")}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(15)),o=u(n(16));function u(e){return e&&e.__esModule?e:{default:e}}var a={export:function(e,t){var n=o.default.parse(e,"dbml");return r.default.export(n.normalize(),t)}};t.default=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function a(e){try{s(r.next(e))}catch(e){u(e)}}function i(e){try{s(r.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(14),u=n(17),a=n(25),i=n(26),s=n(13);t.default=class{import(){return r(this,void 0,void 0,(function*(){if(!o.window.activeTextEditor)return;const e=o.window.activeTextEditor.document.fileName,t=yield o.window.showQuickPick(Object.values(s.Dialect).slice(0,2),{placeHolder:"Select an input dialect"});if(void 0===t)return;let n=yield o.window.showInputBox({prompt:"Enter an output file",value:this.getDefaultOutput(e)});if(void 0===n)return;if(!i.isAbsolute(n)){n=`${i.dirname(e)}/${n}`}const r=a.readFileSync(e,"utf-8");let c=void 0;switch(t){case s.Dialect.postgres:c=u.importer.import(r,"postgres");break;case s.Dialect.mysql:c=u.importer.import(r,"mysql");break;case s.Dialect.mssql:c=u.importer.import(r,"mssql")}void 0!==c&&""!==c?(a.writeFileSync(n,c),o.window.showInformationMessage("Successfully generated "+n)):o.window.showErrorMessage("Failed to generated DBML file")}))}getDefaultOutput(e){return i.basename(e).replace(/\.sql$/gi,"").concat(".dbml")}}}]);
//# sourceMappingURL=main.js.map